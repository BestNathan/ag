var PCPlaza;!function(i){var r=0,o=[new egret.DropShadowFilter(2,45,16776960,1,3,3)],t=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){this.init()},e.prototype.init=function(){this.initChipHolderMap(),this.initPayoutChipTargetMap(),this.initBetArea()},e.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:case VideoGameCore.Z:case VideoGameCore.Y:this.updateBetArea(),this.blinkBetArea(),this.clearPayoutChip(),this.updateChipHeapAll();break;case VideoGameCore.n:case VideoGameCore.o:this.addChipsSound();case VideoGameCore.f:case VideoGameCore.r:case VideoGameCore.v:this.updateChipHeapByPlayerSlot(this.getMyPlayerSlot());break;case VideoGameCore.G:case VideoGameCore.T:this.updateBetArea(),this.updateChipHeapAll();break;case VideoGameCore.w:this.updateBetArea(),this.blinkBetArea(),this.updateChipHeapAll();break;case VideoGameCore.P:this.handleGameResult(i);break;case VideoGameCore.k:this.handlePayout(i)}},e.prototype.getMyPlayerSlot=function(){return r},e.prototype.initBetArea=function(){var t;if(this.betArea){for(var e=0;e<this.betArea.numChildren;e++)t=this.betArea.getChildAt(e),mouse.setButtonMode(t,!0),t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBetAreaTap,this),t.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onBetAreaRollOver,this),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onBetAreaRollOut,this);this.betArea.visible=!0}this.clearHighlight()},e.prototype.updateBetArea=function(){var t=this.getBetStore();this.betArea&&t&&(this.betArea.touchChildren=t.betEnabled)},e.prototype.addChipsSound=function(){this.betArea.touchChildren&&i.soundAddChips()},e.prototype.onBetAreaRollOver=function(t){this.showHighlight(t.target.name)},e.prototype.onBetAreaRollOut=function(t){this.clearHighlight()},e.prototype.clearHighlight=function(){this.clearHighlightOfBetArea(this.betArea)},e.prototype.clearHighlightOfBetArea=function(t){if(t)for(var e=t.numChildren,i=void 0,r=0;e>r;r++)i=t.getChildAt(r),i.alpha=0},e.prototype.showHighlight=function(t){void 0===t&&(t=0);for(var e,i=this.betArea.numChildren,r=0;i>r;r++)e=this.betArea.getChildAt(r),e.alpha=e.name===t+""?1:0},e.prototype.initChipHolderMap=function(){this.chipHolderMapPlayType=new Core.HashMap;var n=this.getChipHolderGroup();if(n)for(var t=function(t){var e=n.getChildAt(t);if(o.isValidChipHolder(e)){var i=e.name,r=o.chipHolderMapPlayType.get(i);r||(r=new Core.HashMap,o.chipHolderMapPlayType.set(i,r));var s=o.extractChildChipHolder(e);s&&s.length?s.forEach(function(t){r.set(t.name,t)}):r.set(o.getMyPlayerSlot(),e)}},o=this,e=0;e<n.numChildren;e++)t(e);this.chipHolderMapPlayerSlot=this.invertChildHolderMap(this.chipHolderMapPlayType)},e.prototype.isValidChipHolder=function(t){return t&&t.name&&""!=t.name},e.prototype.extractChildChipHolder=function(t){var e;if(t&&t.numChildren)for(var i=0;i<t.numChildren;i++){var r=t.getChildAt(i);this.isValidChipHolder(r)&&(e||(e=[]),e.push(r))}return e},e.prototype.invertChildHolderMap=function(t){var s=new Core.HashMap;return t&&t.forEach(function(t,r){t.forEach(function(t,e){var i=s.get(e);i||(i=new Core.HashMap,s.set(e,i)),i.set(r,t)})}),s},e.prototype.getChipHolderGroup=function(){return this.chipHolderGroup},e.prototype.getChipHolder=function(t,e){void 0===e&&(e=this.getMyPlayerSlot());var i;return this.chipHolderMapPlayType.has(t)&&(i=this.chipHolderMapPlayType.get(t).get(e)),i},e.prototype.getChipHeap=function(t,e){void 0===e&&(e=this.getMyPlayerSlot());var i=this.getChipHolder(t,e);return this.getChipHeapFromChipHolder(i)},e.prototype.getChipHeapFromChipHolder=function(t){var e=null;return t&&t.numChildren&&(e=t.getChildAt(0)),e},e.prototype.addChipHeapToChipHolder=function(t,e){t&&e&&t.addChild(e)},e.prototype.updateChipHeap=function(t,e){void 0===e&&(e=this.getMyPlayerSlot());var i,r,s,n;this.getBetStore()&&(i=this.getChipHolder(t,e),i&&(s=e==this.getMyPlayerSlot(),n=this.getAmount(t,e),0>=n?i.visible=!1:(r=this.getChipHeapFromChipHolder(i),r||(r=this.createNewChipHeap(s,e),this.addChipHeapToChipHolder(i,r)),this.setChipCurrency(r,e),r.setAmount(n),r.filters=s&&this.getUnconfirmedAmount(t)<=0?o:null,r.visible=!0,i.visible=!0)))},e.prototype.setChipCurrency=function(t,e){},e.prototype.updateChipHeapByPlayerSlot=function(e){var i=this;if(void 0===e&&(e=this.getMyPlayerSlot()),this.chipHolderMapPlayerSlot.has(e)){var t=this.chipHolderMapPlayerSlot.get(e);t.keys.forEach(function(t){i.updateChipHeap(t,e)})}},e.prototype.updateChipHeapAll=function(){var e=this;this.chipHolderMapPlayerSlot.keys.forEach(function(t){e.updateChipHeapByPlayerSlot(t)})},e.prototype.initPayoutChipTargetMap=function(){this.payoutChipTargetMap=new Core.HashMap;var t=this.getPayoutChipTargetGroup();if(t&&t.numChildren)for(var e=0;e<t.numChildren;e++){var i=t.getChildAt(e);this.isValidChipHolder(i)&&this.payoutChipTargetMap.set(i.name,i)}else this.payoutChipTargetMap.set(this.getMyPlayerSlot(),t)},e.prototype.getPayoutChipTargetGroup=function(){return this.payoutChipTargetGroup},e.prototype.getPayoutChipTarget=function(t){return void 0===t&&(t=this.getMyPlayerSlot()),this.payoutChipTargetMap.get(t)},e.prototype.getPayoutChipHolder=function(){return this.payoutChipHolder},e.prototype.createPayoutChipHeap=function(t){return void 0===t&&(t=this.getMyPlayerSlot()),this.createNewChipHeap(!1,t)},e.prototype.showPayout=function(t,e){var i=this;void 0===e&&(e=this.getMyPlayerSlot());var r,s;t&&t.forEach(function(t){s=i.getChipHeapByPayout(t,e),r=t.value<0?i.payoutChipTargetDealer:i.getPayoutChipTarget(e),i.tweenChipHeapToEndTarget(s,r,t.value,t.value>0?-18:0)})},e.prototype.tweenChipHeapToEndTarget=function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var s,n,o,a=1;if(null!=this.stage&&t&&null!=t.stage&&t&&e){var h=this.getPayoutChipHolder();if(i>0&&h){var u=this.createPayoutChipHeap(this.getMyPlayerSlot());if(h.addChild(u),u.setAmount(i),this.payoutChipTargetDealer){var c=this.payoutChipTargetDealer.parent.localToGlobal(this.payoutChipTargetDealer.x,this.payoutChipTargetDealer.y);c=h.globalToLocal(c.x,c.y),u.x=c.x,u.y=c.y}s=u,n=t.parent.localToGlobal(t.x,t.y),n=u.parent.globalToLocal(n.x,n.y),o=function(){this.tweenChipHeapToEndTarget(u,e,0,r),this.tweenChipHeapToEndTarget(t,e)}}else s=t,n=e.parent.localToGlobal(e.x,e.y),n=t.parent.globalToLocal(n.x,n.y),a=0>i?0:1,o=function(){this.tweenChipHeapComplete(t,0>i&&0==r,0==i)};egret.Tween.get(s).to({x:n.x,y:n.y+r,alpha:a},VideoGameCore.TIMEOUT.TWEEN,egret.Ease.cubicOut).wait(500).call(o,this)}},e.prototype.tweenChipHeapComplete=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),t&&(egret.Tween.removeTweens(t),e&&(t.x=0,t.y=0),t.visible=i,t.alpha=1)},e.prototype.clearPayoutChip=function(){this.removePayoutChip(),this.resetChipHeap()},e.prototype.removePayoutChip=function(){var t=this.getPayoutChipHolder();if(t)for(var e;t.numChildren>0;)e=t.getChildAt(0),this.tweenChipHeapComplete(e),t.removeChild(e),e=null},e.prototype.resetChipHeap=function(){var i=this;this.chipHolderMapPlayType.forEach(function(t){t.forEach(function(t){var e=i.getChipHeapFromChipHolder(t);e&&i.tweenChipHeapComplete(e)})})},e.prototype.handleGameResult=function(t){this.blinkBetArea(this.getResultBlinkList(t))},e.prototype.blinkBetAreaTween=function(t,e){void 0===e&&(e=!1);var i=e?1:0,r=e?0:1;t.alpha=i,egret.Tween.get(t).to({alpha:r},VideoGameCore.TIMEOUT.TWEEN).call(function(){this.blinkBetAreaTween(t,!e)},this)},e.prototype.blinkBetArea=function(t){if(void 0===t&&(t=null),null!=this.betArea)for(var e,i=0;i<this.betArea.numChildren;i++)e=this.betArea.getChildAt(i),null!=t&&(t.indexOf(e.name)>=0||t.indexOf(Number(e.name))>=0)?(e.alpha=1,this.blinkBetAreaTween(e,!0)):(egret.Tween.removeTweens(e),e.alpha=0)},e}(Core.StoreView);i.BetTableBase=t,__reflect(t.prototype,"PCPlaza.BetTableBase")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onBetAreaTap=function(t){var e=this.getBetStore();e&&e.addChipByPlayType(Number(t.target.name))},e.prototype.getChipHeapByPayout=function(t,e){return void 0===e&&(e=this.getMyPlayerSlot()),this.getChipHeap(t.playtype,e)},e.prototype.handlePayout=function(t){null!=t&&null!=t.payouts&&this.showPayout(t.payouts)},e.prototype.getChipHeapFromPayout=function(t,e){return void 0===e&&(e=this.getMyPlayerSlot()),t?this.getChipHeap(t.playtype,e):null},e}(t.BetTableBase);t.BetTableCommon=e,__reflect(e.prototype,"PCPlaza.BetTableCommon")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(i){function t(){var t=i.call(this)||this;return t.skinName="PCPlaza.GameNavBarSkin",t}return __extends(t,i),t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBackBtnClick,this),this.serviceBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onServiceBtnClick,this),this.settingBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSettingBtnClick,this),this.fullScreenBtn&&this.fullScreenBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onFullScreenBtnClick,this),this.infoBtn&&this.infoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onInfoBtnClick,this),this.serviceListGrp.addEventListener(Core.EVENT_TOUCH_OUTSIDE,this.onTouchOutsideServiceList,this);var t=[],e=this.getServices();e.cs&&t.push({nameKey:"PCPlaza.nav.service_contacts",icon:"nav_asset_json.subPanel_service"}),e.record&&t.push({nameKey:"PCPlaza.nav.service_records",icon:"nav_asset_json.subPanel_record"}),e.rules&&t.push({nameKey:"PCPlaza.nav.service_rules",icon:"nav_asset_json.subPanel_rules"}),e.password&&t.push({nameKey:"PCPlaza.nav.service_password",icon:"nav_asset_json.subPanel_password"}),this.serviceList.dataProvider=new eui.ArrayCollection(t),this.serviceList.itemRenderer=r.ServiceTabBtn,this.serviceList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onServiceItemTap,this),0==VideoGameCore.PCPlazaConfig.instance.showFullScreenIcon&&this.fullScreenBtn.parent.removeChild(this.fullScreenBtn)},t.prototype.getServices=function(){return VideoGameCore.PCPlazaConfig.instance.services},t.prototype.onTouchOutsideServiceList=function(){this.serviceBtn.getTransformedBounds(this.serviceBtn.stage).containsPoint(this.serviceListGrp.touchPoint)||(this.serviceListGrp.visible=!1)},t.prototype.fullScreenChange=function(){this.fullScreenBtn&&(r.RootPageStore.instance.isFullScreen?(this.fullScreenBtn.mouseLocaleKey="PCPlaza.nav.window",this.fullScreenBtn.skinName='<?xml version="1.0" encoding="utf-8" ?><e:Skin states="up,down,disabled" xmlns:e="http://ns.egret.com/eui"><e:Image width="100%" height="100%" source="nav_asset_json.windowed" source.down="nav_asset_json.windowed_over"/><e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/> </e:Skin>'):(this.fullScreenBtn.mouseLocaleKey="PCPlaza.nav.full_screen",this.fullScreenBtn.skinName='<?xml version="1.0" encoding="utf-8" ?><e:Skin states="up,down,disabled" xmlns:e="http://ns.egret.com/eui"><e:Image width="100%" height="100%" source="nav_asset_json.full_screen" source.down="nav_asset_json.full_screen_over"/><e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/> </e:Skin>'),this.fullScreenBtn.refresh())},t.prototype.onBackBtnClick=function(){r.RootPageStore.instance.backLobby()},t.prototype.onServiceBtnClick=function(){if(this.serviceListGrp.visible)this.serviceListGrp.visible=!1;else{var e=28;r.ServiceTabBtn.textLabels.forEach(function(t){t&&t.size<e&&(e=t.size)},this),r.ServiceTabBtn.textLabels.forEach(function(t){t&&(t.size=e)},this),this.serviceListGrp.visible=!0,this.serviceList.selectedIndex=-1}},t.prototype.onServiceItemTap=function(t){r.RootPageStore.instance.onServiceItemTap(t.itemRenderer.data.nameKey),this.serviceListGrp.visible=!1},t.prototype.onSettingBtnClick=function(){Core.pageNavigator.getTopPage().hasPopup(r.SettingPopup)||Core.pageNavigator.getTopPage().addPopup(new r.SettingPopup(""),!0)},t.prototype.onFullScreenBtnClick=function(){r.RootPageStore.instance.toggleFullScreen()},t.prototype.getStoreList=function(){return[r.RootPageStore.instance,Core.globalStore]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.serviceListGrp.visible=!1,this.fullScreenChange();break;case r.tt:this.fullScreenChange();break;case r.et:this.openInfo()}},t.prototype.initInfoPanel=function(){this.infoPanel||(this.infoPanel=this.createInfoPanel(),this.infoPanel.horizontalCenter=0,this.infoPanel.verticalCenter=0)},t.prototype.openInfo=function(){this.initInfoPanel(),this.infoPanel&&null===this.infoPanel.parent&&this.addChildToFrontLayer(this.infoPanel)},t.prototype.onInfoBtnClick=function(){this.initInfoPanel(),this.infoPanel&&(null===this.infoPanel.parent?this.openInfo():this.infoPanel.close())},t.prototype.addChildToFrontLayer=function(t){this.frontLayerGroup||(this.frontLayerGroup=new eui.Group,this.frontLayerGroup.width=this.parent.width,this.frontLayerGroup.height=this.parent.height,this.frontLayerGroup.touchEnabled=!1,this.parent.addChildAt(this.frontLayerGroup,this.parent.getChildIndex(this)+1)),this.frontLayerGroup.addChild(t)},t.prototype.createInfoPanel=function(){return null},t}(Core.StoreView);r.GameNavBarBase=t,__reflect(t.prototype,"PCPlaza.GameNavBarBase")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(i){function t(t){var e=i.call(this)||this;return e.isBetInGame=!1,e.vid=t.vid,e.roomItemStore=t,e.skinName="PCPlaza.TableItemSkin",e}return __extends(t,i),t.prototype.childrenCreated=function(){var t=this;i.prototype.childrenCreated.call(this),this.positionGrp.visible=!1,this.timer.text="0",this.timer.textColor=16711680,this.roomStatusGrp.visible=!1,this.tableName.localeFunc=function(){return t.roomItemStore.getRoomName()},this.setupRoadPaper(),this.getTouchGrp=new eui.Group,this.getTouchGrp.width=this.width,this.getTouchGrp.height=this.height,this.addChildAt(this.getTouchGrp,this.getChildIndex(this.optionsGrp)-1),this.getTouchGrp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.tapOnTableItem,this),this.getTouchGrp.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.shinning,this),this.getTouchGrp.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.shinningEnd,this),mouse.setButtonMode(this.getTouchGrp,!0)},t.prototype.checkSameViewData=function(t){return this.roomItemStore.vid===t.vid},t.prototype.getStoreList=function(){return[this.roomItemStore,VideoGameCore.VideoPlazaStore.instance,VideoGameCore.PlazaRoadStore.instance,Core.LocalizeStore.instance,Core.globalStore]},t.prototype.onStoreChange=function(t,e,i){switch(e){case VideoGameCore.G:this.isBetInGame=!0;break;case VideoGameCore.g:case VideoGameCore.z:case VideoGameCore.Z:case VideoGameCore.it:this.isBetInGame=!1}t instanceof VideoGameCore.RoomItemStore?this.onTimerChange():e===Core.t?(this.onTimerChange(),this.updateRoomStatus(),this.refreshTable(),this.updatePosition()):e===VideoGameCore.rt?r.switchTableIsOpen()&&this.refreshTable():e===VideoGameCore.st?this.updateRoomStatus():e===Core.q&&this.refreshTable()},t.prototype.shinning=function(){this.roadMapBg.visible=!0},t.prototype.shinningEnd=function(){this.roadMapBg.visible=!1},t.prototype.tapOnTableItem=function(){if(this.vid!==r.RootPageStore.instance.vid){var t=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.vid),e=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(t.platformtype,this.vid);e||(this.isBetInGame?Core.globalStore.dispatchGlobal(r.nt):r.RootPageStore.instance.enterGameByVid(this.vid))}},t.prototype.updateRoomStatus=function(){var t=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.vid),e=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(t.platformtype,this.vid),i=VideoGameCore.PlazaRoadStore.instance.getVideoStatusInfo(this.vid);if(null!=i){var r=11==i.status;this.roomStatusGrp.visible=r,r&&(this.roomStatus.localeKey="PCPlaza.room.shuffle",this.roomStatus.refresh())}e&&(this.roomStatusGrp.visible=e,this.roomStatus.localeKey=Core.LocalizeStore.instance.translate("PCPlaza.room.maintain"),this.roomStatus.refresh())},t.prototype.onTimerChange=function(){this.timer.text=this.roomItemStore.timeout+"",this.timer.textColor=this.roomItemStore.timeout<=10?16711680:14327918},t.prototype.updatePosition=function(){this.vid===r.RootPageStore.instance.vid?(this.positionLabel.localeKey="PCPlaza.nav.here",this.positionGrp.visible=!0):(this.positionLabel.localeKey="",this.positionGrp.visible=!1)},t}(Core.StoreView);r.TableItem=t,__reflect(t.prototype,"PCPlaza.TableItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(t){var e=i.call(this)||this;return e.roomItemStore=t,e.vid=t.vid,e}return __extends(t,i),t.prototype.onAddToStage=function(){i.prototype.onAddToStage.call(this),this.onAddToStageDo()},t.prototype.onAddToStageDo=function(){if(mouse.setButtonMode(this.roadMapArea,!0),mouse.setButtonMode(this.dealerArea,!0),this.roadMapArea.touchChildren=!1,this.dealerArea.touchChildren=!1,this.roadMapArea.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOverRoad,this),this.roadMapArea.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOutRoad,this),this.roadMapArea.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRoadMapTap,this),this.enterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGameTap,this),this.dealerArea.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGameTap,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapStage,this),VideoGameCore.PCPlazaConfig.instance.showTtlPpl){var t=Core.LocalizeStore.instance.translate("PCPlaza.room.more_info");this.totalPlayerLbl&&(Core.MouseTips.instance.registerMouseTip(this.totalPlayerLbl,t),this.totalPlayerLbl.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapTotalPlayer,this)),this.lblPlayerTitle&&(Core.MouseTips.instance.registerMouseTip(this.lblPlayerTitle,t),this.lblPlayerTitle.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapTotalPlayer,this))}},t.prototype.onRemoveFromStage=function(){i.prototype.onRemoveFromStage.call(this),mouse.setButtonMode(this.roadMapArea,!1),mouse.setButtonMode(this.dealerArea,!1),this.roadMapArea.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOverRoad,this),this.roadMapArea.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOutRoad,this),this.roadMapArea.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onRoadMapTap,this),this.enterBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGameTap,this),this.dealerArea.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGameTap,this)},t.prototype.onMouseOverRoad=function(){this.roadMapBg.strokeWeight=3},t.prototype.onMouseOutRoad=function(){this.roadMapBg.strokeWeight=0},t.prototype.checkSameViewData=function(t){return this.roomItemStore.vid===t.vid},t.prototype.getStoreList=function(){return[this.roomItemStore,VideoGameCore.VideoPlazaStore.instance,VideoGameCore.PlazaRoadStore.instance,Core.LocalizeStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.updateRoomName(),this.updateDealerInfo(),this.updateTimer(),this.setupRoadPaper(),this.updateRoadPaper(),this.updateStatistics(),this.checkMaintain();break;case Core.q:this.updateRoomName(),this.checkMaintain(),this.updateRoadPaper(),this.updateLblPlayerTitle();break;case VideoGameCore.rt:i&&i!==this.vid||this.updateRoadPaper();break;case VideoGameCore.st:i&&i!==this.vid||(this.updateDealerInfo(),this.updateStatistics(),this.checkMaintain());break;case VideoGameCore.le:this.nameListPanel.updateOnlinePlayerList(i)}t===this.roomItemStore&&this.updateTimer()},t.prototype.updateLblPlayerTitle=function(){Core.MouseTips.instance.unregisterMouseTip(this.totalPlayerLbl),Core.MouseTips.instance.unregisterMouseTip(this.lblPlayerTitle);var t=Core.LocalizeStore.instance.translate("PCPlaza.room.more_info");Core.MouseTips.instance.registerMouseTip(this.totalPlayerLbl,t),this.lblPlayerTitle&&Core.MouseTips.instance.registerMouseTip(this.lblPlayerTitle,t)},t.prototype.updateRoomName=function(){this.roomName.localeKey=this.roomItemStore.getRoomName()},t.prototype.updateDealerInfo=function(){var t=VideoGameCore.VideoPlazaStore.instance.getDealerInfo(this.vid);if(t){this.dealerName.text=t.name;var e=t.getPhotoUrl(this.roomItemStore.gmtype,this.roomItemStore.platform);""===e&&(e="nav_asset_json.lobby_dealer_loading"),e!==this.dealerImage.source&&(this.dealerImage.source=e)}},t.prototype.updateTimer=function(){if(this.timerLabel){var t=this.roomItemStore.timeout;10>=t?this.timerLabel.textColor=16711680:this.timerLabel.textColor=14403245,this.timerLabel.text=""+t}},t.prototype.onRoadMapTap=function(){this.enterBtn.enabled&&this.onEnterGameTap()},t.prototype.updateStatistics=function(){var t=VideoGameCore.PlazaRoadStore.instance.getRealtimeInfo(this.vid);t&&(this.betAmountLabel&&t.sum_amount>=0?this.betAmountLabel.text=Core.getStringShortNum(t.sum_amount):this.betAmountLabel.text="0",this.totalPlayerLbl?this.totalPlayerLbl.text=""+t.num:this.totalPlayerLbl.text="0")},t.prototype.checkMaintain=function(){var t=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.vid),e=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(t.platformtype,this.vid);this.isMaintaining=e;var i=VideoGameCore.PlazaRoadStore.instance.getVideoStatusInfo(this.vid);if(null!=i){var r=11==i.status;this.msgGrp.visible=r,r&&(this.lblPopupMsg.text=Core.LocalizeStore.instance.translate("PCPlaza.room.shuffle"))}e?(this.msgGrp.visible=e,this.lblPopupMsg.text=Core.LocalizeStore.instance.translate("PCPlaza.room.maintain"),this.enterBtn.enabled=!1,this.enterBtn.touchEnabled=!1):(this.enterBtn.enabled=!0,this.enterBtn.touchEnabled=!0),this.updateBtnStatus()},t.prototype.updateBtnStatus=function(){VideoGameCore.setDark(this.enterBtn,!this.enterBtn.enabled)},t.prototype.onTapTotalPlayer=function(){this.nameListPanel&&!this.nameListPanel.visible&&VideoGameCore.VideoPlazaStore.instance.requestOnlinePlayerList(this.vid),this.nameListPanel&&(this.nameListPanel.visible=!this.nameListPanel.visible)},t.prototype.onTapStage=function(t){if(this.nameListPanel){var e=t.target;e==this.totalPlayerLbl||e==this.lblPlayerTitle||e==this.nameListPanel||this.nameListPanel.contains(e)||(this.nameListPanel.visible=!1)}},t}(Core.StoreView);t.RoomItemViewBase=e,__reflect(e.prototype,"PCPlaza.RoomItemViewBase")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(e){function t(){var t=e.call(this)||this;return t.index=0,t.msgSetIndex=0,t.skinName="PCPlaza.LangDropdownMenuSkin",t.listScroller.scrollPolicyH=eui.ScrollPolicy.OFF,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.onInit(),this.initItemList(),this.updateText()},t.prototype.onInit=function(){this.currentItem=new r.LangDropdownMenuItem,this.currentItem.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTapCurrentItem,this),this.addChild(this.currentItem),this.listScroller.visible=!1,this.listScroller.throwSpeed=.5,this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.onRemoveFromStage=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.initItemList=function(){this.selectItemList=new Array;for(var t=this.getLanguageArray(),e=0;e<t.length;e++){var i=new r.LangDropdownMenuItem;i.index=e,i.y=40*e+39,i.skin.currentState="down",i.visible=!1,this.selectItemList.push(i),i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTapItem,this),i.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOverItem,this),i.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOverItem,this),this.listContainer.addChild(i)}},t.prototype.onTouchTapCurrentItem=function(){this.touchEnabled&&(this.showSelectList(),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this))},t.prototype.onTouchTap=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this),this.hideSelectList()},t.prototype.onTouchTapItem=function(t){var e=t.currentTarget;this.setIndex(e.index,!0)},t.prototype.onRollOverItem=function(t){for(var e=t.currentTarget,i=0;i<this.selectItemList.length;i++){var r=this.selectItemList[i];t.type==mouse.MouseEvent.MOUSE_OVER&&e.index==i?r.skin.currentState="select":r.skin.currentState="down"}},t.prototype.setMsgList2=function(t){if(void 0!=this.selectItemList){var e=this.getLanguageArray();if(0==t)for(var i=0;i<e.length;i++){var r=this.selectItemList[i];r&&(r.lblMsg.text=Core.LocalizeStore.instance.translate("PCPlaza.setting."+e[i]),r.imgFlag.source="flag_json."+this.updateImgSource(e[i]))}else if(1==t){e=this.getSoundLanguageArray();for(var i=0;i<e.length;i++){var r=this.selectItemList[i];r&&(r.lblMsg.text=Core.LocalizeStore.instance.translate("PCPlaza.setting.lang_"+e[i]),r.imgFlag.source="flag_json."+this.updateImgSource(e[i]))}}}},t.prototype.hideSelectList=function(){if(null!=this.selectItemList){for(var t=0;t<this.selectItemList.length;t++){var e=this.selectItemList[t];e.visible=!1}this.listScroller.visible=!1}},t.prototype.showSelectList=function(){var t=this.getLanguageArray();if(null!=this.selectItemList){for(var e=0;e<t.length;e++){var i=this.selectItemList[e];i&&(i.visible=!0)}this.listScroller.visible=!0}},t.prototype.setIndex=function(t,e){if(void 0===e&&(e=!1),this.index=t,void 0!=this.selectItemList){var i=this.getLanguageArray();t=Math.max(0,Math.min(i.length,t));var r=this.selectItemList[t];r&&(this.currentItem.imgFlag.source=r.imgFlag.source,this.currentItem.lblMsg.text=r.lblMsg.text),e&&this.dispatchEvent(new egret.Event(egret.Event.CHANGE))}},t.prototype.setEnable=function(t){this.touchEnabled=t,this.hideSelectList(),null!=this.currentItem&&(this.currentItem.visible=t)},t.prototype.updateText=function(){this.setMsgList2(this.msgSetIndex),this.setIndex(this.index)},t.prototype.updateImgSource=function(t){switch(t){case Core.LANG_HANS:return"CNY";case Core.LANG_HANT:return"HKD";case Core.LANG_EN:return"GBP";case Core.LANG_KO:return"KER";case Core.LANG_JA:return"JPY";case Core.LANG_TH:return"THB";case Core.LANG_ID:return"IDR";case Core.LANG_VI:return"VND";case Core.LANG_KM:return"KM";case Core.LANG_PT:return"PT"}},t.prototype.getLanguageArray=function(){if(VideoGameCore.VideoPlazaStore.instance.langList)return VideoGameCore.VideoPlazaStore.instance.langList;var t=VideoGameCore.VideoPlazaStore.instance.currencyCode;return VideoGameCore.CurrencyLangConfig.instance.getLangByCurrency(t)},t.prototype.getSoundLanguageArray=function(){var t,e=[];if(VideoGameCore.VideoPlazaStore.instance.langList)t=VideoGameCore.VideoPlazaStore.instance.langList;else{var i=VideoGameCore.VideoPlazaStore.instance.currencyCode;t=VideoGameCore.CurrencyLangConfig.instance.getLangByCurrency(i)}for(var r=0;r<t.length;r++)-1!=Core.LANG_SOUND_SUPPORTED.indexOf(t[r])&&e.push(t[r]);return e},t}(eui.Component);r.LangDropdownMenu=t,__reflect(t.prototype,"PCPlaza.LangDropdownMenu",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(e){function t(){var t=e.call(this)||this;return t._index=0,t.langKey="",t.skinName="PCPlaza.PlatformDropdownMenuSkin",t.init(),t}return __extends(t,e),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.currentItem=new r.PlatformDropdownMenuItem,this.currentItem.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dropDownMenu,this),this.addChild(this.currentItem),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.onRemoveFromStage=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.dropDownMenu=function(){if(this.touchEnabled){if(this.itemList)for(var t=0;t<this.itemList.length;t++){var e=this.itemList[t];e.visible=!0}this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this)}},t.prototype.onTouchTap=function(){if(this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this),this.itemList)for(var t=0;t<this.itemList.length;t++){var e=this.itemList[t];e.visible=!1}},t.prototype.onTouchTapItem=function(t){var e=t.currentTarget;this.setIndex(e.index)},t.prototype.onRollOverItem=function(t){for(var e=t.currentTarget,i=0;i<this.itemList.length;i++){var r=this.itemList[i];t.type==mouse.MouseEvent.MOUSE_OVER&&e.index==i?r.skin.currentState="select":r.skin.currentState="down"}},t.prototype.setIndex=function(t){var e=this;if(this.itemList){t=Math.max(0,Math.min(this.itemList.length,t));this.itemList[t];this.currentItem.lblMsg.localeFunc=function(){return t+1+"."+Core.LocalizeStore.instance.translate(e.langKey+"."+t)},this.currentItem.lblMsg.refresh()}else t=-1;this.index=t},t.prototype.itemCreator=function(t){var e=this,i=new r.PlatformDropdownMenuItem;return i.lblMsg.localeFunc=function(){return t+1+"."+Core.LocalizeStore.instance.translate(e.langKey+"."+t)},i.lblMsg.refresh(),i},t.prototype.setItemList=function(t,e){this.langKey=e,this.itemList=new Array;for(var i=0;t+1>i;i++){var r=this.itemCreator(i);this.itemList.push(r)}for(var i=0;i<this.itemList.length;i++){var r=this.itemList[i];r.index=i,r.y=30*i+29,r.skin.currentState="down",r.visible=!1,r.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTapItem,this),r.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOverItem,this),r.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOverItem,this),this.addChild(r)}this.setIndex(0)},t}(eui.Component);r.PlatformDropdownMenu=t,__reflect(t.prototype,"PCPlaza.PlatformDropdownMenu",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){i.MAX_SIGNAL=4;var t=function(e){function t(){var t=e.call(this)||this;return t.rootId=VideoGameCore.DEFAULT_ROOT_ID,t.isShowLine=!0,t.skinName="PCPlaza.VideoControlSkin",t}return __extends(t,e),t.prototype.getStoreList=function(){return[Core.LocalizeStore.instance,VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId)]},t.prototype.onAddToStage=function(){e.prototype.onAddToStage.call(this),this.videoLineList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onSelectLine,this),this.videoLineList.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.dotMouseOver,this),this.videoLineList.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.dotMouseOut,this),this.resolutionList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onSelectResolution,this),this.resolutionList.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.dotMouseOver,this),this.resolutionList.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.dotMouseOut,this),this.openBtn.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.openBtnMouseOver,this),this.openBtn.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.openBtnMouseOut,this),this.openBtn.addEventListener(egret.Event.CHANGE,this.onOpenChange,this),this.videoLineList.selectedIndex<0&&(this.videoLineList.selectedIndex=0),mouse.setButtonMode(this.openBtn,!0),this.openBtn.visible=this.openBtn.visible&&VideoGameCore.PCGameConfig.instance.videoConfig.toggleControl},t.prototype.dotMouseOver=function(t){this.changeCursor(t);var e=t.target;if(e instanceof eui.Group!=0){if(t.target.getChildByName("lineBtn"))var i=t.target.getChildByName("lineBtn");i&&"nav_asset_json.signal_normal"===i.source&&(i.source="nav_asset_json.signal_normal_hover")}},t.prototype.dotMouseOut=function(t){var e=t.target;if(e instanceof eui.Group!=0){if(t.target.getChildByName("lineBtn"))var i=t.target.getChildByName("lineBtn");i&&"nav_asset_json.signal_normal_hover"===i.source&&(i.source="nav_asset_json.signal_normal")}},t.prototype.changeCursor=function(t){mouse.setButtonMode(t.target,!0)},t.prototype.onRemoveFromStage=function(){e.prototype.onRemoveFromStage.call(this),this.videoLineList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onSelectLine,this),this.videoLineList.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.dotMouseOver,this),this.videoLineList.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.dotMouseOut,this),this.resolutionList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onSelectResolution,this),this.resolutionList.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.dotMouseOut,this),this.resolutionList.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.dotMouseOut,this),this.openBtn.removeEventListener(egret.Event.CHANGE,this.onOpenChange,this)},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.videoLineData=new eui.ArrayCollection([]),this.videoLineList.dataProvider=this.videoLineData,this.updateResolutionText(),this.updateLines(),this.resolutionList.selectedIndex=VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId).isHD?0:1,this.setSignal(VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId).signal),this.openBtn.selected=VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId).isOpen;break;case Core.q:this.updateResolutionText();break;case VideoGameCore.R:this.updateLines(),this.videoLineList.selectedIndex<0&&(this.videoLineList.selectedIndex=0);break;case VideoGameCore.me:this.setSignal(VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId).signal)}},t.prototype.updateLines=function(){for(var t=VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId).getNumberOfLine(),e=[],i=0;t>i;i++)e.push((i+1).toString());this.videoLineData&&this.videoLineList&&(this.videoLineData.replaceAll(e),this.videoLineList.selectedIndex=VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId).line,this.videoLineList.visible=this.isShowLine?e.length>1:!1)},t.prototype.onSelectLine=function(t){console.error(this.videoLineList.getChildAt(0)),VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId).line=this.videoLineList.selectedIndex},t.prototype.onSelectResolution=function(t){VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId).isHD=0===this.resolutionList.selectedIndex},t.prototype.onOpenChange=function(t){VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId).isOpen=this.openBtn.selected},t.prototype.openBtnMouseOver=function(){this.openBtn.selected?(this.openBtn.getChildByName("settingOn").visible=!1,this.openBtn.getChildByName("settingOnHover").visible=!0):(this.openBtn.getChildByName("settingOff").visible=!1,this.openBtn.getChildByName("settingOffHover").visible=!0)},t.prototype.openBtnMouseOut=function(){this.openBtn.selected?(this.openBtn.getChildByName("settingOn").visible=!0,this.openBtn.getChildByName("settingOnHover").visible=!1):(this.openBtn.getChildByName("settingOff").visible=!0,this.openBtn.getChildByName("settingOffHover").visible=!1)},t.prototype.updateResolutionText=function(){var t=[Core.LocalizeStore.instance.translate("PCPlaza.video.high"),Core.LocalizeStore.instance.translate("PCPlaza.video.low")];this.resolutionList.dataProvider=new eui.ArrayCollection(t)},t.prototype.setSignal=function(t){void 0===t&&(t=0),t=Math.max(1,Math.min(t,i.MAX_SIGNAL)),this.imgSignal.skin.currentState=t.toString()},t.prototype.setRootId=function(t){this.rootId=t},t.prototype.showLine=function(t){this.isShowLine=t},t}(Core.StoreView);i.VideoControl=t,__reflect(t.prototype,"PCPlaza.VideoControl")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e;!function(t){t.BUTTON_REPEAT_ID="btnRepeat",t.BUTTON_CONFIRM_ID="btnConfirm",t.BUTTON_CANCEL_ID="btnCancel",t.SHOW_ALWAYS=0,t.SHOW_ON_BET_ENABLED=1,t.SHOW_ON_CONFIRM_ENABLED=2}(e=t.BetButtonBase||(t.BetButtonBase={}))}(PCPlaza||(PCPlaza={})),function(o){var a=2e3,e=1e3,t=function(i){function t(){var t=i.call(this)||this;return t.showType=o.BetButtonBase.SHOW_ON_BET_ENABLED,t.confirmBtnFlash=!0,t.flashTimer=-1,t.largerBetButtonsX=[0,143.25,286],t.skinName="PCPlaza.BetButtonsSkin",t}return __extends(t,i),t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this);for(var t,e=0;e<this.numChildren;e++)t=this.getChildAt(e),t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnHandler,this)},t.prototype.onRemoveFromStage=function(){i.prototype.onRemoveFromStage.call(this),this.stopFlashConfirmBtn()},t.prototype.setShowType=function(t){switch(t){case o.BetButtonBase.SHOW_ALWAYS:case o.BetButtonBase.SHOW_ON_BET_ENABLED:case o.BetButtonBase.SHOW_ON_CONFIRM_ENABLED:this.showType=t}},t.prototype.setButtonVisible=function(t,e){var i=this.getChildByName(t);i&&(i.visible=e)},t.prototype.onBtnHandler=function(t){var e=this.getBetTableStore();if(e)switch(t.target.name){case o.BetButtonBase.BUTTON_REPEAT_ID:e.repeatBet();break;case o.BetButtonBase.BUTTON_CONFIRM_ID:e.confirmBet();var i=t.target;i.enabled=!1;break;case o.BetButtonBase.BUTTON_CANCEL_ID:e.cancelBet()}},t.prototype.updateBtnsButtonMode=function(){var t=this.getBetTableStore();if(t)for(var e,i=0;i<this.numChildren;i++)switch(e=this.getChildAt(i),e.name){case o.BetButtonBase.BUTTON_REPEAT_ID:e.enabled=t.repeatEnabled;break;case o.BetButtonBase.BUTTON_CONFIRM_ID:var r=t.confirmEnabled,s=this.confirmBtnFlash&&r&&e.enabled!=r;if(e.enabled=t.confirmEnabled,s){this.stopFlashConfirmBtn();var n=this.getConfirmBtnFlashLayer();n&&(this.flashTimer=Core.NonstopTimer.instance.setTimeout(this.startFlashTimer,this,a))}r||this.stopFlashConfirmBtn();break;case o.BetButtonBase.BUTTON_CANCEL_ID:e.enabled=t.cancelEnabled}},t.prototype.updateVisibility=function(){var t=this.getBetTableStore();switch(this.showType){case o.BetButtonBase.SHOW_ALWAYS:this.visible=!0;break;case o.BetButtonBase.SHOW_ON_BET_ENABLED:this.visible=t&&t.betEnabled;break;case o.BetButtonBase.SHOW_ON_CONFIRM_ENABLED:this.visible=t&&t.confirmEnabled}this.visible||this.stopFlashConfirmBtn()},t.prototype.unenableAllButtons=function(){for(var t=0;t<this.numChildren;t++){var e=this.getChildAt(t);e.enabled=!1,this.stopFlashConfirmBtn()}},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.visible=this.showType==o.BetButtonBase.SHOW_ALWAYS,this.updateBtnsButtonMode();break;case VideoGameCore.Y:case VideoGameCore.Z:case VideoGameCore.J:case VideoGameCore.w:case VideoGameCore.n:case VideoGameCore.o:case VideoGameCore.f:case VideoGameCore.G:case VideoGameCore.r:case VideoGameCore.T:case VideoGameCore.st:this.updateVisibility(),this.updateBtnsButtonMode();break;case VideoGameCore.h:this.unenableAllButtons()}},t.prototype.startFlashTimer=function(){var t=this;this.stopFlashTimer(),this.flashTimer=Core.NonstopTimer.instance.setInterval(function(){t.flashConfirmBtn()},this,e/2)},t.prototype.flashConfirmBtn=function(){var t=this.getConfirmBtnFlashLayer();t&&(t.visible=!t.visible)},t.prototype.stopFlashTimer=function(){Core.NonstopTimer.instance.clearTimeout(this.flashTimer),Core.NonstopTimer.instance.clearInterval(this.flashTimer)},t.prototype.getConfirmBtnFlashLayer=function(){var t=this.getChildByName(o.BetButtonBase.BUTTON_CONFIRM_ID);return t?t.flashLayer:null},t.prototype.stopFlashConfirmBtn=function(){this.stopFlashTimer();var t=this.getConfirmBtnFlashLayer();t&&(t.visible=!1)},t}(Core.StoreView);o.BetButtonsBase=t,__reflect(t.prototype,"PCPlaza.BetButtonsBase")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(h){h.MAX_CHIP_HEAP_COUNT=10;var t=function(s){function t(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var r=s.call(this)||this;return r.showText=!0,r.width=60,r.height=120,r.touchEnabled=!1,r.gmtype=t,r.isShowBubble=e,r.isZjh=i,r.amount=0,r.currency="",r}return __extends(t,s),t.prototype.getAmount=function(){return this.amount},t.prototype.setAmount=function(t,e){void 0===e&&(e=!1);var i=this.getChipSetByGmtype(this.gmtype);if(!i)return void dclib("gmtype not exist!");this.amount=t;var r=this.getChipIndies(t,i);r.length<=0&&(r=[0]),r.length>=h.MAX_CHIP_HEAP_COUNT&&(r=r.slice(0,h.MAX_CHIP_HEAP_COUNT)),this.drawHeap(r,e)},t.prototype.getChipIndies=function(t,e){for(var i,r=[],s=e.length-1;s>=0;s--){i=e[s];for(var n=Math.floor(t/i),o=0;n>o;o++)r.push(s);t%=i}return r},t.prototype.updateCurrency=function(t){this.currency=t},t.prototype.getChipSetByGmtype=function(t){return VideoGameCore.VideoPlazaStore.instance.getChipSetByGmtype(this.gmtype)},t.prototype.drawHeap=function(t,e){for(void 0===e&&(e=!1);this.numChildren>0;)this.removeChildAt(0);for(var i,r,s=6,n=0;n<t.length;n++)i=this.createNewChip(),i.touchEnabled=!1,i.setData(t[n],h.SINGLE_CHIP_STYLE_INDEX),n==t.length-1?(this.showText?i.changeText(Core.getStringFixed2(this.amount)):i.changeText(),i.showChipBubble(this.isShowBubble),i.showChipFlag(this.currency)):i.changeText(),i.y=0-s*n,this.addChild(i),i.adjustTextNBubble(e),0==n&&(r=i.y);if(t.length>0){var o=i.chipHeight;o+s*(t.length-1)}if(!this.isShowBubble&&this.isZjh){var a;a=new u,a.x=i.x-5,a.y=r+40,this.addChild(a)}},t.prototype.createNewChip=function(){return new e},t}(egret.DisplayObjectContainer);h.ChipHeap=t,__reflect(t.prototype,"PCPlaza.ChipHeap",["PCPlaza.IChipHeap","egret.DisplayObject"]),h.SINGLE_CHIP_STYLE_AMOUNT=0,h.SINGLE_CHIP_STYLE_INDEX=1;var e=function(i){function t(t){void 0===t&&(t="");var e=i.call(this)||this;return e.clickHitAreaCallback=null,e.skinName=e.defaultSkinName,e.showHighlight(!1),e.showOutGlow(!1),e.showChipBubble(!1),e.showChipFlag(),e.showHitArea(!1),""==t&&(t=VideoGameCore.GAME_BAC),e.gmtype=t,e.defaultTextLabelY=e.textLabel.y,e.defaultChipBubbleY=e.chipBubble.y,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(t,i),Object.defineProperty(t.prototype,"defaultSkinName",{get:function(){return"PCPlaza.ChipSkin"},enumerable:!0,configurable:!0}),t.prototype.showHitArea=function(t){this.hitArea.visible=t,mouse.setButtonMode(this.hitArea,t)},t.prototype.setData=function(t,e){if(void 0===e&&(e=0),!this.gmtype||""==this.gmtype)return void dclib("gmtype not exist!");var i=this.getChipSet();this.chipIndex=-1;var r=-1;switch(e){case h.SINGLE_CHIP_STYLE_AMOUNT:this.chipIndex=i.indexOf(t),r=t;break;case h.SINGLE_CHIP_STYLE_INDEX:this.chipIndex=t,r=i[t]}this.chipIndex>=0&&r>0&&(this.chipBg.source="chip_json.chip_"+(this.chipIndex+1),this.changeText(Core.getStringFixed2(r)))},t.prototype.showHighlight=function(t){this.highlight.visible=t},t.prototype.showChipFlag=function(t){void 0===t&&(t=""),this.chipFlag&&(this.chipFlag.visible=""!=t&&t!=VideoGameCore.VideoPlazaStore.instance.currencyCode&&VideoGameCore.PCPlazaConfig.instance.showInGameInfoCurrency,this.chipFlag.visible&&(this.chipFlag.x=this.textLabel.x+this.textLabel.width/2+this.textLabel.textWidth/2+5,this.chipFlag.source="chip_json.chip_flag_"+t))},t.prototype.showChipBubble=function(t){this.chipBubble.visible=t},t.prototype.showOutGlow=function(t){this.glow&&(this.glow.visible=t)},t.prototype.changeText=function(t){void 0===t&&(t=""),this.textLabel.text=t,this.textLabel.localeKey=""==t?t:Core.getStringFixed2WithComma(Number(t)),this.textLabel.bold=!0},t.prototype.changeToBold=function(){this.textLabel.bold=!0},t.prototype.adjustTextNBubble=function(t){void 0===t&&(t=!1);if(this.stage)if(this.chipBubble.visible){var e=this.chipBubble.parent;this.chipBubble.y=this.defaultChipBubbleY,this.textLabel.y=this.defaultTextLabelY,!t&&e.localToGlobal(0,this.chipBubble.y).y<0&&(this.chipBubble.y=e.globalToLocal(0,0).y,this.textLabel.y=this.chipBubble.y+this.defaultTextLabelY-this.defaultChipBubbleY)}else{var i=this.textLabel.parent;this.textLabel.y=this.defaultTextLabelY,!t&&i.localToGlobal(0,this.textLabel.y).y<0&&(this.textLabel.y=i.globalToLocal(0,0).y)}},Object.defineProperty(t.prototype,"chipWidth",{get:function(){return""!=this.chipBg.source?this.chipBg.width:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chipHeight",{get:function(){return""!=this.chipBg.source?this.chipBg.height:0},enumerable:!0,configurable:!0}),t.prototype.getChipSet=function(){return VideoGameCore.VideoPlazaStore.instance.getChipSetByGmtype(this.gmtype)},t.prototype.onAddToStage=function(t){this.adjustTextNBubble()},t}(eui.Component);h.SingleChip=e,__reflect(e.prototype,"PCPlaza.SingleChip");var u=function(i){function t(t){void 0===t&&(t="");var e=i.call(this)||this;return e.skinName="PCPlaza.OtherPlayerChipSkin",e}return __extends(t,i),t}(eui.Component);h.OtherPlayer=u,__reflect(u.prototype,"PCPlaza.OtherPlayer")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.gmtype="",t.skinName="PCPlaza.ChipPanelSkin",t}return __extends(t,e),t.prototype.getStoreList=function(){return[VideoGameCore.VideoPlazaStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.setupByGmtype()}},t.prototype.onAddToStage=function(){e.prototype.onAddToStage.call(this),this.chipListView.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTapEventHandler,this)},t.prototype.onRemoveFromStage=function(){e.prototype.onRemoveFromStage.call(this),this.chipListView.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTapEventHandler,this)},t.prototype.onItemTapEventHandler=function(t){var e=t.itemIndex;0>e?e=0:e>=this.allChipSet.length&&(e=this.allChipSet.length-1),this.setStoreSelectedChip(e)},t.prototype.setStoreSelectedChip=function(t){VideoGameCore.VideoPlazaStore.instance.selectedChipIndex=t,VideoGameCore.VideoPlazaStore.instance.selectedChipValue=this.allChipSet[t]},t.prototype.getStoreSelectedChip=function(){return VideoGameCore.VideoPlazaStore.instance.selectedChipValue},t.prototype.setupByGmtype=function(){this.allChipSet=VideoGameCore.VideoPlazaStore.instance.getChipSetByGmtype(this.gmtype),this.chipListData=new eui.ArrayCollection(this.allChipSet.map(function(t,e){return{value:t,icon:"chip_json.chip_"+(e+1)}})),this.chipListView.itemRenderer=i,this.chipListView.dataProvider=this.chipListData;var t=this.getChipIndex(this.getStoreSelectedChip());0>t&&(t=Math.floor((this.allChipSet.length-1)/2),this.setStoreSelectedChip(t)),this.chipListView.selectedIndex=t},t.prototype.getChipIndex=function(i){var r=-1;return this.allChipSet&&this.allChipSet.forEach(function(t,e){t==i&&(r=e)},this),r},t}(Core.StoreView);t.ChipPanel=e,__reflect(e.prototype,"PCPlaza.ChipPanel");var i=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onChipMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onChipMouseOut,t),t}return __extends(t,e),t.prototype.onChipMouseOver=function(){this.highlight.visible=!0},t.prototype.onChipMouseOut=function(){this.highlight.visible=!1},t}(eui.ItemRenderer);__reflect(i.prototype,"ChipPanelItemRenderer")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.pPokers=[],t.bPokers=[],t.playSound=!1,t.skinName="PCPlaza.GameCardSkin",t.pPokers=[t.pPoker1,t.pPoker2,t.pPoker3],t.bPokers=[t.bPoker1,t.bPoker2,t.bPoker3],t}return __extends(t,e),t.prototype.reset=function(){this.pScoreLabel.text="0",this.bScoreLabel.text="0",this.pWinGrp.visible=!1,this.bWinGrp.visible=!1,this.tieGrp.visible=!1,this.pWinFrame.visible=!1,this.bWinFrame.visible=!1,this.playSound=!1;for(var t=0;3>t;t++)this.pPokers[t].source=null,this.bPokers[t].source=null;this.setLabelSize()},t.prototype.showCardBg=function(t){this.visible=t},t.prototype.updateCards=function(){var t=this.getPokerStore().bDataQue,e=this.getPokerStore().pDataQue;if(0===t.length&&0===e.length)return void this.showCardBg(!1);if(this.showCardBg(!0),this.setLabelSize(),this.pWinGrp.visible=this.getPokerStore().pWin,this.bWinGrp.visible=this.getPokerStore().bWin,this.tieGrp.visible=this.getPokerStore().tie,this.pWinFrame.visible=this.getPokerStore().pWin,this.bWinFrame.visible=this.getPokerStore().bWin,t.length>=2){this.bScoreLabel.text=""+this.getPokerStore().bScore;for(var i=0;3>i;i++)if(i<t.length){2===i&&null===this.bPokers[i].source&&this.soundSupplement(1);var r=t[i];this.bPokers[i].source=VideoGameCore.getCardImgBySize(r.card,1)}else this.bPokers[i].source=null}if(e.length>=2){this.pScoreLabel.text=""+this.getPokerStore().pScore;for(var i=0;3>i;i++)if(i<e.length){2===i&&null===this.pPokers[i].source&&this.soundSupplement(0);var r=e[i];this.pPokers[i].source=VideoGameCore.getCardImgBySize(r.card,1)}else this.pPokers[i].source=null}(this.pWinGrp.visible||this.bWinGrp.visible||this.tieGrp.visible)&&!this.playSound&&(this.playSound=!0,this.soundScore(this.getPokerStore().bScore,this.getPokerStore().pScore),this.soundGameResult(this.getPokerStore().bWin,this.getPokerStore().pWin,this.getPokerStore().tie,this.getPokerStore().bPair,this.getPokerStore().pPair))},t.prototype.setLabelSize=function(){var t=Core.LocalizeStore.instance.lang,e=40;switch(t){case Core.LANG_VI:e=25;break;case Core.LANG_JA:case Core.LANG_TH:case Core.LANG_PT:case Core.LANG_KO:e=30}this.pLabel.size=e,this.bLabel.size=e},t.prototype.soundSupplement=function(t){},t.prototype.soundScore=function(t,e){},t.prototype.soundGameResult=function(t,e,i,r,s){},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.reset(),this.showCardBg(!1);break;case VideoGameCore.Z:this.showCardBg(!1);break;case VideoGameCore.w:this.reset(),this.showCardBg(!0);break;case VideoGameCore.vt:this.updateCards();break;case Core.q:this.setLabelSize()}},t}(Core.StoreView);t.GameCardBase=e,__reflect(e.prototype,"PCPlaza.GameCardBase")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(s){function t(t,e){void 0===t&&(t="PCPlaza.GameVideoPanelSkin"),void 0===e&&(e=VideoGameCore.DEFAULT_ROOT_ID);var i=s.call(this,e)||this;return i.skinName=t,i}return __extends(t,s),t.prototype.setBgImg=function(t){this.bgImg&&(this.bgImg.source=t)},t.prototype.onStoreChange=function(t,e,i){switch(s.prototype.onStoreChange.call(this,t,e,i),e){case VideoGameCore.j:if(this.videoSoruceWidth&&this.videoSoruceHeight&&(this.videoSoruceWidth!==this.width||this.videoSoruceHeight!==this.height)){this.updateVideoSize({width:this.width,height:this.height});var r=this.getPlayerClipInfo(this.width,this.height,this.videoSoruceWidth,this.videoSoruceHeight);this.clipPlayer(r.x,r.y,r.width,r.height,1)}}},t.prototype.getPlayerClipInfo=function(t,e,i,r){var s=0,n=0,o=t,a=e;return t/i*r>e?(n=(t/i*r-e)/(t/i*r)*e/2,a=e-2*n):(s=(e/r*i-t)/(e/r*i)*t/2,o=t-2*s),{x:s,y:n,width:o,height:a}},t.prototype.setSoruceSize=function(t,e){this.videoSoruceWidth=t,this.videoSoruceHeight=e},t}(VideoGameCore.PCVideoPanelBase);t.GameVideoPanel=e,__reflect(e.prototype,"PCPlaza.GameVideoPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var r=12976642,s=66761,C=30,n=80/280,o=145/408,a=4/280,h=18/145,e=function(f){function t(){var t=null!==f&&f.apply(this,arguments)||this;return t.arrowString="nav_asset_json.bid_arrow",t.imgArrowList=[],t.numberCover=new eui.Image("nav_asset_json.bid_finger"),t.numberCoverEx=new eui.Image("nav_asset_json.bid_finger"),t.cardRectFrame=new eui.Rect,t}return __extends(t,f),t.prototype.updateRectVisable=function(t){if(void 0===t&&(t=!1),this.cardRectFrame.strokeColor=0==this.side?r:s,this.m_miPaiEnabled){var e=this.getPokerData();e?this.cardRectFrame.visible=1==e.show?!1:t?!1:!0:this.cardRectFrame.visible=!0}else this.cardRectFrame.visible=!1},t.prototype.onInit=function(){if(f.prototype.onInit.call(this),this.imgArrowList=[],this.receiveMouseInfo){var t;t=this.getArrowImage(),t.rotation=135,t.x=this.buffWidth-20,t.y=this.buffHeight-20,this.addChild(t),t=this.getArrowImage(),t.rotation=180,t.x=this.buffWidth+this.pokerWidth/2,t.y=this.buffHeight-14.5-10,this.addChild(t),t=this.getArrowImage(),t.rotation=225,t.x=this.buffWidth+this.pokerWidth+20,t.y=this.buffHeight-20,this.addChild(t),t=this.getArrowImage(),t.rotation=270,t.x=this.buffWidth+this.pokerWidth+14.5+10,t.y=this.buffHeight+this.pokerHeight/2,this.addChild(t),t=this.getArrowImage(),t.rotation=315,t.x=this.buffWidth+this.pokerWidth+20,t.y=this.buffHeight+this.pokerHeight+20,this.addChild(t),t=this.getArrowImage(),t.rotation=0,t.x=this.buffWidth+this.pokerWidth/2,t.y=this.buffHeight+this.pokerHeight+14.5+10,this.addChild(t),t=this.getArrowImage(),t.rotation=45,t.x=this.buffWidth-20,t.y=this.buffHeight+this.pokerHeight+20,this.addChild(t),t=this.getArrowImage(),t.rotation=90,t.x=this.buffWidth-14.5-10,t.y=this.buffHeight+this.pokerHeight/2,this.addChild(t),this.numberCover.touchEnabled=!1,this.numberCoverEx.touchEnabled=!1;var e=this.pokerWidth*n,i=this.pokerHeight*o;this.numberCover.width=e,this.numberCover.height=i,this.numberCoverEx.width=e,this.numberCoverEx.height=i,this.numberCoverOffsetX=e*a,this.numberCoverOffsetY=i*h,this.numberCoverEx.scaleX=-1}this.cardRectFrame.strokeWeight=5,this.cardRectFrame.ellipseWidth=35,this.cardRectFrame.ellipseHeight=35,this.cardRectFrame.width=this.pokerWidth+2*this.cardRectFrame.strokeWeight,this.cardRectFrame.height=this.pokerHeight+2*this.cardRectFrame.strokeWeight,this.cardRectFrame.x=this.buffWidth-this.cardRectFrame.strokeWeight,this.cardRectFrame.y=this.buffHeight-this.cardRectFrame.strokeWeight,this.cardRectFrame.fillAlpha=0,this.cardRectFrame.strokeColor=0==this.side?r:s,this.addChild(this.cardRectFrame)},t.prototype.updateMask=function(t,e,i,r,s){var n=this;f.prototype.updateMask.call(this,t,e,i,r,s);var o=!0;(0>i&&-1>t||i>0&&t>1||0>r&&-1>e||r>0&&e>1||0==i&&0==r||-1==t&&-1==i&&1==e&&1==r)&&(o=!1);var a=!1,h=!1;if(o){if(a=!0,this.poker.mask===this.maskMaker.secondMask)this.numberCover.x=this.poker.x+this.numberCoverOffsetX-this.pokerWidth,this.numberCover.y=this.poker.y+this.pokerHeight-this.numberCover.height/2-this.numberCoverOffsetY,this.numberCover.rotation=C;else if(this.poker.mask===this.maskMaker.firstMask)if(this.numberCover.x=this.poker.x-this.numberCoverOffsetX,this.numberCover.y=this.poker.y+this.numberCover.height/2+this.numberCoverOffsetY,this.numberCover.rotation=C+180,-1==i&&-1==r){var u=Math.sin(this.pokerRotation*Math.PI/180)*this.pokerWidth;u/=this.pokerHeight/2,a=e-u>-1}else if(1==i&&1==r){var c=Math.sin(this.pokerRotation*Math.PI/180)*this.pokerHeight;c/=this.pokerWidth/2,a=1>t+c}-1==i&&-1==r?(this.numberCoverEx.x=this.poker.x-this.numberCoverOffsetX-this.pokerWidth,this.numberCoverEx.y=this.poker.y+this.numberCover.height/2+this.numberCoverOffsetY,this.numberCoverEx.rotation=-C+180,h=!0):1==i&&1==r&&(this.numberCoverEx.x=this.poker.x+this.numberCoverOffsetX,this.numberCoverEx.y=this.poker.y+this.pokerHeight-this.numberCover.height/2-this.numberCoverOffsetY,this.numberCoverEx.rotation=-C,h=!0),this.poker.parent.addChild(this.numberCover),this.poker.parent.addChild(this.numberCoverEx)}this.numberCover.visible=a,this.numberCoverEx.visible=h,this.imgArrowList.forEach(function(t){t.visible=!o&&n.m_miPaiEnabled}),this.updateRectVisable(o&&this.m_miPaiEnabled)},t.prototype.setOpenCard=function(){f.prototype.setOpenCard.call(this),this.numberCover.visible=!1,this.numberCoverEx.visible=!1,this.updateRectVisable()},t.prototype.setInvaildCard=function(){f.prototype.setInvaildCard.call(this),this.numberCover.visible=!1,this.numberCoverEx.visible=!1,this.updateRectVisable()},t.prototype.getArrowImage=function(){var t=new eui.Image(this.arrowString);return t.anchorOffsetX=t.anchorOffsetY=14.5,t.touchEnabled=!1,t.visible=!1,this.imgArrowList.push(t),t},Object.defineProperty(t.prototype,"miPaiEnabled",{get:function(){return this.m_miPaiEnabled},set:function(e){this.m_miPaiEnabled=e,this.imgArrowList.forEach(function(t){t.visible=e})},enumerable:!0,configurable:!0}),t}(VideoGameCore.MiPai.MiPaiPanel);t.PCMiPaiPanel=e,__reflect(e.prototype,"PCPlaza.PCMiPaiPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.getTimerStatusBgColor=function(t){var e="";switch(t){case 1:e="green";break;case 0:e="red";break;case 2:e="red";break;case 11:e="red";break;case 3:e="brown";break;case 6:e="red"}return e},e.prototype.showBg=function(t){void 0===t&&(t=-1);var e=this.getTimerStatusBgColor(t);["green","red","brown"].indexOf(e)<=-1&&(e="red"),this.timerGreen.visible="green"==e,this.timerRed.visible="red"==e,this.timerBrown.visible="brown"==e},e.prototype.getTimerStatusInfo=function(t){var e="PCPlaza.roomTimer.stop_bet",i="",r="";switch(this.getRoomTimerStore().gameStatus){case 1:e="PCPlaza.roomTimer.please_bet",r=this.getRoomTimerStore().timeout.toString();break;case 0:i="PCPlaza.roomTimer.settling";break;case 2:i="PCPlaza.roomTimer.settling";break;case 11:i="PCPlaza.roomTimer.shuffling"}return{localeKey1:e,localeKey2:i,text2:r}},e.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.showBg();break;case VideoGameCore.Y:case VideoGameCore.Z:case VideoGameCore._t:case VideoGameCore.w:case VideoGameCore.it:case VideoGameCore.st:var r=this.getTimerStatusInfo(this.getRoomTimerStore().gameStatus);egret.Tween.removeTweens(this.timerStatus2),this.timerStatus2.scaleX=1,this.timerStatus2.scaleY=1,this.timerStatus1.localeKey=r.localeKey1,this.timerStatus1.text=Core.LocalizeStore.instance.translate(r.localeKey1);var s=r.color2?r.color2:14327918;if(""==r.localeKey2)if(this.timerStatus2.localeKey=r.localeKey2,this.timerStatus2.text=r.text2,this.timerStatus2.size=46,e==VideoGameCore._t)if(parseInt(r.text2)>10)this.timerStatus2.textColor=s;else{this.timerStatus2.textColor=16711680;var n=egret.Tween.get(this.timerStatus2);n.to({scaleX:1.4,scaleY:1.4},400).to({scaleX:1,scaleY:1},400)}else this.timerStatus2.textColor=s;else this.timerStatus2.size=25,this.timerStatus2.localeKey=r.localeKey2,this.timerStatus2.textColor="PCPlaza.roomTimer.shuffling"==r.localeKey2?s:16711680,r.color2&&(this.timerStatus2.textColor=r.color2);this.showBg(this.getRoomTimerStore().gameStatus)}},e}(Core.StoreView);t.RoomTimerBase=e,__reflect(e.prototype,"PCPlaza.RoomTimerBase")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.redColor=14619414,t.greenColor=3578627,t.blackColor=0,t.blueColor=263117,t}return __extends(t,e),t.prototype.childrenCreated=function(){this.onInit()},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.visible=!1;break;case VideoGameCore.Z:this.visible=!1;break;case VideoGameCore.P:this.onResult(i),this.setLabelSize();break;case VideoGameCore.Y:this.visible=!1}},t.prototype.onInit=function(){this.setResult(36)},t.prototype.setResult=function(t){if(0==t)this.bgNum.fillColor=this.greenColor,this.lblOdd.text="",this.lblBig.text="",this.lblRound.text="",this.lblRow.text="";else{this.bgNum.fillColor=VideoGameCore.RoadPaper.rouResultIsRed(t)?this.redColor:this.blackColor,VideoGameCore.RoadPaper.rouResultIsOdd(t)?(this.lblOdd.textColor=this.blueColor,this.lblOdd.text=Core.LocalizeStore.instance.translate("PCPlaza.rou.result.odd")):(this.lblOdd.textColor=this.redColor,this.lblOdd.text=Core.LocalizeStore.instance.translate("PCPlaza.rou.result.even")),VideoGameCore.RoadPaper.rouResultIsSmall(t)?(this.lblBig.textColor=this.blueColor,this.lblBig.text=Core.LocalizeStore.instance.translate("PCPlaza.rou.result.small"),this.lblRound.text="1-18"):(this.lblBig.textColor=this.redColor,this.lblBig.text=Core.LocalizeStore.instance.translate("PCPlaza.rou.result.big"),this.lblRound.text="19-36");var e=VideoGameCore.RoadPaper.rouResultRow(t);this.lblRow.text=Core.LocalizeStore.instance.translate("PCPlaza.rou.result.row"+e.toString())}this.lblNum.text=t.toString()},t.prototype.onResult=function(t){this.setResult(t.result),this.visible=!0},t.prototype.setLabelSize=function(){var t=Core.LocalizeStore.instance.lang,e=25;switch(t){case Core.LANG_JA:case Core.LANG_PT:e=15}this.lblBig.size=e},t}(Core.StoreView);t.RouResultPanelBase=e,__reflect(e.prototype,"PCPlaza.RouResultPanelBase")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.showSeatHighlight=function(t,e){void 0===e&&(e=!0);var i=this.getSeatHighlight(t);null!=i&&(i.visible=e)},e.prototype.showSeatIcon=function(t,e){void 0===e&&(e=!0);var i=this.getSeatIcon(t);null!=i&&(i.visible=e)},e.prototype.setSeatNick=function(t,e,i,r,s){void 0===e&&(e=""),void 0===i&&(i=""),void 0===r&&(r=0),void 0===s&&(s=!1);var n=this.getSeatLabel(t);null!=n&&(""===e?n.text="":(n.textFlow=[{text:Core.getAnonymousName(e,i),style:{size:20,textColor:s?16576828:16777215}},{text:" ("+Core.getStringFixed2(r)+")",style:{size:18,textColor:14521911}}],n.verticalAlign=egret.VerticalAlign.BOTTOM,n.textAlign=egret.HorizontalAlign.CENTER,n.filters=[new egret.DropShadowFilter(2,45,0,1,3,3)]))},e.prototype.setCurrencyFlag=function(t,e){},e.prototype.getSeatHighlight=function(t){return this.seatHighlight.getChildByName("seat"+t.toString())},e.prototype.getSeatIcon=function(t){return this.seatIcon.getChildByName("seat"+t.toString())},e.prototype.getSeatLabel=function(t){return this.seatNickName.getChildByName("seat"+t.toString())},e.prototype.onStoreChange=function(t,e,i){var r,s=this;switch(e){case Core.t:var n;for(r=0;r<this.seatHighlight.numChildren;r++)n=this.seatHighlight.getChildAt(r),n.visible=!1;break;case VideoGameCore.zt:var o,a,h;for(r=0;r<this.seatHighlight.numChildren;r++)h=r+1,this.setSeatNick(h),this.showSeatIcon(h,!1),this.showSeatHighlight(h,!1),this.setCurrencyFlag(h,"");i.forEach(function(t){o=t.loginname,a=!1,s.isValidTablePlayer(t)&&(o==Core.LoginStore.instance.loginName&&(a=!0,s.showSeatHighlight(t.seat)),s.showSeatIcon(t.seat),s.setSeatNick(t.seat,t.loginname,t.nickname,t.credit,a),s.setCurrencyFlag(t.seat,t.currency))});break;case VideoGameCore.Pt:case VideoGameCore.bt:i&&this.isValideSeatNum(i.seat)&&this.setSeatNick(i.seat,i.loginname,i.nickname,i.credit,i.loginname==Core.LoginStore.instance.loginName)}},e.prototype.isValidTablePlayer=function(t){return this.isValideSeatNum(t.seat)&&t.tableCode==this.getTableSeatStore().tableCode},e.prototype.isValideSeatNum=function(t){return VideoGameCore.isValidSeatNum(t)},e}(Core.StoreView);t.TableSeatBase=e,__reflect(e.prototype,"PCPlaza.TableSeatBase")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var a=[5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26,0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10],s=12,n=12,o=2,h=18,u=18,c=1,e=2,i=function(i){function t(){var t=null!==i&&i.apply(this,arguments)||this;return t.euroSequenceLength=e,t}return __extends(t,i),t.prototype.init=function(){i.prototype.init.call(this),this.betTipsContentY=this.betTipsContent.y},t.prototype.initBetArea=function(){i.prototype.initBetArea.call(this);var t;if(this.betAreaEuro){for(var e=0;e<this.betAreaEuro.numChildren;e++)t=this.betAreaEuro.getChildAt(e),mouse.setButtonMode(t,!0),t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBetAreaEuroTap,this),t.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onBetAreaEuroRollOver,this),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onBetAreaEuroRollOut,this);this.betAreaEuro.visible=!0}this.showBetTips()},t.prototype.updateBetArea=function(){i.prototype.updateBetArea.call(this),this.betAreaEuro&&(this.betAreaEuro.touchChildren=this.getBetStore().betEnabled)},t.prototype.onBetAreaTap=function(t){var e=this.getStakeInfoByName(t.target.name);this.getBetStore().addChipByPlayType(e.playType,0,e.nums)},t.prototype.onBetAreaRollOver=function(t){var e=t.currentTarget.name;this.showHighlightList(this.betArea,this.getNormalHighlightInfosByName(e)),this.showBetTips(e)},t.prototype.onBetAreaEuroTap=function(t){var e=this,i=this.getEuroStakeInfosByName(t.target.name);i.forEach(function(t){e.getBetStore().addChipByPlayType(t.playType,0,t.nums)})},t.prototype.onBetAreaRollOut=function(t){void 0===t&&(t=null),this.clearHighlight(),this.showBetTips()},t.prototype.onBetAreaEuroRollOver=function(t){var e=this,i=this.getEuroStakeInfosByName(t.currentTarget.name),r=[],s=[];s.push(t.currentTarget.name),i.forEach(function(t){t.nums.forEach(function(t){r.push(e.getDirectStakeKey(t)),s.push(t.toString())})}),this.showHighlightList(this.betArea,r),this.showHighlightList(this.betAreaEuro,s)},t.prototype.onBetAreaEuroRollOut=function(t){this.clearHighlight()},t.prototype.showHighlightList=function(t,e){if(t&&e)for(var i=t.numChildren,r=void 0,s=0;i>s;s++)r=t.getChildAt(s),r.alpha=e.indexOf(r.name)>=0?1:0;else this.clearHighlight()},t.prototype.clearHighlight=function(){i.prototype.clearHighlight.call(this),this.clearHighlightOfBetArea(this.betAreaEuro)},t.prototype.getNormalHighlightInfosByName=function(t){var e=this,i=[];switch(Number(t)){case VideoGameCore.PLAYTYPE_ROU_DOZEN1:i.push(t),this.addNormalHighlightInfos(i,1,s);break;case VideoGameCore.PLAYTYPE_ROU_DOZEN2:i.push(t),this.addNormalHighlightInfos(i,1*s+1,s);break;case VideoGameCore.PLAYTYPE_ROU_DOZEN3:i.push(t),this.addNormalHighlightInfos(i,2*s+1,s);break;case VideoGameCore.PLAYTYPE_ROU_LINE1:i.push(t),this.addNormalHighlightInfos(i,1,n,o);break;case VideoGameCore.PLAYTYPE_ROU_LINE2:i.push(t),this.addNormalHighlightInfos(i,2,n,o);break;case VideoGameCore.PLAYTYPE_ROU_LINE3:i.push(t),this.addNormalHighlightInfos(i,3,n,o);break;case VideoGameCore.PLAYTYPE_ROU_SMALL:i.push(t),this.addNormalHighlightInfos(i,1,h);break;case VideoGameCore.PLAYTYPE_ROU_BIG:i.push(t),this.addNormalHighlightInfos(i,h+1,h);break;case VideoGameCore.PLAYTYPE_ROU_ODD:i.push(t),this.addNormalHighlightInfos(i,1,u,c);break;case VideoGameCore.PLAYTYPE_ROU_EVEN:i.push(t),this.addNormalHighlightInfos(i,2,u,c);break;case VideoGameCore.PLAYTYPE_ROU_RED:i.push(t),this.addNormalHighlightInfos(i,1,5,c),this.addNormalHighlightInfos(i,12,4,c),this.addNormalHighlightInfos(i,19,5,c),this.addNormalHighlightInfos(i,30,4,c);break;case VideoGameCore.PLAYTYPE_ROU_BLACK:i.push(t),this.addNormalHighlightInfos(i,2,5,c),this.addNormalHighlightInfos(i,11,4,c),this.addNormalHighlightInfos(i,20,5,c),this.addNormalHighlightInfos(i,29,4,c);break;default:var r=this.getStakeInfoByName(t);null!=r.nums&&r.nums.forEach(function(t){i.push(e.getDirectStakeKey(t))})}return i},t.prototype.addNormalHighlightInfos=function(t,e,i,r){if(void 0===r&&(r=0),null!=t)for(var s=0;i>s;s++)t.push(this.getDirectStakeKey(e+s*(1+r)))},t.prototype.getEuroStakeInfosByName=function(t){var e=[];switch(t){case"thirdCylinder":e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-5_8")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-10_11")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-13_16")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-23_24")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-27_30")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-33_36"));break;case"orphans":e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_DIRECT.toString()+"-1")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-6_9")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-14_17")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-17_20")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-31_34"));break;case"neighborsOfZero":e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_TRIANGLE.toString()+"-0_2_3")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_TRIANGLE.toString()+"-0_2_3")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-4_7")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-12_15")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-18_21")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-19_22")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_CORNER.toString()+"-25_26_28_29")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_CORNER.toString()+"-25_26_28_29")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-32_35"));break;case"zero":e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-0_3")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-12_15")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_DIRECT.toString()+"-26")),e.push(this.getStakeInfoByName(VideoGameCore.PLAYTYPE_ROU_SEPARATE.toString()+"-32_35"));break;default:var i=a.indexOf(Number(t));if(-1!=i)for(var r=Math.min(this.euroSequenceLength,Math.floor((a.length-1)/2)),s=2*r+1,n=i>=r?i-r:a.length-(r-i),o=0;s>o;o++)e.push(this.getStakeInfoByName(this.getDirectStakeKey(a[(n+o)%a.length])))}return e},t.prototype.showBetTips=function(t){void 0===t&&(t="");var e=!1,i=this.betArea.getChildByName(t);if(i){var r=this.getStakeInfoByName(t);if(null!=r){e=!0;var s="PCPlaza.rou.betTips.playType"+r.playType.toString();this.txtPlayType.localeKey=s;var n=this.getPlayTypeRate(r.playType);this.txtPayout.setFitSizeText("1:"+n.toString());var o=this.getBetLimitByPlayType(r.playType);this.txtBetLimit.setFitSizeText(o.min+"-"+o.max);var a=this.betArea.localToGlobal(i.x+i.width/2,i.y+i.height/2);switch(a=this.globalToLocal(a.x,a.y),this.betTips.x=a.x,this.betTips.y=a.y,Number(t)){case VideoGameCore.PLAYTYPE_ROU_LINE1:case VideoGameCore.PLAYTYPE_ROU_LINE2:case VideoGameCore.PLAYTYPE_ROU_LINE3:this.betTipsBg.scaleY=-1,this.betTipsContent.y=-this.betTipsBg.height;break;default:this.betTipsBg.scaleY=1,this.betTipsContent.y=this.betTipsContentY}}}this.betTips.visible=e},t.prototype.getStakeKey=function(t,e){return VideoGameCore.StakePoolRou.getRouPlayType(t,e).toString()},t.prototype.getDirectStakeKey=function(t){return VideoGameCore.PLAYTYPE_ROU_DIRECT+"-"+t},t.prototype.getStakeInfoByName=function(t){var e=null,i=t.split("-");if(i.length>0){var r=Number(i[0]);if(VideoGameCore.ROU_BET_PLAYTYPES.indexOf(r)>=0){var s=null;if(i.length>=2){i=i[1].split("_"),s=[];for(var n=0;n<i.length;n++)s.push(Number(i[n]));Core.arraySort(s)}e=this.getNewStakeInfo(r,s)}}return e},t.prototype.getNewStakeInfo=function(t,e){var i=new VideoGameCore.StakeDataRou;return i.playType=t,i.nums=e,i},t.prototype.handlePayout=function(t){null!=t&&null!=t.payouts&&this.showPayout(t.payouts)},t.prototype.getChipHeapByPayout=function(t,e){void 0===e&&(e=this.getMyPlayerSlot());var i;return t&&(i=this.getChipHeap(this.getStakeKey(t.playtype,t.nums),e)),i},t.prototype.getResultBlinkList=function(t){var e=t.result,i=[this.getDirectStakeKey(e)];return e>0&&(i.push(VideoGameCore.RoadPaper.rouResultIsRed(e)?VideoGameCore.PLAYTYPE_ROU_RED.toString():VideoGameCore.PLAYTYPE_ROU_BLACK.toString()),i.push(VideoGameCore.RoadPaper.rouResultIsOdd(e)?VideoGameCore.PLAYTYPE_ROU_ODD.toString():VideoGameCore.PLAYTYPE_ROU_EVEN.toString()),i.push(VideoGameCore.RoadPaper.rouResultIsSmall(e)?VideoGameCore.PLAYTYPE_ROU_SMALL.toString():VideoGameCore.PLAYTYPE_ROU_BIG.toString()),i.push((VideoGameCore.PLAYTYPE_ROU_DOZEN1+VideoGameCore.RoadPaper.rouResultRow(e)-1).toString()),i.push((VideoGameCore.PLAYTYPE_ROU_LINE1+VideoGameCore.RoadPaper.rouResultColumn(e)-1).toString())),i},t}(t.BetTableBase);t.BetTableRou=i,__reflect(i.prototype,"PCPlaza.BetTableRou")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getResultBlinkList=function(t){var e,i=[];return i.push(this.getSinglelayType(t.info.dice1).toString()),i.push(this.getSinglelayType(t.info.dice2).toString()),i.push(this.getSinglelayType(t.info.dice3).toString()),VideoGameCore.RoadPaper.shbResultIsTriple(t.info.dice1,t.info.dice2,t.info.dice3)?(i.push(this.getTriplePlayType(t.info.dice1).toString()),i.push(this.getDoublePlayType(t.info.dice1).toString()),i.push(VideoGameCore.PLAYTYPE_SHB_TRIPLE_ANY.toString())):(i.push((VideoGameCore.RoadPaper.shbResultSumIsOdd(t.info.dice1,t.info.dice2,t.info.dice3)?VideoGameCore.PLAYTYPE_SHB_ODD:VideoGameCore.PLAYTYPE_SHB_EVEN).toString()),i.push((VideoGameCore.RoadPaper.shbResultSumIsSmall(t.info.dice1,t.info.dice2,t.info.dice3)?VideoGameCore.PLAYTYPE_SHB_SMALL:VideoGameCore.PLAYTYPE_SHB_BIG).toString()),t.info.dice1==t.info.dice2||t.info.dice1==t.info.dice3?(i.push(this.getDoublePlayType(t.info.dice1).toString()),i.push(this.getComboPlayType(t.info.dice2,t.info.dice3).toString())):t.info.dice2==t.info.dice3?(i.push(this.getDoublePlayType(t.info.dice2).toString()),i.push(this.getComboPlayType(t.info.dice1,t.info.dice2).toString())):(i.push(this.getComboPlayType(t.info.dice1,t.info.dice2).toString()),i.push(this.getComboPlayType(t.info.dice1,t.info.dice3).toString()),i.push(this.getComboPlayType(t.info.dice2,t.info.dice3).toString()))),e=this.getSumPlayType(VideoGameCore.RoadPaper.shbGetResultSum(t.info.dice1,t.info.dice2,t.info.dice3)),e&&i.push(e.toString()),i},e.prototype.getSinglelayType=function(t){return t>=1&&6>=t?VideoGameCore.PLAYTYPE_SHB_SINGLE_1+t-1:-1},e.prototype.getDoublePlayType=function(t){return t>=1&&6>=t?VideoGameCore.PLAYTYPE_SHB_DOUBLE_1+t-1:-1},e.prototype.getTriplePlayType=function(t){return t>=1&&6>=t?VideoGameCore.PLAYTYPE_SHB_TRIPLE_1+t-1:-1},e.prototype.getSumPlayType=function(t){return t>=4&&17>=t?VideoGameCore.PLAYTYPE_SHB_SUM_4+t-4:-1},e.prototype.getComboPlayType=function(t,e){var i=-1;if(t!=e&&t>=1&&6>=t&&e>=1&&6>=e){var r=e>t?t:e,s=t>e?t:e;switch(r){case 1:i=VideoGameCore.PLAYTYPE_SHB_COMBO_1_2+s-2;break;case 2:i=VideoGameCore.PLAYTYPE_SHB_COMBO_2_3+s-3;break;case 3:i=VideoGameCore.PLAYTYPE_SHB_COMBO_3_4+s-4;break;case 4:i=VideoGameCore.PLAYTYPE_SHB_COMBO_4_5+s-5;break;case 5:i=VideoGameCore.PLAYTYPE_SHB_COMBO_5_6}}return i},e}(t.BetTableCommon);t.BetTableShb=e,__reflect(e.prototype,"PCPlaza.BetTableShb")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e.prototype,"defaultSkinName",{get:function(){return"PCPlaza.RoadSliderScrollerSkin"},enumerable:!0,configurable:!0}),e}(Core.SliderScrollerBase);t.RoadScroller=e,__reflect(e.prototype,"PCPlaza.RoadScroller")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.shineCount=0,t.skinName=t.defaultSkinName,t.countDataSource=new eui.ArrayCollection,t}return __extends(t,e),Object.defineProperty(t.prototype,"defaultSkinName",{get:function(){return"PCPlaza.BacRoadMapPanelSkin"},enumerable:!0,configurable:!0}),t.prototype.onStoreChange=function(t,e,i){if(e===Core.t)this.zhuZaiLu=new VideoGameCore.RoadPaper.RoadZhuZaiPaper(this.zhuZaiLuGrp.width,this.zhuZaiLuGrp.height,["PCPlaza.room.roadmap_banker","PCPlaza.room.roadmap_player","PCPlaza.room.roadmap_tie"],4),this.zhuZaiLuGrp.removeChildren(),this.zhuZaiLuGrp.addChild(this.zhuZaiLu),this.zhuZaiLuNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.zhuZaiLu,this.zhuZaiLuGrp.width,this.zhuZaiLuGrp.height,this.zhuZaiLu.gridSize,1,1),this.daLu=new VideoGameCore.RoadPaper.RoadDaLuPaper(this.daLuGrp.width,this.daLuGrp.height,2),this.daLuGrp.removeChildren(),this.daLuGrp.addChild(this.daLu),this.daLuNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.daLu,this.daLuGrp.width,this.daLuGrp.height,this.daLu.gridSize,1,2),this.daYanLu=new VideoGameCore.RoadPaper.RoadDaYanLuPaper(this.daYanLuGrp.width,this.daYanLuGrp.height,2),this.daYanLuGrp.removeChildren(),this.daYanLuGrp.addChild(this.daYanLu),this.daYanLuNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.daYanLu,this.daYanLuGrp.width,this.daYanLuGrp.height,2*this.daYanLu.gridSize,1,1),this.xiaoLu=new VideoGameCore.RoadPaper.RoadXiaoLuPaper(this.xiaoLuGrp.width,this.xiaoLuGrp.height),this.xiaoLuGrp.removeChildren(),this.xiaoLuGrp.addChild(this.xiaoLu),this.xiaoLuNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.xiaoLu,this.xiaoLuGrp.width,this.xiaoLuGrp.height,2*this.xiaoLu.gridSize,1,1),this.xiaoQiangLu=new VideoGameCore.RoadPaper.RoadXiaoQiangLuPaper(this.xiaoQiangLuGrp.width,this.xiaoQiangLuGrp.height,2),this.xiaoQiangLuGrp.removeChildren(),this.xiaoQiangLuGrp.addChild(this.xiaoQiangLu),this.xiaoQiangLuNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.xiaoQiangLu,this.xiaoQiangLuGrp.width,this.xiaoQiangLuGrp.height,2*this.xiaoQiangLu.gridSize,1,1),this.bankerAskBtn=new r("banker"),this.playerAskBtn=new r("player"),this.askButtonGrp.addChildAt(this.bankerAskBtn,1),this.askButtonGrp.addChildAt(this.playerAskBtn,2),this.bankerAskBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.askRoad,this),this.playerAskBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.askRoad,this),this.askButtonGrp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.askRoad,this),this.roomStatusGrp.visible=!1,this.updateRoadmap(),this.updateStat(),this.updateLblTry();else if(t instanceof VideoGameCore.RoadMapStore||e===VideoGameCore.rt||e===Core.q){if(e!=Core.q&&(e!==VideoGameCore.rt||i&&i!==this.getVid()))return;this.updateRoadmap(),this.updateStat()}else this.updateRoomStatus();e===VideoGameCore.de&&(this.loadingGrp.visible=!1)},t.prototype.getCountList=function(){var t=[],e=this.getRoadData();return e?(t.push({playtype:"PCPlaza.bac.bet_banker",count:e.redCount,color:14619414}),t.push({playtype:"PCPlaza.bac.bet_player",count:e.blueCount,color:3618291}),t.push({playtype:"PCPlaza.bac.bet_tie",count:e.tieCount,color:3578627}),t.push({playtype:"PCPlaza.bac.bet_b_pair",count:e.redPairCount,color:14619414}),t.push({playtype:"PCPlaza.bac.bet_p_pair",count:e.bluePairCount,color:3618291}),t.push({playtype:"PCPlaza.bac.total",count:e.totalCount,color:6697728})):(t.push({playtype:"PCPlaza.bac.bet_banker",count:0,color:14619414}),t.push({playtype:"PCPlaza.bac.bet_player",count:0,color:3618291}),t.push({playtype:"PCPlaza.bac.bet_tie",count:0,color:3578627}),t.push({playtype:"PCPlaza.bac.bet_b_pair",count:0,color:14619414}),t.push({playtype:"PCPlaza.bac.bet_p_pair",count:0,color:3618291}),t.push({playtype:"PCPlaza.bac.total",count:0,color:6697728})),t},t.prototype.updateStat=function(){this.countDataSource.replaceAll(this.getCountList())},t.prototype.updateLblTry=function(){this.tryPlayGrp.visible=Core.LoginStore.instance.isDemoAc},t.prototype.getMaintainingStatus=function(){var t=!1,e=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.getVid());return e&&(t=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(e.platformtype,e.vid)),t},t.prototype.updateRoomStatus=function(){var t=this.getMaintainingStatus();t?(this.roomStatus.localeKey="PCPlaza.room.maintain",this.roomStatus.refresh(),this.roomStatusGrp.visible=!0):11==this.getRoomTimerStore().gameStatus?(this.roomStatus.localeKey="PCPlaza.room.shuffle",this.roomStatus.refresh(),this.roomStatusGrp.visible=!0):this.roomStatusGrp.visible&&(this.roomStatusGrp.visible=!1)},t.prototype.askRoad=function(t){var e;if(t.target==this.bankerAskBtn)e="banker";else{if(t.target!=this.playerAskBtn)return;e="player"}if(!Core.NonstopTimer.instance.hasInterval(this.shineInterval)){var i=this.getRoadData().zhuZaiLuData.slice();"banker"==e?i.push(new VideoGameCore.RoadPaper.BeadData(VideoGameCore.RoadPaper.WinType.RED_WIN)):"player"==e&&i.push(new VideoGameCore.RoadPaper.BeadData(VideoGameCore.RoadPaper.WinType.BLUE_WIN)),this.fakeRoadData=new VideoGameCore.RoadPaper.RoadData(i),this.shineInterval=Core.NonstopTimer.instance.setInterval(this.shine,this,500),this.zhuZaiLuNav.update(),this.daLuNav.update(),this.daYanLuNav.update(),this.xiaoLuNav.update(),this.xiaoQiangLuNav.update()}},t.prototype.shine=function(){var t;this.shineCount%2==0?(t=this.fakeRoadData,this.zhuZaiLu.setListData(t.zhuZaiLuData,!0)):(t=this.getRoadData(),this.zhuZaiLu.setListData(t.zhuZaiLuData,!1));var e=this.getRoadData();this.daLu.setMapData(t.daLuData,e.daLuData.length!=t.daLuData.length),this.daYanLu.setMapData(t.daYanLuData,e.daYanLuData.length!=t.daYanLuData.length),this.xiaoLu.setMapData(t.xiaoLuData,e.xiaoLuData.length!=t.xiaoLuData.length),this.xiaoQiangLu.setMapData(t.xiaoQiangLuData,e.xiaoQiangLuData.length!=t.xiaoQiangLuData.length),this.shineCount++,this.shineCount>=6&&(Core.NonstopTimer.instance.clearInterval(this.shineInterval),this.shineCount=0)},t.prototype.updateRoadmap=function(){var t=!1,e=this.getRoadData();if(e&&this.visible&&(t=!0),this.getRoomTimerStore()&&11==this.getRoomTimerStore().gameStatus&&(t=!1),this.zhuZaiLu&&this.daLu&&this.daYanLu&&this.xiaoLu&&this.xiaoQiangLu)if(t){this.zhuZaiLu.setListData(e.zhuZaiLuData),this.daLu.setMapData(e.daLuData),this.daYanLu.setMapData(e.daYanLuData),this.xiaoLu.setMapData(e.xiaoLuData),this.xiaoQiangLu.setMapData(e.xiaoQiangLuData);var i=e.zhuZaiLuData.slice();i.push(new VideoGameCore.RoadPaper.BeadData(VideoGameCore.RoadPaper.WinType.RED_WIN));var r=new VideoGameCore.RoadPaper.RoadData(i),s=this.getLastRoad(r.daYanLuData),n=this.getLastRoad(r.xiaoLuData),o=this.getLastRoad(r.xiaoQiangLuData);this.drawCircle(this.bankerAskBtn.dylAskRoadGrp,s,!0),this.drawCircle(this.bankerAskBtn.xlAskRoadGrp,n,!1),this.drawXiaoQiangLu(this.bankerAskBtn.xqlAskRoadGrp,o);var a=e.zhuZaiLuData.slice();a.push(new VideoGameCore.RoadPaper.BeadData(VideoGameCore.RoadPaper.WinType.BLUE_WIN));var h=new VideoGameCore.RoadPaper.RoadData(a),u=this.getLastRoad(h.daYanLuData),c=this.getLastRoad(h.xiaoLuData),f=this.getLastRoad(h.xiaoQiangLuData);this.drawCircle(this.playerAskBtn.dylAskRoadGrp,u,!0),this.drawCircle(this.playerAskBtn.xlAskRoadGrp,c,!1),this.drawXiaoQiangLu(this.playerAskBtn.xqlAskRoadGrp,f)}else this.zhuZaiLu.setListData([]),this.daLu.setMapData([]),this.daYanLu.setMapData([]),this.xiaoLu.setMapData([]),this.xiaoQiangLu.setMapData([]),this.bankerAskBtn.dylAskRoadGrp.removeChildren(),this.bankerAskBtn.xlAskRoadGrp.removeChildren(),this.bankerAskBtn.xqlAskRoadGrp.removeChildren(),this.playerAskBtn.dylAskRoadGrp.removeChildren(),this.playerAskBtn.xlAskRoadGrp.removeChildren(),this.playerAskBtn.xqlAskRoadGrp.removeChildren()},t.prototype.getLastRoad=function(t){for(var e=t.length-1;e>=0;e--){var i=t[e];if(i&&i.length>0&&i[0].winType!=VideoGameCore.RoadPaper.WinType.NONE)for(var r=i.length-1;r>=0;r--)if(i[r]&&i[r].winType!=VideoGameCore.RoadPaper.WinType.NONE&&(0==r||i[r-1].winType!=VideoGameCore.RoadPaper.WinType.NONE))return i[0].winType}},t.prototype.drawCircle=function(t,e,i){t.removeChildren();var r=new egret.Shape;switch(e){case VideoGameCore.RoadPaper.WinType.RED_WIN:r.graphics.lineStyle(2,14619414),i||r.graphics.beginFill(14619414,1);break;case VideoGameCore.RoadPaper.WinType.BLUE_WIN:r.graphics.lineStyle(2,3618291),i||r.graphics.beginFill(3618291,1)}r.graphics.drawCircle(t.width/2,t.width/2,t.width/2),r.graphics.endFill(),t.addChild(r)},t.prototype.drawXiaoQiangLu=function(t,e){t.removeChildren();var i=new egret.Shape;switch(e){case VideoGameCore.RoadPaper.WinType.RED_WIN:i.graphics.lineStyle(2,14619414);break;case VideoGameCore.RoadPaper.WinType.BLUE_WIN:i.graphics.lineStyle(2,3618291)}i.graphics.moveTo(t.width-2,1),i.graphics.lineTo(1,t.height-2),i.graphics.endFill(),t.addChild(i)},t.prototype.onTapBeadType=function(){this.zhuZaiLu.beadType=this.btnBeadType.selected?1:0,this.zhuZaiLu.refresh()},t.prototype.onMouseEvent=function(t){if(t.target==this.btnBeadType){if(t.type==mouse.MouseEvent.MOUSE_OVER){var e=[1,0,0,0,50,0,1,0,0,50,0,0,1,0,50,0,0,0,1,0];this.btnBeadType.filters=[new egret.ColorMatrixFilter(e)]}t.type==mouse.MouseEvent.MOUSE_OUT&&(this.btnBeadType.filters=[])}},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.statList.dataProvider=this.countDataSource,this.btnBeadType.visible=VideoGameCore.PCGameConfig.instance.showRoadMapNum,this.btnBeadType.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapBeadType,this),this.btnBeadType.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseEvent,this),this.btnBeadType.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseEvent,this),mouse.setButtonMode(this.btnBeadType,!0)},t}(Core.StoreView);t.BacRoadMapPanelBase=e,__reflect(e.prototype,"PCPlaza.BacRoadMapPanelBase");var r=function(i){function t(t){var e=i.call(this)||this;switch(e.type="",e.type=t,e.skinName="PCPlaza.AskButton2Skin",e.labelDisplay2.size=18,e.type){case"banker":e.labelDisplay2.localeKey="PCPlaza.bac.banker_ask",e.labelDisplay2.textColor=14619414;break;case"player":e.labelDisplay2.localeKey="PCPlaza.bac.player_ask",e.labelDisplay2.textColor=3618291}return e}return __extends(t,i),t}(Core.PCButton);__reflect(r.prototype,"AskButtonItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.shineCount=0,t.skinName="PCPlaza.DtRoadMapPanelSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.btnBeadType&&(this.btnBeadType.visible=VideoGameCore.PCGameConfig.instance.showRoadMapNum,this.btnBeadType.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapBeadType,this),mouse.setButtonMode(this.btnBeadType,!0))},t.prototype.onStoreChange=function(t,e,i){if(e===Core.t)this.zhuZaiLu=new VideoGameCore.RoadPaper.RoadZhuZaiPaper(this.zhuZaiLuGrp.width,this.zhuZaiLuGrp.height,["PCPlaza.room.roadmap_dragon","PCPlaza.room.roadmap_tiger","PCPlaza.room.roadmap_tie"],4),this.zhuZaiLuGrp.removeChildren(),this.zhuZaiLuGrp.addChild(this.zhuZaiLu),this.zhuZaiLuNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.zhuZaiLu,this.zhuZaiLuGrp.width,this.zhuZaiLuGrp.height,this.zhuZaiLu.gridSize,1,1),this.daLu=new VideoGameCore.RoadPaper.RoadDaLuPaper(this.daLuGrp.width,this.daLuGrp.height,2),this.daLuGrp.removeChildren(),this.daLuGrp.addChild(this.daLu),this.daLuNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.daLu,this.daLuGrp.width,this.daLuGrp.height,this.daLu.gridSize,1,2),this.daYanLu=new VideoGameCore.RoadPaper.RoadDaYanLuPaper(this.daYanLuGrp.width,this.daYanLuGrp.height,2),this.daYanLuGrp.removeChildren(),this.daYanLuGrp.addChild(this.daYanLu),this.daYanLuNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.daYanLu,this.daYanLuGrp.width,this.daYanLuGrp.height,this.daYanLu.gridSize,1,2),this.xiaoLu=new VideoGameCore.RoadPaper.RoadXiaoLuPaper(this.xiaoLuGrp.width,this.xiaoLuGrp.height),this.xiaoLuGrp.removeChildren(),this.xiaoLuGrp.addChild(this.xiaoLu),this.xiaoLuNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.xiaoLu,this.xiaoLuGrp.width,this.xiaoLuGrp.height,this.xiaoLu.gridSize,1,2),this.xiaoQiangLu=new VideoGameCore.RoadPaper.RoadXiaoQiangLuPaper(this.xiaoQiangLuGrp.width,this.xiaoQiangLuGrp.height,2),this.xiaoQiangLuGrp.removeChildren(),this.xiaoQiangLuGrp.addChild(this.xiaoQiangLu),this.xiaoQiangLuNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.xiaoQiangLu,this.xiaoQiangLuGrp.width,this.xiaoQiangLuGrp.height,this.xiaoQiangLu.gridSize,1,2),this.bankerAskBtn=new r("banker"),this.playerAskBtn=new r("player"),this.askButtonGrp.addChildAt(this.bankerAskBtn,1),this.askButtonGrp.addChildAt(this.playerAskBtn,2),this.bankerAskBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.askRoad,this),this.playerAskBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.askRoad,this),this.askButtonGrp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.askRoad,this),this.roomStatusGrp.visible=!1,this.updateRoadmap(),this.updateStat(),this.tryPlayGrp.visible=Core.LoginStore.instance.isDemoAc;else if(t instanceof VideoGameCore.RoadMapStore||e===VideoGameCore.rt||e===Core.q){if(e!=Core.q&&(e!==VideoGameCore.rt||i&&i!==this.getVid()))return;this.updateRoadmap(),this.updateStat()}else this.updateRoomStatus();e===VideoGameCore.de&&(this.loadingGrp.visible=!1)},t.prototype.getCountList=function(){var t=[],e=this.getRoadData();return t.push({playtype:"PCPlaza.dt.bet_dragon",count:e.redCount,color:14619414}),t.push({playtype:"PCPlaza.dt.bet_tiger",count:e.blueCount,color:3618291}),t.push({playtype:"PCPlaza.dt.bet_tie",count:e.tieCount,color:3578627}),t.push({playtype:"PCPlaza.bac.total",count:e.totalCount,color:6697728}),t},t.prototype.updateStat=function(){this.countDataSource=new eui.ArrayCollection(this.getCountList()),this.statList.dataProvider=this.countDataSource},t.prototype.updateRoomStatus=function(){var t=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.getVid()),e=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(t.platformtype,this.getVid());e?(this.roomStatus.localeKey="PCPlaza.room.maintain",this.roomStatus.refresh(),this.roomStatusGrp.visible=!0):11==this.getRoomTimerStore().gameStatus?(this.roomStatus.localeKey="PCPlaza.room.shuffle",this.roomStatus.refresh(),this.roomStatusGrp.visible=!0):this.roomStatusGrp.visible&&(this.roomStatusGrp.visible=!1)},t.prototype.askRoad=function(t){var e;if(t.target==this.bankerAskBtn)e="banker";else{if(t.target!=this.playerAskBtn)return;e="player"}if(!Core.NonstopTimer.instance.hasInterval(this.shineInterval)){var i=this.getRoadData().zhuZaiLuData.slice();"banker"==e?i.push(new VideoGameCore.RoadPaper.BeadData(VideoGameCore.RoadPaper.WinType.RED_WIN)):"player"==e&&i.push(new VideoGameCore.RoadPaper.BeadData(VideoGameCore.RoadPaper.WinType.BLUE_WIN)),this.fakeRoadData=new VideoGameCore.RoadPaper.RoadData(i),this.shineInterval=Core.NonstopTimer.instance.setInterval(this.shine,this,500),this.zhuZaiLuNav.update(),this.daLuNav.update(),this.daYanLuNav.update(),this.xiaoLuNav.update(),this.xiaoQiangLuNav.update()}},t.prototype.shine=function(){var t;this.shineCount%2==0?(t=this.fakeRoadData,this.zhuZaiLu.setListData(t.zhuZaiLuData,!0)):(t=this.getRoadData(),this.zhuZaiLu.setListData(t.zhuZaiLuData,!1));var e=this.getRoadData();this.daLu.setMapData(t.daLuData,e.daLuData.length!=t.daLuData.length),this.daYanLu.setMapData(t.daYanLuData,e.daYanLuData.length!=t.daYanLuData.length),this.xiaoLu.setMapData(t.xiaoLuData,e.xiaoLuData.length!=t.xiaoLuData.length),this.xiaoQiangLu.setMapData(t.xiaoQiangLuData,e.xiaoQiangLuData.length!=t.xiaoQiangLuData.length),this.shineCount++,this.shineCount>=6&&(Core.NonstopTimer.instance.clearInterval(this.shineInterval),this.shineCount=0)},t.prototype.updateRoadmap=function(){var t=!1,e=this.getRoadData();if(e&&this.visible&&(t=!0),this.getRoomTimerStore()&&11==this.getRoomTimerStore().gameStatus&&(t=!1),this.zhuZaiLu&&this.daLu&&this.daYanLu&&this.xiaoLu&&this.xiaoQiangLu)if(t){this.zhuZaiLu.setListData(e.zhuZaiLuData),this.daLu.setMapData(e.daLuData),this.daYanLu.setMapData(e.daYanLuData),this.xiaoLu.setMapData(e.xiaoLuData),this.xiaoQiangLu.setMapData(e.xiaoQiangLuData);var i=e.zhuZaiLuData.slice();i.push(new VideoGameCore.RoadPaper.BeadData(VideoGameCore.RoadPaper.WinType.RED_WIN));var r=new VideoGameCore.RoadPaper.RoadData(i),s=this.getLastRoad(r.daYanLuData),n=this.getLastRoad(r.xiaoLuData),o=this.getLastRoad(r.xiaoQiangLuData);this.drawCircle(this.bankerAskBtn.dylAskRoadGrp,s,!0),this.drawCircle(this.bankerAskBtn.xlAskRoadGrp,n,!1),this.drawXiaoQiangLu(this.bankerAskBtn.xqlAskRoadGrp,o);var a=e.zhuZaiLuData.slice();a.push(new VideoGameCore.RoadPaper.BeadData(VideoGameCore.RoadPaper.WinType.BLUE_WIN));var h=new VideoGameCore.RoadPaper.RoadData(a),u=this.getLastRoad(h.daYanLuData),c=this.getLastRoad(h.xiaoLuData),f=this.getLastRoad(h.xiaoQiangLuData);this.drawCircle(this.playerAskBtn.dylAskRoadGrp,u,!0),this.drawCircle(this.playerAskBtn.xlAskRoadGrp,c,!1),this.drawXiaoQiangLu(this.playerAskBtn.xqlAskRoadGrp,f)}else this.zhuZaiLu.setListData([]),this.daLu.setMapData([]),this.daYanLu.setMapData([]),this.xiaoLu.setMapData([]),this.xiaoQiangLu.setMapData([]),this.bankerAskBtn.dylAskRoadGrp.removeChildren(),this.bankerAskBtn.xlAskRoadGrp.removeChildren(),this.bankerAskBtn.xqlAskRoadGrp.removeChildren(),this.playerAskBtn.dylAskRoadGrp.removeChildren(),this.playerAskBtn.xlAskRoadGrp.removeChildren(),this.playerAskBtn.xqlAskRoadGrp.removeChildren()},t.prototype.getLastRoad=function(t){for(var e=t.length-1;e>=0;e--){var i=t[e];if(i&&i.length>0&&i[0].winType!=VideoGameCore.RoadPaper.WinType.NONE)for(var r=i.length-1;r>=0;r--)if(i[r]&&i[r].winType!=VideoGameCore.RoadPaper.WinType.NONE&&(0==r||i[r-1].winType!=VideoGameCore.RoadPaper.WinType.NONE))return i[0].winType}},t.prototype.drawCircle=function(t,e,i){t.removeChildren();var r=new egret.Shape;switch(e){case VideoGameCore.RoadPaper.WinType.RED_WIN:r.graphics.lineStyle(2,14619414),i||r.graphics.beginFill(14619414,1);break;case VideoGameCore.RoadPaper.WinType.BLUE_WIN:r.graphics.lineStyle(2,3618291),i||r.graphics.beginFill(3618291,1)}r.graphics.drawCircle(t.width/2,t.width/2,t.width/2),r.graphics.endFill(),t.addChild(r)},t.prototype.drawXiaoQiangLu=function(t,e){t.removeChildren();var i=new egret.Shape;switch(e){case VideoGameCore.RoadPaper.WinType.RED_WIN:i.graphics.lineStyle(2,14619414);break;case VideoGameCore.RoadPaper.WinType.BLUE_WIN:i.graphics.lineStyle(2,3618291)}i.graphics.moveTo(t.width-2,1),i.graphics.lineTo(1,t.height-2),i.graphics.endFill(),t.addChild(i)},t.prototype.onTapBeadType=function(){this.zhuZaiLu.beadType=this.btnBeadType.selected?1:0,this.zhuZaiLu.refresh()},t}(Core.StoreView);t.DtRoadMapPanelBase=e,__reflect(e.prototype,"PCPlaza.DtRoadMapPanelBase");var r=function(i){function t(t){var e=i.call(this)||this;switch(e.type="",e.type=t,e.skinName="PCPlaza.AskButton2Skin",e.type){case"banker":e.labelDisplay2.localeKey="PCPlaza.dt.dragon_ask",e.labelDisplay2.textColor=14619414;break;case"player":e.labelDisplay2.localeKey="PCPlaza.dt.tiger_ask",e.labelDisplay2.textColor=3618291}return e}return __extends(t,i),t}(Core.PCButton);__reflect(r.prototype,"AskButtonItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.selectItem=null,t}return __extends(t,e),t.prototype.getStoreList=function(){return[VideoGameCore.PlazaRoadStore.instance,VideoGameCore.Rou.RoomTimerStore.instance,Core.LocalizeStore.instance,VideoGameCore.Rou.RouStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.initRoadMap(),this.updateRoadMap();break;case VideoGameCore.rt:i&&i!==this.getVid()||this.updateRoadMap();break;case Core.q:this.updateRoadMap(!0);break;case VideoGameCore.de:this.loadingGrp.visible=!1}},t.prototype.getVid=function(){return VideoGameCore.Rou.RoomTimerStore.instance.vid},t.prototype.initRoadMap=function(){var t;this.mainPaper=new VideoGameCore.RoadPaper.RoadRouMainPaper(this.roadMapAGrp.width,this.roadMapAGrp.height,6),this.roadMapAGrp.removeChildren(),this.roadMapAGrp.addChild(this.mainPaper),t=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.mainPaper,this.roadMapAGrp.width,this.roadMapAGrp.height,this.mainPaper.gridSize,1,1),this.subPaper=new VideoGameCore.RoadPaper.RoadRouSubPaper(this.roadMapBGrp.width,this.roadMapBGrp.height,["PCPlaza.rou.roadmap.zero","PCPlaza.rou.roadmap.red","PCPlaza.rou.roadmap.black","PCPlaza.rou.roadmap.big","PCPlaza.rou.roadmap.small","PCPlaza.rou.roadmap.odd","PCPlaza.rou.roadmap.even"],6),this.roadMapBGrp.removeChildren(),this.roadMapBGrp.addChild(this.subPaper),this.subPaperNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.subPaper,this.roadMapBGrp.width,this.roadMapBGrp.height,this.subPaper.gridSize,1,1),this.rowPaper=new VideoGameCore.RoadPaper.RoadRouRowPaper(this.roadMapCGrp.width,this.roadMapCGrp.height,7),this.roadMapCGrp.removeChildren(),this.roadMapCGrp.addChild(this.rowPaper),this.rowPaperNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.rowPaper,this.roadMapCGrp.width,this.roadMapCGrp.height,this.rowPaper.gridSize,1,1),this.roadMapCSet.visible=!1,this.typeList.allowMultipleSelection=!1,this.typeList.selectedIndex=0,this.typeList.addEventListener(egret.Event.CHANGE,this.onTypeChange,this)},t.prototype.updateRoadMap=function(t){void 0===t&&(t=!1);var e;e=VideoGameCore.PlazaRoadStore.instance.getRouRoadData(this.getVid()),e&&(this.mainPaper.setListData(e.resultList),this.subPaper.setListData(e.resultList),this.rowPaper.setListData(e.resultList))},t.prototype.onTypeChange=function(t){switch(this.selectItem||(this.selectItem=this.typeList.getElementAt(0)),this.selectItem.updateFillColor(),this.selectItem=this.typeList.getElementAt(this.typeList.selectedIndex),this.selectItem.updateFillColor(),this.roadMapBGrp.visible=1!=this.typeList.selectedIndex,this.roadMapCSet.visible=1==this.typeList.selectedIndex,this.typeList.selectedIndex){case 0:this.subPaper.setMapType(0);break;case 2:this.subPaper.setMapType(1);break;case 3:this.subPaper.setMapType(2)}this.subPaperNav.update(),this.rowPaperNav.update()},t}(Core.StoreView);t.RouRoadMapPanel=e,__reflect(e.prototype,"PCPlaza.RouRoadMapPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(M){var t=function(r){function t(t,e){var i=r.call(this)||this;return i.zoomLvl=0,i.pPokers=[],i.bPokers=[],i.dPokers=[],i.tPokers=[],i.nnbPokers=[],i.nnpPokers=[],i.nnp1Pokers=[],i.nnp2Pokers=[],i.dragonPokers=[],i.phoenixPokers=[],i.storedVideoStatus=!1,i.replayReady=!1,i.data=t,i.result=e,i.skinName=i.defaultSkinName,i.pPokers=[i.pPoker1,i.pPoker2,i.pPoker3],i.bPokers=[i.bPoker1,i.bPoker2,i.bPoker3],i.tPokers=[i.tPoker1,i.tPoker2,i.tPoker3],i.dPokers=[i.dPoker1,i.dPoker2,i.dPoker3],i.dragonPokers=[i.dragon1,i.dragon2,i.dragon3],i.phoenixPokers=[i.phoenix1,i.phoenix2,i.phoenix3],i.bj_banker_result=i.data.bj_banker_result.split(","),i.bj_player_result=i.data.bj_player_result.split(","),i.initVideoPanel(),i}return __extends(t,r),t.prototype.initVideoPanel=function(){this.videoStore=VideoGameCore.VideoFactory.instance.getVideoStoreById(M.REPLAY_ROOT_ID),this.videoStore.setStreamList([]),this.videoPanel=new VideoGameCore.PCVideoPanelBase(M.REPLAY_ROOT_ID),this.videoPanel.width=1280,this.videoPanel.height=720,this.videoPanelHolder.addChild(this.videoPanel)},t.prototype.getStoreList=function(){return[Core.globalStore,this.videoStore]},Object.defineProperty(t.prototype,"defaultSkinName",{get:function(){return"PCPlaza.BetHistoryReplayPopupSkin"},enumerable:!0,configurable:!0}),t.prototype.onRemoveFromStage=function(){this.videoPanel.updateLayer(0),this.stopVideo(),r.prototype.onRemoveFromStage.call(this)},t.prototype.onStoreChange=function(t,e,i){var r=this;switch(e){case M.ve:this.stopVideo();break;case VideoGameCore.B:case VideoGameCore.O:this.videoLoading&&(this.videoLoading.visible=!0),this.replayReady=!1,this.updateZoomBtns();break;case VideoGameCore.j:this.videoLoading&&(this.videoLoading.visible=!1),this.videoStore.updateLayer(1e3),this.replayReady=!0,this.updateZoomBtns();break;case Core.t:switch(this.BAC&&(this.BAC.visible=!1),this.DT&&(this.DT.visible=!1),this.ROU&&(this.ROU.visible=!1),this.BJ&&(this.BJ.visible=!1),this.ZJH&&(this.ZJH.visible=!1),this.replayReady=!1,this.updateZoomBtns(),this.crossBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCrossClick,this),this.zoomInBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onZoomInClick,this),this.zoomOutBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onZoomOutClick,this),this.replayBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onReplayClick,this),this.gamecode.localeFunc=function(){return r.data?Core.LocalizeStore.instance.translate("PCPlaza.records.bet.game_code")+" : "+r.data.gmcode:""},this.gamecode.refresh(),this.videoStore.isOpen?(this.storedVideoStatus=!0,this.videoStore.isOpen=!1):this.storedVideoStatus=!1,egret.callLater(this.playVideo,this),this.data.gametype){case"CBAC":case"ABAC":case"SBAC":case"LBAC":case"BAC":this.BAC.visible=!0;var s=this.result.split(" ");this.bScoreLabel.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_banker")+" "+s[3]:""},this.bScoreLabel.refresh(),this.pScoreLabel.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_player")+" "+s[1]:""},this.pScoreLabel.refresh();for(var n=this.data.cardlist,o=(n.split(","),n.split(";")),a=0;3>a;a++){var h=o[0].split(" ");2==h.length&&(this.pPokers[0].x=80,this.pPokers[1].x=180),a<h.length?this.pPokers[a].source=VideoGameCore.getCardImgBySize(Number(h[a]),1):this.pPokers[a].source=null}for(var a=0;3>a;a++){var u=o[1].split(" ");2==u.length&&(this.bPokers[0].x=80,this.bPokers[1].x=180),a<u.length?this.bPokers[a].source=VideoGameCore.getCardImgBySize(Number(u[a]),1):this.bPokers[a].source=null}break;case"SHB":this.SHB.visible=!0;var c=this.result.split(",");this.lblResult.text=VideoGameCore.RoadPaper.shbGetResultSum(parseInt(c[0]),parseInt(c[1]),parseInt(c[2])).toString(),this.dice01.source="nav_asset_json.0"+c[0],this.dice02.source="nav_asset_json.0"+c[1],this.dice03.source="nav_asset_json.0"+c[2];break;case"DT":this.DT.visible=!0;var s=this.result.split(" ");this.tScoreLabel.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?r.getNumber(s[1]):""},this.tScoreLabel.refresh(),this.dScoreLabel.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?r.getNumber(s[0]):""},this.dScoreLabel.refresh();var n=this.data.cardlist,o=(n.split(","),n.split(";"));switch(this.data.gametype){case"DT":this.DT.visible=!0;for(var a=0;3>a;a++){var h=o[0].split(" ");a<h.length?this.dPokers[a].source=VideoGameCore.getCardImgBySize(Number(h[a]),1):this.dPokers[a].source=null}for(var a=0;3>a;a++){var u=o[1].split(" ");a<u.length?this.tPokers[a].source=VideoGameCore.getCardImgBySize(Number(u[a]),1):this.tPokers[a].source=null}}break;case"BJ":this.BJ.visible=!0;var f=(this.bj_banker_result[0],this.bj_banker_result[1]),C=this.bj_banker_result[2],l=this.bj_player_result[0],m=this.bj_player_result[1],d=this.bj_player_result[2],v=this.bj_player_result[3],G=this.bj_player_result[4],_=(this.bj_player_result[5],this.bj_player_result[6],this.data.bj_bet_seatnum);this.biconBJ.visible="1"==f?!0:!1,this.piconBJ.visible="1"==d?!0:!1,this.bjbScoreLabel.localeFunc=function(){return 226!=r.data.playtype&&227!=r.data.playtype&&222!=r.data.playtype&&230!=r.data.playtype?C&&"1"!=f?C+Core.LocalizeStore.instance.translate("PCPlaza.bj.point"):"":222==r.data.playtype||230==r.data.playtype?(r.bjpLabel.visible=!1,r.bjpScoreLabel.visible=!1,r.pCardsGrp.visible=!1,Core.LocalizeStore.instance.translate("PCPlaza.bj.first_two_card")):227==r.data.playtype?Core.LocalizeStore.instance.translate("PCPlaza.bj.first_card"):""},this.bjbScoreLabel.refresh(),220==this.data.playtype||224==this.data.playtype||228==this.data.playtype||232==this.data.playtype?this.bjpScoreLabel.localeFunc=function(){return v&&"1"!=d?v+Core.LocalizeStore.instance.translate("PCPlaza.bj.point"):""}:221==this.data.playtype||229==this.data.playtype?this.bjpScoreLabel.localeFunc=function(){return G?G+Core.LocalizeStore.instance.translate("PCPlaza.bj.point"):""}:222==this.data.playtype||230==this.data.playtype?this.bjpScoreLabel.localeFunc=function(){return C&&"1"==f?Core.LocalizeStore.instance.translate("PCPlaza.bj.first_two_card"):""}:226==this.data.playtype?(this.bjbLabel.visible=!1,this.bjbScoreLabel.visible=!1,this.bCardsGrp.visible=!1,this.bjpLabel.y-=50,this.bjpScoreLabel.y-=50,this.pCardsGrp.y-=50,this.bjpScoreLabel.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.bj.first_two_card")}):227==this.data.playtype&&(this.bjpScoreLabel.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.bj.first_two_card")});var b=this.data.bj_cardlist,P=b.split(";"),V=P[0].split("B:")[1];if(V)var g=V.split(" ");else var g=null;var p="P"+_+":",k=b.split(p),w=k[1].split(";");if(w)var z=w[0];else var z=null;if("0"!=G)if(z){var S=z.split(",");if(220==this.data.playtype||224==this.data.playtype||228==this.data.playtype||232==this.data.playtype)var y=S[0].split(" ");else if(221==this.data.playtype||229==this.data.playtype)var y=S[1].split(" ");else if(226==this.data.playtype||227==this.data.playtype)var y=S[0].split(" ")}else var y=null;else if(z)var y=z.split(" ");else var y=null;this.resultLabel.localeFunc=function(){var t="";if(r.data)if(226==r.data.playtype)"0"==l?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_not_pair"):"1"==l?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_perfect_pair"):"2"==l?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_colored_pair"):"3"==l&&(t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_mix_pair"));else if(227==r.data.playtype)t="21 + 3 ","0"==m?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_no_card_type"):"1"==m?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_suited_trips"):"2"==m?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_straight_flush"):"3"==m?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_three_of_a_kind"):"4"==m?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_straight"):"5"==m&&(t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_flush"));else if(222===r.data.playtype||230===r.data.playtype)"1"==f&&(t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_banker_insurance_bj"));else{t+="1"==f?Core.LocalizeStore.instance.substitute("PCPlaza.bj.result_banker_bj","Blackjack")+", ":Core.LocalizeStore.instance.substitute("PCPlaza.bj.result_banker",C)+", ";var e=Number(C);if(221!=r.data.playtype&&229!=r.data.playtype){t+="1"==d?Core.LocalizeStore.instance.substitute("PCPlaza.bj.result_player_bj","Blackjack")+", ":Core.LocalizeStore.instance.substitute("PCPlaza.bj.result_player",v)+", ";var i=Number(v)}else{t+=Core.LocalizeStore.instance.substitute("PCPlaza.bj.result_player",G)+", ";var i=Number(G)}t+=e>21&&i>21?Core.LocalizeStore.instance.translate("PCPlaza.bj.tie"):e>21?Core.LocalizeStore.instance.translate("PCPlaza.bj.player_win"):i>21?Core.LocalizeStore.instance.translate("PCPlaza.bj.banker_win"):"1"==f&&"1"==d?Core.LocalizeStore.instance.translate("PCPlaza.bj.tie"):"1"==f?Core.LocalizeStore.instance.translate("PCPlaza.bj.banker_win"):"1"==d?Core.LocalizeStore.instance.translate("PCPlaza.bj.player_win"):e==i?Core.LocalizeStore.instance.translate("PCPlaza.bj.tie"):e>i?Core.LocalizeStore.instance.translate("PCPlaza.bj.banker_win"):Core.LocalizeStore.instance.translate("PCPlaza.bj.player_win")}else t="";return t},this.resultLabel.refresh();var E=70,T=.75,x=450;if(null!=g&&(this.bCardsGrp.removeChildren(),this.bCardsList=this.initCards(g),this.bCardsList.length>0))for(var O=E*T,I=this.bCardsList.length,R=(I-1)*O+E,L=(x-R)/2,a=0;a<this.bCardsList.length;a++){var j=this.bCardsList[a];j.x=L,this.bCardsGrp.addChild(j),L+=O}if(null!=y&&(this.pCardsGrp.removeChildren(),this.pCardsList=this.initCards(y),this.pCardsList.length>0))for(var O=E*T,I=this.pCardsList.length,R=(I-1)*O+E,L=(x-R)/2,a=0;a<this.pCardsList.length;a++){var j=this.pCardsList[a];j.x=L,this.pCardsGrp.addChild(j),L+=O}break;case"ROU":this.ROU.visible=!0,this.rouResult.text=this.result;break;case"ZJH":this.ZJH.visible=!0;var s=this.result.split(" ");this.dragonLabel.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?Core.LocalizeStore.instance.translate("PCPlaza.zjh.dragon"):""},this.dragonLabel.refresh(),this.phoenixLabel.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?Core.LocalizeStore.instance.translate("PCPlaza.zjh.phoenix"):""},this.phoenixLabel.refresh(),this.dScore.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?Core.LocalizeStore.instance.translate("PCPlaza.zjh."+s[0]):""},this.dScore.refresh(),this.pScore.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?Core.LocalizeStore.instance.translate("PCPlaza.zjh."+s[1]):""},this.pScore.refresh(),this.border1.visible=1==this.data.zjh_result?!0:!1,this.border2.visible=2==this.data.zjh_result?!0:!1;for(var n=this.data.cardlist,o=(n.split(","),n.split(";")),a=0;3>a;a++){var h=o[0].split(" ");a<h.length?this.dragonPokers[a].source=VideoGameCore.getCardImgBySize(Number(h[a]),1):this.dragonPokers[a].source=null}for(var a=0;3>a;a++){var u=o[1].split(" ");a<u.length?this.phoenixPokers[a].source=VideoGameCore.getCardImgBySize(Number(u[a]),1):this.phoenixPokers[a].source=null}break;case"NN":this.NN.visible=!0,this.nnbPokers=[this.nnbPoker1,this.nnbPoker2,this.nnbPoker3,this.nnbPoker4,this.nnbPoker5],this.nnpPokers=[this.nnpPoker1,this.nnpPoker2,this.nnpPoker3,this.nnpPoker4,this.nnpPoker5],this.nnp1Pokers=[this.nnp1Poker1,this.nnp1Poker2,this.nnp1Poker3,this.nnp1Poker4,this.nnp1Poker5],this.nnp2Pokers=[this.nnp2Poker1,this.nnp2Poker2,this.nnp2Poker3,this.nnp2Poker4,this.nnp2Poker5];var B=this.data.cardlist,o=(B.split(","),B.split(";")),A=o[0].split(" ");this.firstCard.source=VideoGameCore.getCardImgBySize(Number(A[0]),1);for(var a=0;5>a;a++){var N=o[1].split(" ");a<N.length?this.nnbPokers[a].source=VideoGameCore.getCardImgBySize(Number(N[a]),1):this.nnbPokers[a].source=null}for(var a=0;5>a;a++){var N=o[2].split(" ");a<N.length?this.nnpPokers[a].source=VideoGameCore.getCardImgBySize(Number(N[a]),1):this.nnpPokers[a].source=null}for(var a=0;5>a;a++){var N=o[3].split(" ");a<N.length?this.nnp1Pokers[a].source=VideoGameCore.getCardImgBySize(Number(N[a]),1):this.nnp1Pokers[a].source=null}for(var a=0;5>a;a++){var N=o[4].split(" ");a<N.length?this.nnp2Pokers[a].source=VideoGameCore.getCardImgBySize(Number(N[a]),1):this.nnp2Pokers[a].source=null}this.nnbankerLabel.localeFunc=function(){var t="";return t=Core.LocalizeStore.instance.translate("PCPlaza.bull.banker_2")+" (",r.data&&"undefined"!=typeof r.data?(t+=20==r.data.bankerpoint?Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_bull"):50==r.data.bankerpoint?Core.LocalizeStore.instance.translate("PCPlaza.bull.5_bull"):Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_"+r.data.bankerpoint),t+=")"):""},this.nnbankerLabel.refresh(),this.nnplayerLabel.localeFunc=function(){var t="";return t=Core.LocalizeStore.instance.translate("PCPlaza.bull.player1")+" (",r.data&&"undefined"!=typeof r.data?(t+=20==r.data.playerpoint?Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_bull"):50==r.data.playerpoint?Core.LocalizeStore.instance.translate("PCPlaza.bull.5_bull"):Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_"+r.data.playerpoint),t+=")"):""},this.nnplayerLabel.refresh(),this.nnplayer1Label.localeFunc=function(){var t="";return t=Core.LocalizeStore.instance.translate("PCPlaza.bull.player2")+" (",r.data&&"undefined"!=typeof r.data?(t+=20==r.data.playerpoint2?Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_bull"):50==r.data.playerpoint2?Core.LocalizeStore.instance.translate("PCPlaza.bull.5_bull"):Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_"+r.data.playerpoint2),t+=")"):""},this.nnplayer1Label.refresh(),this.nnplayer2Label.localeFunc=function(){var t="";return t=Core.LocalizeStore.instance.translate("PCPlaza.bull.player3")+" (",r.data&&"undefined"!=typeof r.data?(t+=20==r.data.playerpoint3?Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_bull"):50==r.data.playerpoint3?Core.LocalizeStore.instance.translate("PCPlaza.bull.5_bull"):Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_"+r.data.playerpoint3),t+=")"):""},this.nnplayer2Label.refresh()}}},t.prototype.onCrossClick=function(){Core.globalStore.dispatchGlobal(Core.Ge,this)},t.prototype.onZoomInClick=function(){"ROU"==this.data.gametype?(this.zoomLvl=VideoGameCore.REPLAY_ZOOM_MAX_LVL,this.videoPanel.clipPlayer(320,360,640,360,500),this.updateZoomBtns()):this.zoomLvl<VideoGameCore.REPLAY_ZOOM_MAX_LVL&&(this.zoomLvl++,this.zoomPlayer(this.zoomLvl),this.updateZoomBtns())},t.prototype.onZoomOutClick=function(){"ROU"==this.data.gametype?(this.zoomLvl=0,this.videoPanel.clipPlayer(0,0,1280,720,500),this.updateZoomBtns()):this.zoomLvl>0&&(this.zoomLvl--,this.zoomPlayer(this.zoomLvl),this.updateZoomBtns())},t.prototype.onReplayClick=function(){this.videoLoading&&(this.videoLoading.visible=!0),this.zoomLvl=0,this.zoomPlayer(0),this.playVideo()},t.prototype.playVideo=function(){var t=this.data.platformtype;t==VideoGameCore.PLATFORM_VIP&&this.data.gametype==VideoGameCore.GAME_ABAC&&(t=VideoGameCore.PLATFORM_LED);var e=VideoGameCore.VideoConfig.instance.getReplayAddress(t);if(this.replayReady=!1,e&&e.url){this.videoPanelHolder.visible=!0;var i=new Array,r={};e.url&&(r.url=e.url+this.data.gmcode+".flv"),e.rtmp&&(r.rtmp=e.rtmp+this.data.gmcode),i.push(r),this.videoStore.setLineHost(i),this.videoStore.filePath={url:"",hls:"",rtmp:""},this.videoStore.updateStreamList(),this.videoStore.playerOptions={hasAudio:e.hasAudio},VideoGameCore.VideoFactory.instance.stopPlayer(M.REPLAY_ROOT_ID),VideoGameCore.VideoFactory.instance.openPlayer(M.REPLAY_ROOT_ID),this.zoomLvl=0,this.updateZoomBtns()}},t.prototype.stopVideo=function(t){void 0===t&&(t=!1),VideoGameCore.VideoFactory.instance.stopPlayer(M.REPLAY_ROOT_ID,t),this.videoPanelHolder.visible=!1,this.storedVideoStatus&&(this.videoStore.isOpen=!0)},t.prototype.zoomPlayer=function(t){switch(this.data.gametype){case VideoGameCore.GAME_BJ:switch(t){case 0:this.videoPanel.clipPlayer(0,0,1280,720,500);break;case 1:this.videoPanel.clipPlayer(1280/8.5,160,1280/1.3,720/1.3,500);break;case 2:this.videoPanel.clipPlayer(1280/6,720/3.5,1280/1.5,480,500);break;case 3:this.videoPanel.clipPlayer(1280/4.8,225,1280/1.7,720/1.7,500)}break;case VideoGameCore.GAME_NN:switch(t){case 0:this.videoPanel.clipPlayer(0,0,1280,720,500);break;case 1:this.videoPanel.clipPlayer(128,72,1024,576,500);break;case 2:this.videoPanel.clipPlayer(192,108,896,504,500);break;case 3:this.videoPanel.clipPlayer(256,144,768,432,500)}break;default:var e=128*this.zoomLvl,i=72*this.zoomLvl,r=1280-2*e,s=720-2*i;this.videoPanel.clipPlayer(e,i,r,s,100)}},t.prototype.updateZoomBtns=function(){this.zoomInBtn.enabled=this.replayReady&&this.zoomLvl<VideoGameCore.REPLAY_ZOOM_MAX_LVL,this.zoomOutBtn.enabled=this.replayReady&&this.zoomLvl>0},t.prototype.getNumber=function(t){var e=t.trim(),i="";if(null!=e&&""!=e)for(var r=0;r<e.length;r++)(e.charAt(r)>="0"&&e.charAt(r)<="9"||"J"==e.charAt(r)||"Q"==e.charAt(r)||"K"==e.charAt(r))&&(i+=e.charAt(r));return i},t.prototype.initCards=function(t){for(var e=[],i=0;i<t.length;i++){var r=Number(t[i]),s=new eui.Image;s.source=VideoGameCore.getImgByCardCode(r,"cards3_json."),e.push(s)}return e},t}(Core.StoreView);M.BetHistoryReplayPopup=t,__reflect(t.prototype,"PCPlaza.BetHistoryReplayPopup")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.skinName=i.defaultSkinName,i.init(),i.imgClose.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapClose,i),i.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapClose,i),i.btnConfirm=new s,i.btnConfirm.label="确定",i.btnConfirm.x=104.25,i.btnConfirm.y=551.75,i.btnConfirm.localeKey="PCPlaza.common.confirm",i.btnConfirm.skinName="PCPlaza.ConfirmButtonSkin",i.addChildAt(i.btnConfirm,i.numChildren-3),i.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapSave,i),i.menuLang.addEventListener(egret.Event.CHANGE,i.onChangeLang,i),i.switchMusicSound.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapSwitchMusicSound,i),i.switchGameSound.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapSwitchGameSound,i),i.switchSound.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapSwitchSound,i),i.switchLiveSound.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapSwitchLiveSound,i),i.switchVideo.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapSwitchVideo,i),i.sliderMusic.addEventListener(egret.Event.CHANGE,i.onMusicValChange,i),i.sliderSound.addEventListener(egret.Event.CHANGE,i.onSoundValChange,i),i.sliderGame.addEventListener(egret.Event.CHANGE,i.onGameValChange,i),i.sliderLive.addEventListener(egret.Event.CHANGE,i.onLiveValChange,i),i.box.swapChildren(i.menuLang,i.menuMusic),i}return __extends(t,r),t.prototype.init=function(){this.setEnableMusicSound(VideoGameCore.SettingStore.instance.getBGMEnable()),this.setEnableGameSound(VideoGameCore.SettingStore.instance.getGameSoundEnable()),this.setEnableSound(VideoGameCore.SettingStore.instance.getSoundEnable()),this.setEnableLiveSound(VideoGameCore.SettingStore.instance.getLiveSoundEnable()&&VideoGameCore.PCGameConfig.instance.videoConfig.sound),this.setEnableVideo(VideoGameCore.SettingStore.instance.getVideoAutoChange()),this.sliderMusic.value=90*VideoGameCore.SettingStore.instance.getBgmVolume(),this.sliderGame.value=90*VideoGameCore.SettingStore.instance.getGameVolume(),this.sliderLive.value=90*VideoGameCore.SettingStore.instance.getLiveVolume(),this.sliderSound.value=90*VideoGameCore.SettingStore.instance.getSoundVolume()},t.prototype.onTapClose=function(){this.dismiss(!1),this.isClose=!0},t.prototype.onTapSave=function(){if(this.dismiss(!1),this.menuLang.index!=this.openMenuLangIndex){var t=this.menuLang.index,e=this.menuLang.getLanguageArray()[t];VideoGameCore.VideoPlazaStore.instance.changeLang(e)}if(this.menuMusic.index!=this.openMenuMusicIndex){this.menuMusic.index}if(this.menuSound.index!=this.openMenuSoundIndex){var i=this.menuSound.index,e=this.menuLang.getLanguageArray()[i];VideoGameCore.VideoPlazaStore.instance.changeLang(e,!0)}if(1==this.menuLang.getLanguageArray().length){var e=this.menuLang.getLanguageArray()[0];VideoGameCore.VideoPlazaStore.instance.changeLang(e),VideoGameCore.VideoPlazaStore.instance.changeLang(e,!0)}},t.prototype.onTapSwitchMusicSound=function(){VideoGameCore.SettingStore.instance.setBGMEnable(this.switchMusicSound.selected),VideoGameCore.SettingStore.instance.setGlobalBGMEnable(this.switchMusicSound.selected)},t.prototype.onTapSwitchGameSound=function(){VideoGameCore.SettingStore.instance.setGameSoundEnable(this.switchGameSound.selected)},t.prototype.onTapSwitchSound=function(){VideoGameCore.SettingStore.instance.setSoundEnable(this.switchSound.selected)},t.prototype.onTapSwitchLiveSound=function(){VideoGameCore.SettingStore.instance.setLiveEnable(this.switchLiveSound.selected)},t.prototype.onTapSwitchVideo=function(){VideoGameCore.SettingStore.instance.setVideoAutoChange(this.switchVideo.selected)},t.prototype.setEnableMusicSound=function(t){this.switchMusicSound.selected=t,this.switchMusicSound.skin.currentState=t?"downAndSelected":"down",this.sliderMusic.skin.currentState=t?"enable":"disable",this.menuMusic.setEnable(t)},t.prototype.setEnableGameSound=function(t){this.switchGameSound.selected=t,this.switchGameSound.skin.currentState=t?"downAndSelected":"down",this.sliderGame.skin.currentState=t?"enable":"disable"},t.prototype.setEnableSound=function(t){this.switchSound.selected=t,this.switchSound.skin.currentState=t?"downAndSelected":"down",this.sliderSound.skin.currentState=t?"enable":"disable",this.menuSound.setEnable(t)},t.prototype.setEnableLiveSound=function(t){this.switchLiveSound.selected=t,this.switchLiveSound.skin.currentState=t?"downAndSelected":"down",this.sliderLive.skin.currentState=t?"enable":"disable"},t.prototype.setEnableVideo=function(t){this.switchVideo.selected=t,this.switchVideo.skin.currentState=t?"downAndSelected":"down"},t.prototype.onChangeLang=function(){null!=this.menuSound&&(this.menuLang.index>Core.LANG_SOUND_SUPPORTED.length-1?this.menuSound.setIndex(Core.LANG_SOUND_SUPPORTED.indexOf(Core.LANG_EN)):this.menuSound.setIndex(this.menuLang.index))},t.prototype.onMusicValChange=function(){VideoGameCore.SettingStore.instance.updateBgmVolume(this.sliderMusic.value)},t.prototype.onSoundValChange=function(){VideoGameCore.SettingStore.instance.updateSoundVolume(this.sliderSound.value)},t.prototype.onGameValChange=function(){VideoGameCore.SettingStore.instance.updateGameVolume(this.sliderGame.value)},t.prototype.onLiveValChange=function(){VideoGameCore.SettingStore.instance.updateLiveVolume(this.sliderLive.value)},Object.defineProperty(t.prototype,"defaultSkinName",{get:function(){return"PCPlaza.PopupSettingSkin"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultTextKey",{get:function(){return"PCPlaza.common.confirm"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultBtnClass",{get:function(){return e.PopupBtn},enumerable:!0,configurable:!0}),t.prototype.getStoreList=function(){return[Core.LocalizeStore.instance,VideoGameCore.SettingStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.menuMusic.updateText(),this.updateBtnConfirm();break;case Core.q:this.menuLang.updateText(),this.menuSound.updateText(),this.updateBtnConfirm();break;case VideoGameCore._e:this.setEnableMusicSound(VideoGameCore.SettingStore.instance.getBGMEnable());break;case VideoGameCore.be:this.setEnableSound(VideoGameCore.SettingStore.instance.getSoundEnable());break;case VideoGameCore.Pe:this.setEnableGameSound(VideoGameCore.SettingStore.instance.getGameSoundEnable());break;case VideoGameCore.ot:this.setEnableLiveSound(VideoGameCore.SettingStore.instance.getLiveSoundEnable());break;case VideoGameCore.Ve:this.setEnableVideo(VideoGameCore.SettingStore.instance.getVideoAutoChange());break;case VideoGameCore.ge:this.setEnableMusicSound(VideoGameCore.SettingStore.instance.getBGMEnable())}},t.prototype.onAddToStage=function(){r.prototype.onAddToStage.call(this),this.loadSetting(),this.openMusicSoundEnable=this.switchMusicSound.selected,this.openGameSoundEnable=this.switchGameSound.selected,this.openLiveSoundEnable=this.switchLiveSound.selected,this.openSoundEnable=this.switchSound.selected,this.openVideoEnable=this.switchVideo.selected,this.openSliderMusicValue=this.sliderMusic.value,this.openSliderGameValue=this.sliderGame.value,this.openSliderLiveValue=this.sliderLive.value,this.openSliderSoundValue=this.sliderSound.value,this.openMenuLangIndex=this.menuLang.index,this.openMenuMusicIndex=this.menuMusic.index,this.openMenuSoundIndex=this.menuSound.index,this.isClose=!1},t.prototype.onRemoveFromStage=function(){r.prototype.onRemoveFromStage.call(this),this.isClose&&this.reset()},t.prototype.reset=function(){this.openMusicSoundEnable!=VideoGameCore.SettingStore.instance.getBGMEnable()&&(VideoGameCore.SettingStore.instance.setBGMEnable(this.openMusicSoundEnable),VideoGameCore.SettingStore.instance.setGlobalBGMEnable(this.openMusicSoundEnable)),this.openGameSoundEnable!=VideoGameCore.SettingStore.instance.getGameSoundEnable()&&VideoGameCore.SettingStore.instance.setGameSoundEnable(this.openGameSoundEnable),this.openLiveSoundEnable!=VideoGameCore.SettingStore.instance.getLiveSoundEnable()&&VideoGameCore.SettingStore.instance.setLiveEnable(this.openLiveSoundEnable),this.openSoundEnable!=VideoGameCore.SettingStore.instance.getSoundEnable()&&VideoGameCore.SettingStore.instance.setSoundEnable(this.openSoundEnable),this.openVideoEnable!=VideoGameCore.SettingStore.instance.getVideoAutoChange()&&VideoGameCore.SettingStore.instance.setVideoAutoChange(this.openVideoEnable),this.setEnableVideo(this.openVideoEnable),this.sliderMusic.value=this.openSliderMusicValue,this.sliderGame.value=this.openSliderGameValue,this.sliderLive.value=this.openSliderLiveValue,this.sliderSound.value=this.openSliderSoundValue,this.menuLang.setIndex(this.openMenuLangIndex),this.menuMusic.setIndex(this.openMenuMusicIndex),this.menuSound.setIndex(this.openMenuSoundIndex)},t.prototype.changeLang=function(t,e){if(void 0===e&&(e=!1),e){var i=this.menuLang.getLanguageArray().indexOf(t);this.menuSound.setIndex(i)}else{var i=this.menuSound.getLanguageArray().indexOf(t);this.menuLang.setIndex(i),this.onChangeLang()}},t.prototype.loadSetting=function(){var t=Core.StorageManager.instance.getItem(Core.LOCALKEY_LANG),e=Core.StorageManager.instance.getItem(Core.LOCALKEY_LANG_SOUND);this.changeLang(t),this.changeLang(e,!0)},t.prototype.updateBtnConfirm=function(){switch(Core.LocalizeStore.instance.lang){case Core.LANG_ID:this.btnConfirm.scaleX=this.btnConfirm.scaleY=1.5,this.btnConfirm.labelDisplay2.scaleX=this.btnConfirm.labelDisplay2.scaleY=.85,this.btnConfirm.labelDisplay2.width=62;break;default:this.btnConfirm.scaleX=this.btnConfirm.scaleY=1.5,this.btnConfirm.labelDisplay2.scaleX=this.btnConfirm.labelDisplay2.scaleY=1,this.btnConfirm.labelDisplay2.width=55}},t}(Core.PopupBoardBase);e.SettingPopupBase=t,__reflect(t.prototype,"PCPlaza.SettingPopupBase");var s=function(e){function t(){var t=e.call(this)||this;return t.type="",t}return __extends(t,e),t}(Core.PCButton);__reflect(s.prototype,"ConfirmButton")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.skinName="PCPlaza.BACRoomItemViewSkin",e}return __extends(t,i),t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this),this.chartBtn.currentState="off",this.chartBtn.visible=VideoGameCore.PCGameConfig.instance.statConfig.showRound,this.chartBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onChartBtnTap,this),this.btnBeadType.visible=VideoGameCore.PCGameConfig.instance.showRoadMapNum,this.btnBeadType.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapBeadType,this),mouse.setButtonMode(this.btnBeadType,!0)},t.prototype.setupRoadPaper=function(){this.zhuZaiLuPaper||(this.zhuZaiLuPaper=new VideoGameCore.RoadPaper.RoadZhuZaiPaper(250,150,["PCPlaza.room.roadmap_banker","PCPlaza.room.roadmap_player","PCPlaza.room.roadmap_tie"]),this.zhuZaiLuPaper.x=0,this.zhuZaiLuPaper.y=0,this.roadMapArea.addChild(this.zhuZaiLuPaper),this.daLuPaper=new VideoGameCore.RoadPaper.RoadDaLuPaper(450,75),this.daLuPaper.x=250,this.daLuPaper.y=0,this.roadMapArea.addChild(this.daLuPaper),this.xiaoLuPaper=new VideoGameCore.RoadPaper.RoadXiaoLuPaper(225,37.5),this.xiaoLuPaper.x=250,this.xiaoLuPaper.y=112.5,this.roadMapArea.addChild(this.xiaoLuPaper),this.daYanLuPaper=new VideoGameCore.RoadPaper.RoadDaYanLuPaper(450,37.5),this.daYanLuPaper.x=250,this.daYanLuPaper.y=75,this.roadMapArea.addChild(this.daYanLuPaper),this.xiaoQiangLuPaper=new VideoGameCore.RoadPaper.RoadXiaoQiangLuPaper(225,37.5),this.xiaoQiangLuPaper.x=475,this.xiaoQiangLuPaper.y=112.5,this.roadMapArea.addChild(this.xiaoQiangLuPaper))},t.prototype.updateRoadPaper=function(){var t;if(t=VideoGameCore.PlazaRoadStore.instance.getRoadData(this.vid)){this.zhuZaiLuPaper.setListData(t.zhuZaiLuData),this.daLuPaper.setMapData(t.daLuData),this.xiaoLuPaper.setMapData(t.xiaoLuData),this.daYanLuPaper.setMapData(t.daYanLuData),this.xiaoQiangLuPaper.setMapData(t.xiaoQiangLuData),this.chartBankerLbl.text=""+t.redCount,this.chartPlayerLbl.text=""+t.blueCount,this.chartTieLbl.text=""+t.tieCount;var e=0==t.totalCount?1:t.totalCount,i=Math.floor(100*t.redCount/e);this.chartBankerPctLbl.text=0==i?"":i+"%",i>0&&5>i&&(i=5),this.chartBankerPctLbl.parent.percentWidth=i,i=Math.floor(100*t.blueCount/e),this.chartPlayerPctLbl.text=0==i?"":i+"%",i>0&&5>i&&(i=5),this.chartPlayerPctLbl.parent.percentWidth=i,i=Math.floor(100*t.tieCount/e),this.chartTiePctLbl.text=4>=i?"":i+"%",i>0&&5>i&&(i=5),this.chartTiePctLbl.parent.percentWidth=i}},t.prototype.onEnterGameTap=function(){this.isMaintaining||e.RootPageStore.instance.enterGameByVid(this.vid)},t.prototype.updateStatistics=function(){i.prototype.updateStatistics.call(this);var t=VideoGameCore.PlazaRoadStore.instance.getRealtimeInfo(this.vid);this.bankerLbl.text=t?Core.getStringShortNum(t.credit2)+" / "+t.n2:"0 / 0",this.playerLbl.text=t?Core.getStringShortNum(t.credit1)+" / "+t.n1:"0 / 0",this.tieLbl.text=t?Core.getStringShortNum(t.credit3)+" / "+t.n3:"0 / 0"},t.prototype.onChartBtnTap=function(){this.roadMapArea.visible=!this.roadMapArea.visible,this.chartGrp.visible=!this.chartGrp.visible,"off"===this.chartBtn.currentState?this.chartBtn.currentState="on":this.chartBtn.currentState="off"},t.prototype.onTapBeadType=function(){this.zhuZaiLuPaper.beadType=this.btnBeadType.selected?1:0,this.zhuZaiLuPaper.refresh()},t}(e.RoomItemViewBase);e.BACRoomItemView=t,__reflect(t.prototype,"PCPlaza.BACRoomItemView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e;!function(t){var e=function(){function t(t,e,i){void 0===t&&(t=""),void 0===e&&(e=""),void 0===i&&(i=0),this.playType=0,this.titleText="",this.valueText="",this.titleText=t,this.valueText=e,this.playType=i}return t}();t.BetLimitInfo=e,__reflect(e.prototype,"PCPlaza.GameInfoView.BetLimitInfo")}(e=t.GameInfoView||(t.GameInfoView={}))}(PCPlaza||(PCPlaza={})),function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.PANEL_ROW_NUM=9,t.skinName="PCPlaza.GameInfoViewSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.limitData=new eui.ArrayCollection(this.createLimitData()),this.limitPanel.dataProvider=this.limitData,this.limitData.length>this.PANEL_ROW_NUM?(this.btnNext.visible=!0,this.btnPrev.visible=!0,this.btnNext.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnNextHandler,this),this.btnPrev.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnPrevHandler,this)):(this.btnNext.visible=!1,this.btnPrev.visible=!1),this.limitPanel.touchEnabled=!1,this.limitPanel.touchChildren=!1},t.prototype.onBtnNextHandler=function(t){this.isTweening||(this.tweenLimitPanel(-this.limitMask.height),this.btnNext.enabled=!1,this.btnPrev.enabled=!0)},t.prototype.onBtnPrevHandler=function(t){void 0===t&&(t=null),this.isTweening||(this.tweenLimitPanel(0,null!=t),this.btnNext.enabled=!0,this.btnPrev.enabled=!1)},t.prototype.tweenLimitPanel=function(t,e){void 0===e&&(e=!0),egret.Tween.removeTweens(this.limitPanel),this.isTweening=!0,e?egret.Tween.get(this.limitPanel).to({y:t},VideoGameCore.TIMEOUT.TWEEN,egret.Ease.cubicOut).call(this.onTweenComplete,this):(this.limitPanel.y=t,this.onTweenComplete())},t.prototype.onTweenComplete=function(){this.isTweening=!1},t.prototype.getBetLimitByPlayType=function(t){return VideoGameCore.UserStore.instance.getBetLimitByPlayType(t,this.getTableCode())},t.prototype.getStoreList=function(){return[Core.LocalizeStore.instance,VideoGameCore.VideoPlazaStore.instance,this.getRoomTimerStore(),this.getBetTableStore(),VideoGameCore.UserStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.roomCode.valueText=this.getRoomTimerStore().roomName,this.gameCode.valueText=this.getBetTableStore().gmcode,this.updateDealerName(),this.limitPanel.mask=this.limitMask,this.updateLimit(),this.onBtnPrevHandler(),Core.NonstopTimer.instance.hasInterval(this.updateInterval)||(this.updateTimer(),this.updateInterval=Core.NonstopTimer.instance.setInterval(this.updateTimer,this,1e3));break;case Core.q:this.roomCode.valueText=this.getRoomTimerStore().roomName,this.limitData=new eui.ArrayCollection(this.createLimitData()),this.limitPanel.dataProvider=this.limitData,this.updateLimit();break;case VideoGameCore.Y:case VideoGameCore.Z:this.gameCode.valueText=this.getBetTableStore().gmcode;break;case VideoGameCore.st:i&&i!==this.getVid()||this.updateDealerName();break;case VideoGameCore.ke:this.updateLimit()}},t.prototype.updateLimit=function(){this.betLimit.valueText=this.getBetLimitStr(this.getOverallLimitPlaytype());for(var t,e=0;e<this.limitData.length;e++)t=this.limitData.getItemAt(e),t.playType!=VideoGameCore.PLAYTYPE_UNKNOWN&&(t.valueText=this.getBetLimitStr(t.playType))},t.prototype.updateTimer=function(){var t=new Date;t.setTime(Core.getEATime(Core.LoginStore.instance.getCurServerTime())),this.time.valueText=Core.patternDate("dd/MM/yyyy HH:mm:ss",t)},t.prototype.updateDealerName=function(){var t="－",e=this.getDealerInfo();e&&(t=e.name),this.dealerName.valueText=t},t.prototype.onRemoveFromStage=function(){e.prototype.onRemoveFromStage.call(this),Core.NonstopTimer.instance.clearInterval(this.updateInterval)},t.prototype.getDealerInfo=function(){return VideoGameCore.VideoPlazaStore.instance.getDealerInfo(this.getVid())},t.prototype.getBetLimitStr=function(t){var e="",i=this.getBetLimitByPlayType(t);return i&&(e=Core.getStringFixed2WithComma(i.min)+" - "+Core.getStringFixed2WithComma(i.max)),e},t}(Core.StoreView);t.GameInfoViewBase=e,__reflect(e.prototype,"PCPlaza.GameInfoViewBase")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.isChildrenCreated=!1,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.isChildrenCreated=!0,this.updateText()},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.isChildrenCreated&&this.updateText();break;case VideoGameCore.st:i&&i!==this.getVid()||this.isChildrenCreated&&this.updateText();break;case VideoGameCore.Z:this.isChildrenCreated&&this.updateText()}},t}(Core.StoreView);t.PotInfoViewBase=e,__reflect(e.prototype,"PCPlaza.PotInfoViewBase")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.RoomInfoViewSkin",t.btnPlayer&&(t.orgBtnSource=t.btnPlayer.source,t.btnPlayer.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onTapPlayer,t),t.btnPlayer.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onBtnPlayerOver,t),t.btnPlayer.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onBtnPlayerOut,t)),t.fixed2WithComma=!0,t}return __extends(t,e),t.prototype.getStoreList=function(){return[Core.LocalizeStore.instance,VideoGameCore.VideoPlazaStore.instance,VideoGameCore.UserStore.instance,this.getRoomTimerStore(),this.getBetStore()]},t.prototype.getVid=function(){return this.getBetStore().vid},t.prototype.getGmCode=function(){return this.getBetStore().gmcode},t.prototype.getRoomName=function(){return this.getRoomTimerStore().roomName},t.prototype.getTotalBet=function(){return""+this.getBetStore().totalBet},t.prototype.getBetLimit=function(){var t=VideoGameCore.UserStore.instance;return t.getBetLimitByPlayType(VideoGameCore.PLAYTYPE_BANKER,VideoGameCore.BacStore.instance.tableCode)},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.btnPlayer&&mouse.setButtonMode(this.btnPlayer,!0),this.loginNameLabel&&this.loginNameLabel.setFitSizeText(""+Core.LoginStore.instance.userName,0,!0),this.balanceLabel&&this.balanceLabel.setFitSizeText(""+this.getNumberString(VideoGameCore.UserStore.instance.balance),0,!0),this.roomCodeLabel&&this.roomCodeLabel.setFitSizeText(""+this.getRoomName(),0,!0),this.updateDealerName(),this.getGmCode()?this.gameCodeLabel.setFitSizeText(""+this.getGmCode(),0,!0):this.gameCodeLabel.text="",this.updateLimit(),this.updateTotalBet();var r="";r="chip_json.chip_flag_"+VideoGameCore.VideoPlazaStore.instance.currencyCode,this.imgFlag&&(VideoGameCore.PCPlazaConfig.instance.showInGameInfoCurrency?this.imgFlag.source=r:this.imgFlag.source=null);break;case VideoGameCore.ke:this.updateLimit();break;case Core.q:this.getGmCode()?this.gameCodeLabel.setFitSizeText(""+this.getGmCode(),0,!0):this.gameCodeLabel.text="",this.roomCodeLabel.setFitSizeText(""+this.getRoomName(),0,!0),this.updateDealerName();break;case VideoGameCore.Y:case VideoGameCore.Z:this.getGmCode()?this.gameCodeLabel.setFitSizeText(""+this.getGmCode(),0,!0):this.gameCodeLabel.text="",this.updateTotalBet();break;case VideoGameCore.st:i&&i!==this.getVid()||this.updateDealerName();break;case VideoGameCore.ei:this.balanceLabel&&this.balanceLabel.setFitSizeText(""+this.getNumberString(VideoGameCore.UserStore.instance.balance),150,!1);break;case VideoGameCore.P:case VideoGameCore.G:this.updateTotalBet();break;case VideoGameCore.T:this.onGameTablePool()}},t.prototype.updateDealerName=function(){var t=VideoGameCore.VideoPlazaStore.instance.getDealerInfo(this.getVid());t?this.dealerNameLabel.text=t.name:this.dealerNameLabel.text="－"},t.prototype.onBtnPlayerOver=function(){this.btnPlayer.source="nav_asset_json.room_info_hover"},t.prototype.onBtnPlayerOut=function(){this.btnPlayer.source=this.orgBtnSource},t.prototype.onTapPlayer=function(){VideoGameCore.VideoPlazaStore.instance.requestUserPoint(),Core.pageNavigator.getTopPage().addPopup(i.PlayerInfoPopup.Instance,!0)},t.prototype.updateLimit=function(){if(this.betLimitLabel){var t=this.getBetLimit();t?(this.betLimitLabel.setFitSizeText(this.getNumberString(t.min)+" - "+this.getNumberString(t.max),0,!0),this.betLimitTitle&&"ko"===Core.LocalizeStore.instance.lang&&(this.betLimitTitle.size=this.koFontSize())):this.betLimitLabel.setFitSizeText(Core.translate("PCPlaza.common.loading_data"))}},t.prototype.koFontSize=function(){return 19},t.prototype.updateTotalBet=function(){this.totalBetLabel&&this.totalBetLabel.setFitSizeText(this.getNumberString(Number(this.getTotalBet())),0,!0)},t.prototype.onGameTablePool=function(){this.updateTotalBet()},t.prototype.getNumberString=function(t){return this.fixed2WithComma?Core.getStringFixed2WithComma(t):t.toString()},t.prototype.setFixed2WithComma=function(t){this.fixed2WithComma=t},t}(Core.StoreView);i.RoomInfoViewBase=t,__reflect(t.prototype,"PCPlaza.RoomInfoViewBase")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.setupRoadPaper=function(){this.daLu=new VideoGameCore.RoadPaper.RoadDaLuPaper(this.roadMapGrp.width,this.roadMapGrp.height),this.roadMapGrp.removeChildren(),this.roadMapGrp.addChild(this.daLu)},e.prototype.refreshTable=function(){var t;t=VideoGameCore.PlazaRoadStore.instance.getRoadData(this.vid),t&&this.daLu.setMapData(t.daLuData,!0)},e}(t.TableItem);t.BacTableItem=e,__reflect(e.prototype,"PCPlaza.BacTableItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){function t(){return r.SwitchTable.isSwitchTabOpen}function e(){r.SwitchTable.isSwitchTabOpen=!1}r.switchTableIsOpen=t,r.forceCloseSwitchTab=e;var i=function(e){function i(){var t=e.call(this)||this;return t.skinName="PCPlaza.SwitchTableSkin",t.tableListData=new eui.ArrayCollection,t.tableListView.dataProvider=t.tableListData,t.tableListView.itemRenderer=r.TableItemContainer,t}return __extends(i,e),i.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.orignalFill=this.switchTab.fillColor,this.switchTab.addEventListener(egret.TouchEvent.TOUCH_TAP,this.toggleSwitchTab,this),this.switchTab.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.mouseOverTab,this),this.switchTab.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.mouseOutTab,this),mouse.setButtonMode(this.switchTab,!0),this.switchGrp.addEventListener(Core.EVENT_TOUCH_OUTSIDE,this.closeSwitchTab,this),i.isSwitchTabOpen?(this.switchArrow_1.rotation=0,this.switchArrow_2.rotation=0,this.switchGrp.right=0,this.switchGrp.addTouchEventListener()):(this.switchArrow_1.rotation=180,this.switchArrow_2.rotation=180,this.switchGrp.right=-420,this.switchGrp.removeTouchEventListener()),this.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},i.prototype.initTableListData=function(){var t=VideoGameCore.RoomItemStore.getVidListByPlatform(r.RootPageStore.instance.platform),i=new Array;t.forEach(function(t){var e=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(t);e.gmtype==VideoGameCore.GAME_BJ&&i.push(t)}),t=t.filter(function(t){return-1==i.indexOf(t)});var e=new Array;e=VideoGameCore.PCGameConfig.instance.specialVidsConfig.hide,t=t.filter(function(t){return-1==e.indexOf(t)}),this.tableListData.replaceAll(t)},i.prototype.getStoreList=function(){return[Core.LocalizeStore.instance,r.RootPageStore.instance]},i.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.initTableListData(),this.updateSwitchTitle();break;case Core.q:this.updateSwitchTitle();break;case r.ii:}},i.prototype.updateSwitchTitle=function(){Core.isChineseLang()?(this.switchTitleCh.visible=!0,this.switchTitleEn.visible=!1):(this.switchTitleCh.visible=!1,this.switchTitleEn.visible=!0)},i.prototype.mouseOverTab=function(){this.switchTab.fillColor=8616564},i.prototype.mouseOutTab=function(){this.switchTab.fillColor=this.orignalFill},i.prototype.toggleSwitchTab=function(){var t=300;i.isSwitchTabOpen=!i.isSwitchTabOpen,egret.Tween.removeTweens(this.switchGrp),i.isSwitchTabOpen?(this.switchArrow_1.rotation=0,this.switchArrow_2.rotation=0,egret.Tween.get(this.switchGrp).to({right:0},t,egret.Ease.cubicIn),this.switchGrp.addTouchEventListener()):(this.switchArrow_1.rotation=180,this.switchArrow_2.rotation=180,egret.Tween.get(this.switchGrp).to({right:-420},t,egret.Ease.cubicOut),this.switchGrp.removeTouchEventListener())},i.prototype.closeSwitchTab=function(){i.isSwitchTabOpen&&(this.toggleSwitchTab(),r.RootPageStore.instance.removeEventListener(r.EVENT_MOUSE_WHEEL,this.onWheel,this))},i.prototype.onMouseOver=function(){r.RootPageStore.instance.addEventListener(r.EVENT_MOUSE_WHEEL,this.onWheel,this)},i.prototype.onMouseOut=function(){r.RootPageStore.instance.removeEventListener(r.EVENT_MOUSE_WHEEL,this.onWheel,this)},i.prototype.onWheel=function(t){var e=t.data,i=0;if(this.myScroller.viewport)if(e.deltaY>0){i=this.myScroller.viewport.scrollV+80;var r=Math.max(this.myScroller.viewport.contentHeight-this.myScroller.viewport.height,0);this.myScroller.viewport.scrollV=Math.min(r,i)}else i=this.myScroller.viewport.scrollV-80,this.myScroller.viewport.scrollV=Math.max(0,i);e.preventDefault()},i.isSwitchTabOpen=!1,i}(Core.StoreView);r.SwitchTable=i,__reflect(i.prototype,"PCPlaza.SwitchTable")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.pageIndex=0,t.maxPageIndex=0,t.skinName="PCPlaza.TipsPanelSkin",t.imgIcon.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onImgMouseOver,t),t.imgIcon.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onImgMouseOut,t),t.msgGrp2.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onImgMouseOver,t),t.msgGrp2.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onImgMouseOut,t),t.msgGrp1.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMsg1MouseOut,t),t.msgGrp3.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMsg3MouseOver,t),t.msgGrp3.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onImgMouseOut,t),t.btnRecord.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onTapRecord,t),t.imgIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onTapImg,t),t.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onTapConfirm,t),t.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onTapCancel,t),t.btnUp.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onTapUp,t),t.btnDown.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onTapDown,t),t.dateMenuA.addEventListener(egret.Event.CHANGE,t.onDateMenuChange,t),t.dateMenuB.addEventListener(egret.Event.CHANGE,t.onDateMenuChange,t),t.arrColl=new eui.ArrayCollection,t.listTips.dataProvider=t.arrColl,t}return __extends(t,e),t.prototype.getStoreList=function(){return[VideoGameCore.VideoPlazaStore.instance,Core.LocalizeStore.instance,this.getGameStore()]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.onInit();break;case Core.q:this.updateText();break;case VideoGameCore.ri:var r=i;this.serverUpdateTipsList(r.data);break;case VideoGameCore.st:i&&i!==this.getVid()||this.onInit();break;case VideoGameCore.si:var s=i;0==s.code&&(this.imgIcon.source="nav_asset_json.heart_tick",egret.Tween.removeTweens(this.imgIcon),egret.Tween.get(this.imgIcon).wait(6e4).set({source:"nav_asset_json.heart"}))}},t.prototype.onInit=function(){this.visible=this.getVisable();var t=this.anchorName1;this.updateAnchorName(),this.updateText(),t!=this.anchorName1&&this.serverUpdateTipsList([])},t.prototype.serverUpdateTipsList=function(t){this.myList=[];for(var e=0;e<t.length;e++){var i=t[e],r=Core.getAnonymousName(i.userName,i.nickName);this.myList.push({name:r,fee:i.num.toString(),time:i.billTime,flag:this.getFlagImageString(i.currency)})}this.maxPageIndex=Math.ceil(this.myList.length/3),this.pageIndex=0;var s=this.maxPageIndex>1;this.btnUp.visible=s,this.btnDown.visible=s,this.updateTipsList()},t.prototype.updateTipsList=function(){var t=[{name:Core.LocalizeStore.instance.translate("PCPlaza.tips.player_name"),fee:Core.LocalizeStore.instance.translate("PCPlaza.tips.fee"),time:Core.LocalizeStore.instance.translate("PCPlaza.tips.time"),flag:""}],e=3*this.pageIndex,i=this.myList.length<e+3?this.myList.length:e+3;for(t=t.concat(this.myList.slice(e,i));t.length<4;)t.push({name:"",fee:"",time:"",flag:""});this.arrColl.replaceAll(t),this.btnUp.source=0==this.pageIndex?"nav_asset_json.info_arrow_disable":"nav_asset_json.info_arrow_enable",this.btnDown.source=this.pageIndex==this.maxPageIndex-1?"nav_asset_json.info_arrow_disable":"nav_asset_json.info_arrow_enable"},t.prototype.updateAnchorName=function(){var t=VideoGameCore.VideoPlazaStore.instance.getMicDealerInfo(this.getVid());if(t){this.anchorName1=t.name,this.anchorName2=t.name;var e=VideoGameCore.AnchorConfig.instance.findById(t.name);e&&(this.anchorName2=e.name[Core.LocalizeStore.instance.lang]?e.name[Core.LocalizeStore.instance.lang]:e.name[Core.LANG_BACKUP])}else this.anchorName1=null;if(this.anchorName1)this.feeType="PCPlaza.tips.anchor";else{this.feeType="PCPlaza.tips.dealer";var i=VideoGameCore.VideoPlazaStore.instance.getDealerInfo(this.getVid());i?(this.anchorName1=i.name,this.anchorName2=i.name):(this.anchorName1="",this.anchorName2="")}},t.prototype.updateText=function(){var t=this;this.lblTypeName.localeFunc=function(){return Core.LocalizeStore.instance.substitute("PCPlaza.tips.msg7",Core.LocalizeStore.instance.translate(t.feeType))},this.lblMsg1.localeFunc=function(){return Core.LocalizeStore.instance.substitute("PCPlaza.tips.msg1",Core.LocalizeStore.instance.translate(t.feeType))},Core.LoginStore.instance.isDemoAc?(this.lblMsg3.localeKey="PCPlaza.tips.msg3",this.lblMsg4.text=Core.LocalizeStore.instance.substitute("PCPlaza.tips.msg4",Core.LocalizeStore.instance.translate(this.feeType)),this.lblMoney.text="",this.lblMsg3.refresh(),this.btnConfirm.enabled=!1):(this.lblMsg3.localeKey="",this.lblMsg4.localeKey="PCPlaza.tips.msg6",this.lblMoney.text=VideoGameCore.VideoPlazaStore.instance.selectedChipValue+"",this.lblMsg4.refresh(),this.lblMsg3.text=Core.LocalizeStore.instance.substitute("PCPlaza.tips.msg5",this.anchorName2,Core.LocalizeStore.instance.translate(this.feeType)),this.btnConfirm.enabled=!0),this.lblName.text=this.anchorName2},t.prototype.onImgMouseOver=function(){this.msgGrp1.visible=!1,this.msgGrp3.visible=!1,this.msgGrp2.visible=!0},t.prototype.onImgMouseOut=function(){this.msgGrp2.visible=!1,this.msgGrp3.visible=!1},t.prototype.onMsg1MouseOut=function(t){var e=this.globalToLocal(t.stageX,t.stageY);(e.x<0||e.y<0||e.x>470||e.y>215)&&(this.msgGrp1.visible=!1)},t.prototype.onMsg3MouseOver=function(){this.msgGrp1.visible=!1,this.msgGrp2.visible=!1,this.msgGrp3.visible=!0},t.prototype.onTapRecord=function(){this.msgGrp2.visible=!1,this.msgGrp3.visible=!1,this.msgGrp1.visible=!0,this.dateMenuA.setSelectIndex(1),this.dateMenuB.setSelectIndex(0),this.getTipsRecord()},t.prototype.onTapImg=function(){this.msgGrp1.visible=!1,this.msgGrp2.visible=!1,this.msgGrp3.visible=!0,this.updateText()},t.prototype.onTapConfirm=function(){this.msgGrp3.visible=!1,this.sendFeeForDealer(this.getVid(),VideoGameCore.VideoPlazaStore.instance.selectedChipValue)},t.prototype.onTapCancel=function(){this.msgGrp3.visible=!1},t.prototype.onTapUp=function(){this.pageIndex=this.pageIndex-1>=0?this.pageIndex-1:0,this.updateTipsList()},t.prototype.onTapDown=function(){this.pageIndex=this.pageIndex+1<this.maxPageIndex?this.pageIndex+1:this.maxPageIndex-1,this.updateTipsList()},t.prototype.onDateMenuChange=function(){this.getTipsRecord()},t.prototype.getFlagImageString=function(t){var e="chip_json.chip_flag_"+t;return e},t.prototype.getTipsRecord=function(){var t,e,i=new Date;this.dateMenuA.currentTime>this.dateMenuB.currentTime?(i.setTime(this.dateMenuB.currentTime),t=Core.patternDate("yyyyMMdd",i),i.setTime(this.dateMenuA.currentTime),e=Core.patternDate("yyyyMMdd",i)):(i.setTime(this.dateMenuA.currentTime),t=Core.patternDate("yyyyMMdd",i),i.setTime(this.dateMenuB.currentTime),e=Core.patternDate("yyyyMMdd",i)),this.requestTipsList(this.getVid(),this.anchorName1,t,e,"PCPlaza.tips.anchor"===this.feeType?0:1)},t}(Core.StoreView);t.TipsPanelBase=e,__reflect(e.prototype,"PCPlaza.TipsPanelBase")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.GoodRoadItemSkin",t.touchChildren=!1,mouse.setButtonMode(t,!0),t.orgColor=t.goodRdItemBg.fillColor,t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t}return __extends(t,e),t.prototype.onMouseOver=function(){this.goodRdItemBg.fillColor=10326927},t.prototype.onMouseOut=function(){this.goodRdItemBg.fillColor=this.orgColor},t.prototype.dataChanged=function(){this.data&&this.data.roadType>0&&this.vid!==this.data.vid&&(this.vid=this.data.vid,VideoGameCore.RoadStoreFactory.instance.setupStoresByVid(this.vid),this.itemGrp.removeChildren(),this.itemGrp.addChild(new i.ItemGoodRoad(this.data)))},t}(eui.ItemRenderer);i.GoodRoadItem=t,__reflect(t.prototype,"PCPlaza.GoodRoadItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){t.Yh="ACTION_ROOT_SET_TOP_VISIBLE",t.oh="ACTION_ROOT_CHANGE_PLATFORM",t.ii="ACTION_ROOT_BACK_LOBBY",t.nt="ACTION_ROOT_CLOSE_FAIL",t.tt="ACTION_ROOT_CHANGE_FULL_SCREEN",t.et="ACTION_ROOT_OPEN_ROOM_INFO",t.qh="ACTION_ENTER_GAME_LOAD",t.EVENT_MOUSE_WHEEL="EVENT_MOUSE_WHEEL",t.ITEM_AD="ITEM_AD",t.ITEM_FULL_VIDEO="ITEM_FULL_VIDEO",t.ITEM_AD_VIDEO="ITEM_AD_VIDEO",t.Jh="ACTION_PLAZA_LOGIN_FAIL",t.ve="ACTION_CLOSE_REPLAY",t.NO_BET_WARN_TIMEOUT=4e3,t.REPLAY_ROOT_ID="replayVideoRoot",t.AD_ROOT_ID="adVideoRoot",t.LIVE_ROOT_ID="liveVideoRoot"}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(n){var t=function(i){function t(){var t=i.call(this)||this;if(t.skinName="PCPlaza.LoginPageSkin",t.demoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onBtnClick,t),t.submitBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onBtnClick,t),t.usernameInput&&t.passwordInput){var e=document.getElementById("egretInput");e.addEventListener("keypress",t.onKeyDown.bind(t))}return mouse.setButtonMode(t.engBtn,!0),mouse.setButtonMode(t.hansBtn,!0),mouse.setButtonMode(t.hantBtn,!0),t.engBtn.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.handlerLanButton,t),t.hansBtn.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.handlerLanButton,t),t.hantBtn.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.handlerLanButton,t),t.engBtn.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.handlerLanButton,t),t.hansBtn.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.handlerLanButton,t),t.hantBtn.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.handlerLanButton,t),t.engBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.handlerLanButton,t),t.hansBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.handlerLanButton,t),t.hantBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.handlerLanButton,t),t.initPidTextInput(),t}return __extends(t,i),t.prototype.initPidTextInput=function(){this.pidInput=new egret.TextField,this.pidInput.width=318.67,this.pidInput.height=30,this.pidInput.x=823.34,this.pidInput.y=626.61,this.pidInput.type=egret.TextFieldType.INPUT,this.pidInput.textColor=0,this.addChild(this.pidInput)},t.prototype.handlerLanButton=function(t){var e=t.target;switch(t.type){case mouse.MouseEvent.MOUSE_OUT:e.textColor=16777215;break;case mouse.MouseEvent.MOUSE_OVER:e.textColor=803232;break;case egret.TouchEvent.TOUCH_TAP:e==this.engBtn&&(Core.LocalizeStore.instance.lang=Core.LANG_EN),e==this.hansBtn&&(Core.LocalizeStore.instance.lang=Core.LANG_HANS),e==this.hantBtn&&(Core.LocalizeStore.instance.lang=Core.LANG_HANT)}},t.prototype.getStoreList=function(){return[Core.LoginStore.instance]},t.prototype.generateUatPwd=function(t,e){return(new md5).hex_md5(t+"baccarat"+e)},t.prototype.onBtnClick=function(t){var e=Core.LoginStore.instance;switch(t.target){case this.submitBtn:var i=""==this.pidInput.text.trim()?Core.ExternalData.pid:this.pidInput.text,r=i+this.usernameInput.text;e.startLogin(this.usernameInput.text,this.generateUatPwd(r,this.passwordInput.text));break;case this.demoBtn:e.startLogin(null,null,!0)}},t.prototype.onKeyDown=function(t){13==t.keyCode&&(""!=this.usernameInput.text.trim()&&""!=this.passwordInput.text.trim()&&this.submitBtn.dispatchEventWith(egret.TouchEvent.TOUCH_TAP),""!=this.usernameInput.text.trim()&&""==this.passwordInput.text.trim()&&this.passwordInput.dispatchEventWith(egret.TouchEvent.TOUCH_TAP))},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.usernameInput.text=Core.ExternalData.testAccPrefix+Core.ExternalData.testAccNum,this.passwordInput.text=Core.ExternalData.testAccNum;var r=Core.soundManager.getSoundEnable(),s=Core.soundManager.getBGMEnable();Core.soundManager.setSoundEnable(r),Core.soundManager.setBGMEnable(s),this.versionLabel.text=Core.ExternalData.version;break;case Core.Wh:break;case Core.Qh:this.addPopup(new n.PopupBoard("PCPlaza.login.pwd_invalid"));break;case Core.Xh:this.addPopup(new n.PopupBoard("PCPlaza.login.usr_invalid"));break;case Core.$h:this.addPopup(new n.PopupBoard("PCPlaza.login.fail"))}},t}(Core.PCPageBase);n.LoginPage=t,__reflect(t.prototype,"PCPlaza.LoginPage")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(s){s.DEFAULT_ANCHOR_VIDEO_STORE_ID="ANCHOR",s.DEFAULT_DEALER_VIDEO_STORE_ID="DEALER";var t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.prepareDataModel=function(e,i){var r=this;t.prototype.prepareDataModel.call(this,e,i),egret.TextField.default_fontFamily="Microsoft YaHei,微软雅黑,Arial",s.RootPageStore.init(),Core.ChatStore.init(),VideoGameCore.GoodRoadSocket.init(),VideoGameCore.SettingStore.init(),Core.Config.ConcurrentLoader.load([VideoGameCore.PCPlazaConfig,VideoGameCore.PCGameConfig,VideoGameCore.PCAdConfig,VideoGameCore.RoomConfig,VideoGameCore.DealerConfig,VideoGameCore.CurrencyLangConfig,VideoGameCore.VideoConfig,VideoGameCore.StreamConfig,VideoGameCore.LiveAnchorConfig,VideoGameCore.AnchorConfig,VideoGameCore.BgmConfig,VideoGameCore.LiveRoomConfig],function(){VideoGameCore.ThirdGameStore.init();var t=VideoGameCore.RoomConfig.instance.getAllRoomInfo();VideoGameCore.RoomItemStore.releaseAll(),t.forEach(function(t){VideoGameCore.RoomItemStore.storeVidMap.set(t.vid,new VideoGameCore.RoomItemStore(t))},r),VideoGameCore.VideoFactory.init(),VideoGameCore.RoadStoreFactory.init(),VideoGameCore.GoodRoadStore.init(),VideoGameCore.GoodRoadStore.instance.vids.forEach(function(t){VideoGameCore.RoadStoreFactory.instance.setupStoresByVid(t)}),VideoGameCore.UserStore.instance.attachSocketList("goodroad",[VideoGameCore.GoodRoadSocket.instance]),VideoGameCore.PlazaRoadStore.instance.attachSocketList("goodroad",[VideoGameCore.GoodRoadSocket.instance]),VideoGameCore.SlotGameConfig.init(),VideoGameCore.SlotGameConfig.instance.fetchConfig(),dclib("PCPlaza is prepared!"),s.checkPCEvent()&&PCEvent.EventStore.instance.initEvent(VideoGameCore.PCPlazaConfig.instance.navList),e.call(i)},this)},e.prototype.releaseDataModel=function(){t.prototype.releaseDataModel.call(this),VideoGameCore.RoomItemStore.releaseAll(),VideoGameCore.RoomConfig.releaseInstance(),VideoGameCore.DealerConfig.releaseInstance(),Core.ChatStore.releaseInstance(),s.RootPageStore.releaseInstance(),this.isPrepared=!1},e.prototype.startModule=function(e){if(t.prototype.startModule.call(this,e),Core.SilentLoadManager.instance.loadNextModule(),dclib("Welcome to PCPlaza"),Core.LoginStore.instance.isReady)return ExternalProgress("complete"),void Core.rootPageNavigator.changePage(new s.PlazaRootPage(e));Core.ExternalData.doForward?Core.LoginStore.instance.fetchDoForward():(ExternalProgress("complete"),Core.ExternalData.showLogin&&Core.rootPageNavigator.changePage(new s.LoginPage));var i=Core.LoginStore.instance.addActionListener(Core.Wh,function(){var t=VideoGameCore.VideoPlazaStore.instance;t.onceAction(VideoGameCore.tu,function(){Core.LoginStore.instance.removeActionListener(i),ExternalProgress("complete"),Core.rootPageNavigator.changePage(new s.PlazaRootPage(e))}),t.connectPlaza()},this)},e}(Core.ModuleHandlerBase);s.ModuleHandler=t,__reflect(t.prototype,"PCPlaza.ModuleHandler"),s.moduleHandler=new t}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){function e(){Core.soundManager.playEffect("addchips_mp3")}function i(){Core.soundManager.playEffect("cards_dealing_mp3")}function r(){Core.soundManager.playLocalize("3_bac")}function s(){Core.soundManager.playBGM(VideoGameCore.BgmConfig.instance.getCurPlayingTrack())}function n(){Core.soundManager.stopBGM()}function o(){Core.soundManager.play("win_mp3")}t.soundAddChips=e,t.soundDealCard=i,t.soundBetSuccess=r,t.soundBGM=s,t.stopBGM=n,t.soundWin=o}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function r(){var t=e.call(this)||this;return t.isHorizontal=!0,t.duration=500,t.items=1,t.itemIndex=0,t}return __extends(r,e),Object.defineProperty(r.prototype,"scrollIndex",{get:function(){return this.itemIndex},enumerable:!0,configurable:!0}),r.prototype.createChildren=function(){this.throwSpeed=0,this.horizontalScrollBar&&(this.horizontalScrollBar.autoVisibility=!0,this.horizontalScrollBar.visible=!0)},r.prototype.onScrollStart=function(t){this.touchStartPos=this.isHorizontal?this.viewport.scrollH:this.viewport.scrollV,this.touchStartTime=Date.now(),egret.Tween.removeTweens(this.viewport)},r.prototype.onScrollEnd=function(t){var e;Date.now();e=this.isHorizontal?this.viewport.scrollH-this.touchStartPos:this.viewport.scrollV-this.touchStartPos,0>e?this.itemIndex=this.itemIndex-1:this.itemIndex=this.itemIndex+1,this.moveTo(this.itemIndex)},r.prototype.nextItem=function(){this.itemIndex++,this.moveTo(this.itemIndex)},r.prototype.prevItem=function(){this.itemIndex--,this.moveTo(this.itemIndex)},r.prototype.moveTo=function(t){if((0>t||t>=this.items)&&(t=0),this.itemIndex=t,this.viewport){egret.Tween.removeTweens(this.viewport);var e;if(this.isHorizontal){var i=t*this.viewport.width;e={scrollH:i}}else{var i=t*this.height;e={scrollV:i}}egret.Tween.get(this.viewport).to(e,this.duration,egret.Ease.quadOut),this.dispatchEventWith(r.EVENT_INDEX_CHANGE)}},r.EVENT_INDEX_CHANGE="EVENT_INDEX_CHANGE",r}(eui.Scroller);t.ScrollView=e,__reflect(e.prototype,"PCPlaza.ScrollView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){function e(t,e){void 0===e&&(e=!1);var i="";return t>0&&10>t?i=e?Core.translate("PCPlaza.bull.small_bull")+" "+t:Core.translate("PCPlaza.bull.bull")+" "+t:0==t?i=e?Core.translate("PCPlaza.bull.small_no_bull"):Core.translate("PCPlaza.bull.no_bull"):20==t?i=e?Core.translate("PCPlaza.bull.small_bull_bull"):Core.translate("PCPlaza.bull.bull_bull"):50==t&&(i=Core.translate("PCPlaza.bull.5_bull")),i}function i(){return Core.ExternalData.isProd?location.protocol+"//"+location.host+location.pathname+"/images/logo/"+Core.ExternalData.pid+"_s.png":"./resource/assets/lobby_logo.png"}function r(){for(var t=!1,e=Core.ModuleNavigator.instance.getModuleDepsList("PCPlaza"),i=0;i<e.length;i++)if("PCEvent"===e[i].name){t=!0;break}return t}function s(t,e){void 0===e&&(e=!1);var i="";switch(t){case VideoGameCore.PLAYTYPE_BANKER:i="PCPlaza.bac.bet_banker";break;case VideoGameCore.PLAYTYPE_BANKER_NO_COMMISSION:i="PCPlaza.bac.bet_banker_no_comm";break;case VideoGameCore.PLAYTYPE_PLAYER:i="PCPlaza.bac.bet_player";break;case VideoGameCore.PLAYTYPE_TIE:i="PCPlaza.bac.bet_tie";break;case VideoGameCore.PLAYTYPE_BANKER_PAIR:i="PCPlaza.bac.bet_b_pair";break;case VideoGameCore.PLAYTYPE_PLAYER_PAIR:i="PCPlaza.bac.bet_p_pair";break;case VideoGameCore.PLAYTYPE_BIG:i="PCPlaza.bac.bet_big";break;case VideoGameCore.PLAYTYPE_SMALL:i="PCPlaza.bac.bet_small";break;case VideoGameCore.PLAYTYPE_BANKER_INS:i="PCPlaza.bac.bet_insurance_banker";break;case VideoGameCore.PLAYTYPE_PLAYER_INS:i="PCPlaza.bac.bet_insurance_player";break;case VideoGameCore.PLAYTYPE_BANKER_NO_COMMISSION:break;case VideoGameCore.PLAYTYPE_BANKER_DRAGON_BONUS:i="PCPlaza.bac.bet_b_bonus";break;case VideoGameCore.PLAYTYPE_PLAYER_DRAGON_BONUS:i="PCPlaza.bac.bet_p_bonus";break;case VideoGameCore.PLAYTYPE_SUPER_SIX:i="PCPlaza.bac.bet_super_six";break;case VideoGameCore.PLAYTYPE_ANY_PAIR:i="PCPlaza.bac.bet_any_pair";break;case VideoGameCore.PLAYTYPE_PERFECT_PAIR:i="PCPlaza.bac.bet_perfect_Pair";break;case VideoGameCore.PLAYTYPE_ROU_DIRECT:i="PCPlaza.rou.betTips.playType101";break;case VideoGameCore.PLAYTYPE_ROU_SEPARATE:i="PCPlaza.rou.betTips.playType102";break;case VideoGameCore.PLAYTYPE_ROU_STREET:i="PCPlaza.rou.betTips.playType103";break;case VideoGameCore.PLAYTYPE_ROU_TRIANGLE:i="PCPlaza.rou.betTips.playType104";break;case VideoGameCore.PLAYTYPE_ROU_FOUR_NUMBER:i="PCPlaza.rou.betTips.playType105";break;case VideoGameCore.PLAYTYPE_ROU_CORNER:i="PCPlaza.rou.betTips.playType106";break;case VideoGameCore.PLAYTYPE_ROU_LINE1:i=e?"PCPlaza.rou.betTips.playType107_euev":"PCPlaza.rou.betTips.playType107";break;case VideoGameCore.PLAYTYPE_ROU_LINE2:i=e?"PCPlaza.rou.betTips.playType108_euev":"PCPlaza.rou.betTips.playType108";break;case VideoGameCore.PLAYTYPE_ROU_LINE3:i=e?"PCPlaza.rou.betTips.playType109_euev":"PCPlaza.rou.betTips.playType109";break;case VideoGameCore.PLAYTYPE_ROU_ROW:i="PCPlaza.rou.betTips.playType110";break;case VideoGameCore.PLAYTYPE_ROU_DOZEN1:i="PCPlaza.rou.betTips.playType111";break;case VideoGameCore.PLAYTYPE_ROU_DOZEN2:i="PCPlaza.rou.betTips.playType112";break;case VideoGameCore.PLAYTYPE_ROU_DOZEN3:i="PCPlaza.rou.betTips.playType113";break;case VideoGameCore.PLAYTYPE_ROU_RED:i="PCPlaza.rou.betTips.playType114";break;case VideoGameCore.PLAYTYPE_ROU_BLACK:i="PCPlaza.rou.betTips.playType115";break;case VideoGameCore.PLAYTYPE_ROU_BIG:i="PCPlaza.rou.betTips.playType116";break;case VideoGameCore.PLAYTYPE_ROU_SMALL:i="PCPlaza.rou.betTips.playType117";break;case VideoGameCore.PLAYTYPE_ROU_ODD:i="PCPlaza.rou.betTips.playType118";break;case VideoGameCore.PLAYTYPE_ROU_EVEN:i="PCPlaza.rou.betTips.playType119";break;case VideoGameCore.PLAYTYPE_BJ_ANTE:i="PCPlaza.bj.bet_ante";break;case VideoGameCore.PLAYTYPE_BJ_ANTE_SPLIT:i="PCPlaza.bj.bet_ante_split";break;case VideoGameCore.PLAYTYPE_BJ_INSURE:i="PCPlaza.bj.bet_insure";break;case VideoGameCore.PLAYTYPE_BJ_DOUBLE:i="PCPlaza.bj.bet_double";break;case VideoGameCore.PLAYTYPE_BJ_PERFECT_PAIR:i="PCPlaza.bj.bet_perfect_pair";break;case VideoGameCore.PLAYTYPE_BJ_TWENTY_FIRST_PLUS_THREE:i="PCPlaza.bj.bet_twenty_first_plus_three";break;case VideoGameCore.PLAYTYPE_BJ_SIDE:i="PCPlaza.bj.bet_side";break;case VideoGameCore.PLAYTYPE_BJ_SIDE_SPLIT:i="PCPlaza.bj.bet_side_split";break;case VideoGameCore.PLAYTYPE_BJ_SIDE_INSURE:i="PCPlaza.bj.bet_side_insure";break;case VideoGameCore.PLAYTYPE_BJ_SIDE_DOUBLE:i="PCPlaza.bj.bet_side_double"}return i}function n(t,e,i,r,s,n,o,a,h){return void 0===e&&(e=1),void 0===i&&(i=16777215),void 0===r&&(r=0),void 0===s&&(s=0),void 0===n&&(n=50),void 0===o&&(o=0),void 0===a&&(a=360),void 0===h&&(h=!1),t.graphics.clear(),t.graphics.lineStyle(e,i),t.graphics.drawArc(r,s,n,Core.degreeToRadians(o),Core.degreeToRadians(a),h),t.graphics.endFill(),t}function o(t,e){void 0===e&&(e=!0);var i="PCPlaza.error.msg_",r={str:"",errCode:0},s=i+t.toString(),n=Core.translate(s);if(s===n)s=i+"0",r.str=e?Core.translate(s):s,r.errCode=t;else{var o=Core.getErrorCodeStr(t);n.indexOf(o)>=0?(r.str=e?n.replace(o,""):s,r.errCode=t):r.str=e?n:s}return r}t.outputNnCardType=e,t.getLobbyLogo=i,t.checkPCEvent=r,t.playTypeToString=s,t.drawArc=n,t.getErrorCodeObj=o}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetHistoryCreditItemListSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t.credit_mode_tradeNo.addEventListener(egret.TouchEvent.TOUCH_TAP,t.copyToClipboardNo,t),t.credit_mode_gameID.addEventListener(egret.TouchEvent.TOUCH_TAP,t.copyToClipboardID,t),t}return __extends(t,e),t.prototype.onMouseOver=function(t){this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(t){this.selected||(this.skin.currentState="up")},t.prototype.release=function(){this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.copyToClipboardNo=function(t){Core.copyTextToClipboard(this.tradeno.text)},t.prototype.copyToClipboardID=function(t){var e=this.mode.text.split(": ")[2];if(e)e.split(";")?Core.copyTextToClipboard(e.split(";")[0]):Core.copyTextToClipboard(e);else{var e=this.mode.text.split(":")[1];e&&(e.split(";")?Core.copyTextToClipboard(e.split(";")[0]):Core.copyTextToClipboard(e))}},t.prototype.dataChanged=function(){var t=this;if(this.data.title)this.tradeno.localeKey=this.data.tradeno,this.jointime.localeKey=this.data.jointime,this.trans_type.localeKey=this.data.trans_type,this.dst_amount.localeKey=this.data.dst_amount,this.income_amount.localeKey=this.data.income_amount,this.expend_amount.localeKey=this.data.expend_amount,this.src_amount.localeKey=this.data.src_amount,this.mode.localeKey=this.data.mode,this.mode.textAlign="center",this.setTitleStyle([this.tradeno,this.jointime,this.trans_type,this.dst_amount,this.income_amount,this.expend_amount,this.src_amount,this.mode]);else{this.mode.textAlign="left",this.tradeno.setFixSizeText(this.data.tradeno,this.tradeno.width),this.jointime.setFixSizeText(this.data.jointime,this.jointime.width);var e=this.data?VideoGameCore.QueryStore.instance.getXMLTranslate(VideoGameCore.TRANSTYPE,this.data.trans_type):"";this.trans_type.setFitSizeText(e,this.trans_type.width),this.dst_amount.setFixSizeText(Core.getStringFixed3(this.data.dst_amount),this.dst_amount.width),this.income_amount.localeFunc=function(){return t.data&&"undefined"!=typeof t.data.income_amount&&t.data.income_amount>=0&&0==t.data.expend_amount?(t.income_amount.textColor=VideoGameCore.getTextColor(t.data.income_amount),Core.getStringFixed3(t.data.income_amount)):" "},this.income_amount.refresh(),this.expend_amount.localeFunc=function(){return t.data&&"undefined"!=typeof t.data.expend_amount&&t.data.expend_amount<0?(t.expend_amount.textColor=VideoGameCore.getTextColor(t.data.expend_amount),Core.getStringFixed3(t.data.expend_amount)):" "},this.expend_amount.refresh(),this.src_amount.setFixSizeText(Core.getStringFixed3(this.data.src_amount),this.src_amount.width),this.mode.localeFunc=function(){return t.data?t.convertRemarks(t.data.mode,t.data.trans_type):" "},this.mode.refresh()}},t.prototype.setTitleStyle=function(t){var e=this;t.forEach(function(t){t.textColor=15256707,t.bold=!0,t.background=!0,t.backgroundColor=3355443,e.credit_mode_tradeNo.enabled=!1,e.credit_mode_gameID.enabled=!1})},t.prototype.convertRemarks=function(t,e){var i,r,s,n,o,a,h=!0,u=Core.translate("PCPlaza.records.bet.gamecode"),c=Core.translate("PCPlaza.records.bet.billno");Core.translate("PCPlaza.records.bet.cancel")+" - "+Core.translate("PCPlaza.records.bet.billno");r=t.split(";"),1==r.length&&(r=t.split(":")),r[1]&&3===r[1].split("-").length&&(r[1]=r[1].split("-")[1]);var f=!1,C=VideoGameCore.SlotGameConfig.instance.getSlotGameNameByGameType(r[0]),l=VideoGameCore.SlotGameConfig.instance.getFormat(r[0]);C?(n=C,f=!0):n=Core.translate("PCPlaza.records."+r[0]),s=VideoGameCore.QueryStore.instance.getXMLTranslate(VideoGameCore.PLAYTYPE,r[2]);var m=t.indexOf("SPTA")>=0;if(s||(s=""),"BET"==e||"BET_ERR"==e)i=n+": "+(f?c:u)+": "+r[this.formatTypeNum(l)]+"; "+this.makeFirstLetterUppercase(s),m&&null!=r[2]&&(i=i.replace(";",", id: "+r[2]+";"));else if("RECKON"==e)i=n+": "+(f?c:u)+": "+r[this.formatTypeNum(l)]+";",m&&null!=r[2]&&(i=i.replace(";",", id: "+r[2]+";"));else if("REFUND"==e)i=n+": "+(f?c:u)+": "+r[this.formatTypeNum(l)]+"; "+this.makeFirstLetterUppercase(s),m&&null!=r[2]&&(i=i.replace(";",", id: "+r[2]+";"));else if("IN"==e||"OUT"==e){if(i=c+": "+t,-1!=i.indexOf("Hunter")){var d="";n=Core.translate("PCPlaza.records.hunter.title"),d="IN"==e?t.replace("_Hunter_In","_"+n)+("_"+Core.translate("PCPlaza.records.hunter.pay_in")):t.replace("_Hunter_Out","_"+n)+("_"+Core.translate("PCPlaza.records.hunter.pay_out")),i=n+": "+c+": "+d}}else if("DONATEFEE"==e){var v,G,_,b=r[0],P=-1!=b.indexOf("&")?b.substr(0,b.indexOf(" $")):b.substr(0,b.indexOf(" ,")),V=-1!=b.indexOf("&")?b.substr(b.indexOf("& ")+2,b.length):b.substr(b.indexOf(", ")+2,b.length);-1!=b.indexOf("Anchor_fee")?(V=b.substr(11,b.length-1),v="PCPlaza.records.girl_bethistory_remark",G=V):-1!=V.indexOf("###")?(v="PCPlaza.records.dealer",G=P):(v="PCPlaza.records.anchor",G=V),_=VideoGameCore.LiveAnchorConfig.instance.getAnchorNameInLang(G,Core.LocalizeStore.instance.lang),i=Core.translate(v)+": "+_,-1!=i.indexOf(", ###")?i=i.substr(0,i.indexOf(", ###")):-1!=i.indexOf("& ###")&&(i=i.substr(0,i.indexOf("& ###")))}else if("CANCEL_BET"==e||"RECALC"==e)if(a=t,a=a.replace("billno:",""),a=a.replace("gmcode:",""),o=m?a.split(";"):a.split(","),m){i="";for(var g=0;g<o.length;g++)0==g?i+=o[g]+": ":1==g?i+=u+": "+o[g]+",":2==g&&(i+=" id: "+o[g]+";")}else i=o[1]?u+": "+o[1]:c+": "+o[0];else if("PROPFEE"==e){var p,k={};a=t,p=a.split(";"),k.type=Core.translate("PCPlaza.records.propfee.receiver_"+p[0]),k.piece=Core.translate("PCPlaza.records.propfee.piece"),p.length<=6?(k.name=p[1],k.itemLabel=Core.translate("PCPlaza.records.propfee."+p[2]),k.itemType="Gift",k.amount=p[5]):p.length<=7&&(k.type=Core.translate("receiver_"+p[0]),k.name=p[2]+p[1],k.itemLabel=Core.translate("PCPlaza.records.propfee."+p[3]),k.itemType="Gift",k.amount=p[6]),i=[k.type,k.name,k.itemLabel,k.itemType,k.amount,k.piece].join(" ")}else if("COMP"==e||"COMP_ENROLL"==e||"COMP_REFUND"==e||"COMP_PRIZE"==e){r[1];i=Core.translate("PCPlaza.records.comp.config_type")+":"+Core.translate("PCPlaza.records.comp.config_type_"+r[1])+"; "+Core.translate("PCPlaza.records.comp.sesstion_title")+":"+r[2],h=!1}return this.credit_mode_gameID.visible=h,i=i.replace("PCPlaza.records.","")},t.prototype.formatTypeNum=function(t){return"1"==t?2:1},t.prototype.makeFirstLetterUppercase=function(t){for(var e="",i=t.split(" "),r=0;r<i.length;r++){var s=i[r].toLowerCase();s&&(s=s[0].toUpperCase()+s.slice(1)),e=e+s+" "}return e},t.prototype.getAnchorName=function(t){var e,i=VideoGameCore.AnchorConfig.instance.findById(t);return e=i?i.name[Core.LocalizeStore.instance.lang]?i.name[Core.LocalizeStore.instance.lang]:i.name[Core.LANG_BACKUP]:t},t}(eui.ItemRenderer);t.BetHistoryCreditItemList=e,__reflect(e.prototype,"PCPlaza.BetHistoryCreditItemList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetHistoryCreditTotalListSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t}return __extends(t,e),t.prototype.dataChanged=function(){this.income_amount.setFixSizeText(Core.getStringFixed3(this.data.income_amount),this.income_amount.width),this.expend_amount.setFixSizeText(Core.getStringFixed3(this.data.expend_amount),this.expend_amount.width),this.subTotalTitle.text=this.data.subTotalTitle},t.prototype.release=function(){this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.onMouseOver=function(){this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(){this.selected||(this.skin.currentState="over")},t}(eui.ItemRenderer);t.BetHistoryCreditTotalList=e,__reflect(e.prototype,"PCPlaza.BetHistoryCreditTotalList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetHistoryItemListSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onResultClick,t),t.playBackBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.clickPlayBack,t),t.copy_billNo.addEventListener(egret.TouchEvent.TOUCH_TAP,t.copyToClipboardNo,t),t.copy_gameID.addEventListener(egret.TouchEvent.TOUCH_TAP,t.copyToClipboardID,t),t}return __extends(t,e),t.prototype.dataChanged=function(){var r=this;if(this.data.title)this.billno.localeKey=this.data.billno,this.date.localeKey=this.data.date,this.gamecode.localeKey=this.data.gamecode,this.platformtype.localeKey=this.data.platformtype,this.gametype.localeKey=this.data.gametype,this.tablecode.localeKey=this.data.tablecode,this.result.localeKey=this.data.result,this.playtype.localeKey=this.data.playtype,this.amount.localeKey=this.data.amount,this.payout.localeKey=this.data.payout,this.validbet.localeKey=this.data.validbet,this.status.localeKey=this.data.status,this.mode.localeKey=this.data.mode,this.setTitleStyle([this.billno,this.date,this.gamecode,this.platformtype,this.gametype,this.tablecode,this.result,this.playtype,this.amount,this.payout,this.validbet,this.status,this.mode]);else{this.playBack.visible=!1;var s=this.data;switch(this.billno.setFixSizeText(s.billno,this.billno.width),this.date.setFixSizeText(s.billtime,this.date.width),this.gamecode.setFixSizeText(s.gmcode,this.gamecode.width),this.platformtype.localeFunc=function(){return r.data&&"undefined"!=typeof r.data.platformtype?VideoGameCore.QueryStore.instance.getXMLTranslate(VideoGameCore.PLATFORMTYPE,r.data.platformtype):" "},this.platformtype.refresh(),this.gametype.localeKey="PCPlaza.records."+s.gametype,this.tablecode.setFixSizeText(s.tablecode,this.tablecode.width),this.result.localeFunc=function(){return r.data?r.getResult(s):" "},this.result.refresh(),this.playtype.localeFunc=function(){if(r.data&&"undefined"!=typeof r.data.playtype){if(11==r.data.playtype||12==r.data.playtype||13==r.data.playtype)return r.getPlayTypeStr(r.data.playtype.toString());if("8"==r.data.playtype||"9"==r.data.playtype){var t=r.data.remark.split(",")[0];return 4>=t?"8"==r.data.playtype?String(Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_insurance_banker"))+"("+Core.LocalizeStore.instance.translate("PCPlaza.bac.beforeAddCard")+")":String(Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_insurance_player"))+"("+Core.LocalizeStore.instance.translate("PCPlaza.bac.beforeAddCard")+")":"9"==r.data.playtype?String(Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_insurance_player"))+"("+Core.LocalizeStore.instance.translate("PCPlaza.bac.afterAddCard")+")":String(Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_insurance_banker"))+"("+Core.LocalizeStore.instance.translate("PCPlaza.bac.afterAddCard")+")"}return"ROU"==r.data.gametype&&r.data.remark?VideoGameCore.QueryStore.instance.getXMLTranslate(VideoGameCore.PLAYTYPE,r.data.playtype.toString())+"("+r.data.remark+")":VideoGameCore.QueryStore.instance.getXMLTranslate(VideoGameCore.PLAYTYPE,r.data.playtype.toString())}return" "},this.playtype.refresh(),this.amount.localeFunc=function(){if(r.data&&"undefined"!=typeof r.data.account){if(212==r.data.playtype||214==r.data.playtype||216==r.data.playtype||208==r.data.playtype||210==r.data.playtype||218==r.data.playtype){var t=Number(s.account)/5,e=4*Number(s.account)/5,i=t.toString()+"("+Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_adv")+":"+e.toString()+")";return i}return Core.getStringFixed3(Number(r.data.account))}return" "},this.amount.refresh(),this.payout.localeFunc=function(){var t=Number(r.data.cus_account);return r.data&&"undefined"!=typeof t?(0==t?r.payout.textColor=16777215:r.payout.textColor=VideoGameCore.getTextColor(t),Core.getStringFixed3(t)):" "},this.payout.refresh(),this.validbet.setFixSizeText(Core.getStringFixed3(s.valid_account),this.validbet.width),this.status.localeFunc=function(){return r.data&&"undefined"!=typeof r.data.flag?r.getBetStatusStr(r.data.flag):" "},this.status.refresh(),this.mode.localeFunc=function(){return r.data&&"undefined"!=typeof r.data.round?""==s.round?"-":Core.LocalizeStore.instance.translate("PCPlaza.records."+r.data.round):" "},this.mode.refresh(),s.flag.toString()){case"1":this.status.textColor=65280;break;default:this.status.textColor=16711680}}},t.prototype.setTitleStyle=function(t){var e=this;t.forEach(function(t){t.textColor=15256707,t.bold=!0,t.background=!0,t.backgroundColor=3355443,e.copy_billNo.enabled=!1,e.copy_gameID.enabled=!1})},t.prototype.getBetStatusStr=function(t){var e=t.toString();switch(e){case"0":return Core.LocalizeStore.instance.translate("PCPlaza.records.incomplete");case"1":return Core.LocalizeStore.instance.translate("PCPlaza.records.complete");case"-8":case"-9":return Core.LocalizeStore.instance.translate("PCPlaza.records.cancel")}return e},t.prototype.getPlayTypeStr=function(t){switch(t){case"1":return String(Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_banker"));case"2":return String(Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_player"));case"3":return String(Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_tie"));case"4":return String(Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_b_pair"));case"5":return String(Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_p_pair"));case"6":return String(Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_big"));case"7":return String(Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_small"));case"8":return String(Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_insurance_banker"));case"9":return String(Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_insurance_player"));case"11":return String(Core.LocalizeStore.instance.translate("PCPlaza.records.bac.bet_banker_no_comm"));case"12":return String(Core.LocalizeStore.instance.translate("PCPlaza.records.bac.bet_b_bonus"));case"13":return String(Core.LocalizeStore.instance.translate("PCPlaza.records.bac.bet_p_bonus"))}return t},t.prototype.release=function(){this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.onMouseOver=function(){this.hasEventListener(egret.TouchEvent.TOUCH_TAP)||this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onResultClick,this),this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(){this.selected||(this.skin.currentState="up")},t.prototype.onResultClick=function(){if(!this.data.title&&this.getResult(this.data)&&" "!=this.getResult(this.data))switch(this.data.gametype){case VideoGameCore.GAME_SHB:Core.globalStore.dispatchGlobal(Core.Ko,new i.BetHistoryResultPopupShb(this.data,this.getResult(this.data)));break;case VideoGameCore.GAME_CBAC:case VideoGameCore.GAME_ABAC:case VideoGameCore.GAME_SBAC:case VideoGameCore.GAME_LBAC:case VideoGameCore.GAME_BAC:Core.globalStore.dispatchGlobal(Core.Ko,new i.BetHistoryResultPopup(this.data,this.getResult(this.data)));break;case VideoGameCore.GAME_DT:Core.globalStore.dispatchGlobal(Core.Ko,new i.BetHistoryResultPopupDt(this.data,this.getResult(this.data)));break;case VideoGameCore.GAME_ROU:Core.globalStore.dispatchGlobal(Core.Ko,new i.BetHistoryResultPopupRou(this.data,this.getResult(this.data)));break;case VideoGameCore.GAME_NN:Core.globalStore.dispatchGlobal(Core.Ko,new i.BetHistoryResultPopupBull(this.data,this.getResult(this.data)));break;case VideoGameCore.GAME_BJ:Core.globalStore.dispatchGlobal(Core.Ko,new i.BetHistoryResultPopupBJ(this.data));break;case VideoGameCore.GAME_ZJH:Core.globalStore.dispatchGlobal(Core.Ko,new i.BetHistoryResultPopupZJH(this.data,this.getZJHResult(this.data)))}},t.prototype.clickPlayBack=function(t){this.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onResultClick,this);switch(this.data.gametype){case VideoGameCore.GAME_ZJH:Core.globalStore.dispatchGlobal(Core.Ko,new i.BetHistoryReplayPopup(this.data,this.getZJHResult(this.data)));break;case VideoGameCore.GAME_NN:Core.globalStore.dispatchGlobal(Core.Ko,new i.BetHistoryReplayPopupBull(this.data,this.getResult(this.data)));break;case VideoGameCore.GAME_SHB:Core.globalStore.dispatchGlobal(Core.Ko,new i.BetHistoryReplayPopupShb(this.data,this.getResult(this.data)));break;default:Core.globalStore.dispatchGlobal(Core.Ko,new i.BetHistoryReplayPopup(this.data,this.getResult(this.data)))}},t.prototype.copyToClipboardNo=function(t){this.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onResultClick,this),Core.copyTextToClipboard(this.billno.text)},t.prototype.copyToClipboardID=function(t){this.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onResultClick,this),Core.copyTextToClipboard(this.gamecode.text)},t.prototype.getResult=function(t){var e=" ";if(1!==t.flag)return this.playBackBtn.visible=!1,e;switch(t.gametype){case VideoGameCore.GAME_CBAC:case VideoGameCore.GAME_ABAC:case VideoGameCore.GAME_SBAC:case VideoGameCore.GAME_LBAC:case VideoGameCore.GAME_BAC:var i=t.playerpoint,r=t.bankerpoint;null!=i&&null!=r&&(e=Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_player")+" ",e+=i+" ",e+=Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_banker")+" ",e+=r);break;case VideoGameCore.GAME_SHB:e=t.cardlist;break;case VideoGameCore.GAME_DT:var s=t.dragonpoint,n=t.tigerpoint;if(null!=s&&null!=n){switch(e=Core.LocalizeStore.instance.translate("PCPlaza.dt.bet_dragon"),s){case 13:e+="K ";break;case 12:e+="Q ";break;case 11:e+="J ";break;default:e+=s+" "}switch(e+=Core.LocalizeStore.instance.translate("PCPlaza.dt.bet_tiger"),n){case 13:e+="K ";break;case 12:e+="Q ";break;case 11:e+="J ";break;default:e+=n+" "}}break;case VideoGameCore.GAME_ROU:e=t.cardlist;break;case VideoGameCore.GAME_BJ:var o=t.bj_banker_result.split(","),a=t.bj_player_result.split(",");if(o&&a){var h,u=o[0],c=o[1],f=o[2],C=a[0],l=a[1],m=a[2],d=a[3],v=a[4];a[5],a[6],t.bj_bet_seatnum;220==t.playtype||224==t.playtype||228==t.playtype||232==t.playtype?f&&d&&("1"==c?(h="BJ",e+=Core.LocalizeStore.instance.substitute("PCPlaza.bj.list_result_banker_bj",h)+" "):(h=f,e+=Core.LocalizeStore.instance.substitute("PCPlaza.bj.list_result_banker",h)+" "),"1"==m?(h="BJ",e+=Core.LocalizeStore.instance.substitute("PCPlaza.bj.list_result_player_bj",h)):(h=d,e+=Core.LocalizeStore.instance.substitute("PCPlaza.bj.list_result_player",h))):221==t.playtype||229==t.playtype?f&&v&&(e=Core.LocalizeStore.instance.substitute("PCPlaza.bj.list_result_banker",f)+" ",e+=Core.LocalizeStore.instance.substitute("PCPlaza.bj.list_result_player",v)):222==t.playtype||230==t.playtype?f&&u&&(e=Core.LocalizeStore.instance.translate("PCPlaza.bj.banker")+":",e+="1"==c?Core.LocalizeStore.instance.translate("PCPlaza.bj.list_result_bj"):Core.LocalizeStore.instance.translate("PCPlaza.bj.list_result_not_bj")):226==t.playtype?"0"==C?e=Core.LocalizeStore.instance.translate("PCPlaza.bj.not_pair"):"1"==C?e=Core.LocalizeStore.instance.translate("PCPlaza.bj.perfect_pair"):"2"==C?e=Core.LocalizeStore.instance.translate("PCPlaza.bj.colored_pair"):"3"==C&&(e=Core.LocalizeStore.instance.translate("PCPlaza.bj.mix_pair")):227==t.playtype&&("0"==l?e=Core.LocalizeStore.instance.translate("PCPlaza.bj.no_card_type"):"1"==l?e=Core.LocalizeStore.instance.translate("PCPlaza.bj.suited_trips"):"2"==l?e=Core.LocalizeStore.instance.translate("PCPlaza.bj.straight_flush"):"3"==l?e=Core.LocalizeStore.instance.translate("PCPlaza.bj.three_of_a_kind"):"4"==l?e=Core.LocalizeStore.instance.translate("PCPlaza.bj.straight"):"5"==l&&(e=Core.LocalizeStore.instance.translate("PCPlaza.bj.flush")))}else e=" ";break;case VideoGameCore.GAME_NN:var G=t.bankerpoint,_=t.playerpoint,b=t.playerpoint2,P=t.playerpoint3,V=t.playtype;e=Core.LocalizeStore.instance.translate("PCPlaza.bull.banker_record")+"(",e+=20==G?Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_bull")+")":50==G?Core.LocalizeStore.instance.translate("PCPlaza.bull.5_bull")+")":Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_"+G)+")",e+=" "+Core.LocalizeStore.instance.translate("PCPlaza.bull.player_record"),211==V||212==V||207==V||208==V?e+=20==_?"1("+Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_bull")+")":50==_?"1("+Core.LocalizeStore.instance.translate("PCPlaza.bull.5_bull")+")":"1("+Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_"+_)+")":213==V||214==V||209==V||210==V?e+=20==b?"2("+Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_bull")+")":50==b?"2("+Core.LocalizeStore.instance.translate("PCPlaza.bull.5_bull")+")":"2("+Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_"+b)+")":(215==V||216==V||217==V||218==V)&&(e+=20==P?"3("+Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_bull")+")":50==P?"3("+Core.LocalizeStore.instance.translate("PCPlaza.bull.5_bull")+")":"3("+Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_"+P)+")");break;case VideoGameCore.GAME_ZJH:var g=t.zjh_dragon_result,p=t.zjh_phoenix_result,k=new VideoGameCore.ZjhCardTypeData(g),w=new VideoGameCore.ZjhCardTypeData(p),z=Core.LocalizeStore.instance.translate("PCPlaza.zjh."+k.cardTypeStr),S=Core.LocalizeStore.instance.translate("PCPlaza.zjh."+w.cardTypeStr);e+=Core.LocalizeStore.instance.translate("PCPlaza.zjh.dragon")+"("+z+") ",e+=Core.LocalizeStore.instance.translate("PCPlaza.zjh.phoenix")+"("+S+")"}return e&&" "!=e&&1==this.data.flag?Core.IE_DISABLE_REPLAY?Core.isFlvSupported()&&(this.playBackBtn.visible=!0):this.playBackBtn.visible=!0:this.playBackBtn.visible=!1,e},t.prototype.getZJHResult=function(t){switch(t.gametype){case VideoGameCore.GAME_ZJH:var e=t.zjh_dragon_result,i=t.zjh_phoenix_result,r=new VideoGameCore.ZjhCardTypeData(e),s=new VideoGameCore.ZjhCardTypeData(i);return r.cardTypeStr+" "+s.cardTypeStr}},t}(eui.ItemRenderer);i.BetHistoryItemList=t,__reflect(t.prototype,"PCPlaza.BetHistoryItemList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetHistoryTabBtnSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t}return __extends(t,e),t.prototype.dataChanged=function(){switch(this.historyName.localeKey=this.data.nameKey,this.historyName.refresh(),this.historyIcon.source=this.data.iconSrc,this.data.key){case VideoGameCore.BET_HISTORY_LIVE_CREDIT:this.historyIcon.left=this.historyIcon.left+8}},t.prototype.onMouseOver=function(){this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(){this.selected||(this.skin.currentState="up")},t}(eui.ItemRenderer);t.BetHistoryTabBtn=e,__reflect(e.prototype,"PCPlaza.BetHistoryTabBtn")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(h){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetTainHistoryItemListSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onResultClick,t),t.copy_billNo.addEventListener(egret.TouchEvent.TOUCH_TAP,t.copyToClipboardNo,t),t}return __extends(t,e),t.prototype.dataChanged=function(){var e=this;if(this.data.title)this.orderno.localeKey=this.data.orderno,this.date.localeKey=this.data.date,this.settlementtime.localeKey=this.data.settlementtime,this.amount.localeKey=this.data.amount,this.payout.localeKey=this.data.payout,this.status.localeKey=this.data.status,this.setTitleStyle([this.orderno,this.date,this.settlementtime,this.amount,this.payout,this.status]);else{var t=this.data;switch(this.orderno.setFixSizeText(t.billno,this.orderno.width),this.date.setFixSizeText(t.billtime,this.date.width),this.settlementtime.setFixSizeText(t.settletime,this.settlementtime.width),this.status.localeFunc=function(){return e.data?e.getBetStatusStr(t.flag):" "},this.status.refresh(),this.amount.localeFunc=function(){return e.data&&"undefined"!=typeof e.data.valid_account?Core.getStringFixed3(Number(e.data.valid_account)):" "},this.amount.refresh(),this.payout.localeFunc=function(){var t=Number(e.data.cus_account);return e.data&&"undefined"!=typeof t?(0==t?e.payout.textColor=16777215:e.payout.textColor=VideoGameCore.getTextColor(t),Core.getStringFixed3(t)):" "},this.payout.refresh(),t.flag.toString()){case"1":this.status.textColor=65280;break;case"2":this.status.textColor=16777215;break;case"4":this.status.textColor=16777215;break;default:this.status.textColor=16711680}}},t.prototype.setTitleStyle=function(t){var e=this;t.forEach(function(t){t.textColor=15256707,t.bold=!0,t.background=!0,t.backgroundColor=3355443,e.copy_billNo.enabled=!1})},t.prototype.getBetStatusStr=function(t){var e=t.toString();switch(e){case"0":return Core.LocalizeStore.instance.translate("PCPlaza.records.incomplete");case"1":return Core.LocalizeStore.instance.translate("PCPlaza.records.complete");case"2":return Core.LocalizeStore.instance.translate("PCPlaza.records.bet.betting");case"4":return Core.LocalizeStore.instance.translate("PCPlaza.records.bet.withdraw");case"-8":case"-9":return Core.LocalizeStore.instance.translate("PCPlaza.records.cancel")}return e},t.prototype.release=function(){this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.onMouseOver=function(){this.hasEventListener(egret.TouchEvent.TOUCH_TAP)||this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onResultClick,this),this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(){this.selected||(this.skin.currentState="up")},t.prototype.onResultClick=function(){var t=[],e=(this.data.billno,this.splitTainData(this.data.market)),i=this.splitTainData(this.data.selection),r=this.splitTainData(this.data.result),s=this.splitTainData(this.data.odds),n=e.length;t.push({title:!0,market:"PCPlaza.records.bet.tain_market",selection:"PCPlaza.records.bet.tain_selected",result:"PCPlaza.records.bet.tain_result",odds:"PCPlaza.records.bet.tain_odds"});for(var o=0;n>o;o++){var a={};a.market=e[o],a.selected=i[o],a.result=r[o],s[o]&&(a.odds=s[o]),t.push(a)}Core.globalStore.dispatchGlobal(Core.Ko,new h.BetHistoryResultPopupTain(t))},t.prototype.copyToClipboardNo=function(t){this.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onResultClick,this),Core.copyTextToClipboard(this.orderno.text)},t.prototype.splitTainData=function(t){var e=[],i="|",r="";e=t.split(i);for(var s=0;s<e.length;s++)r=String(e[s]).substr(String(e[s]).indexOf(",")+1,String(e[s]).length),e[s]=r;return e},t}(eui.ItemRenderer);h.BetHistoryTainItemList=t,__reflect(t.prototype,"PCPlaza.BetHistoryTainItemList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetHistoryTainPopupItemListSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){this.data.title?(this.market.localeKey=this.data.market,this.option_selected.localeKey=this.data.selection,this.result.localeKey=this.data.result,this.odds.localeKey=this.data.odds,this.setTitleStyle([this.market,this.option_selected,this.result,this.odds])):(this.market.setFitSizeText(this.data.market,this.market.width),this.option_selected.setFitSizeText(this.data.selected,this.option_selected.width),this.result.setFitSizeText(""==this.data.result?"-":this.data.result,this.result.width),this.odds.setFitSizeText(this.data.odds,this.odds.width))},t.prototype.setTitleStyle=function(t){t.forEach(function(t){t.textColor=15256707,t.bold=!0,t.background=!0,t.backgroundColor=3355443})},t}(eui.ItemRenderer);t.BetHistoryTainPopupItemList=e,__reflect(e.prototype,"PCPlaza.BetHistoryTainPopupItemList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetHistoryTotalListSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t}return __extends(t,e),t.prototype.dataChanged=function(){this.amount.setFixSizeText(Core.getStringFixed3(this.data.amount),this.amount.width),this.payout.setFixSizeText(Core.getStringFixed3(this.data.payout),this.payout.width),this.validbet.setFixSizeText(Core.getStringFixed3(this.data.validbet),this.validbet.width),this.subTotalTitle.text=this.data.subTotalTitle},t.prototype.release=function(){this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.onMouseOver=function(){this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(){this.selected||(this.skin.currentState="over")},t}(eui.ItemRenderer);t.BetHistoryTotalList=e,__reflect(e.prototype,"PCPlaza.BetHistoryTotalList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(n){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetHistoryUserPointItemListSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.btnSessionId&&this.btnSessionId.addEventListener(egret.TouchEvent.TOUCH_TAP,this.copyToClipboardSessionID,this),this.btnTradeNo&&this.btnTradeNo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.copyToClipboardTradeNo,this)},t.prototype.onMouseOver=function(t){this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(t){this.selected||(this.skin.currentState="up")},t.prototype.copyToClipboardTradeNo=function(t){Core.copyTextToClipboard(this.tradeno.text)},t.prototype.copyToClipboardSessionID=function(t){Core.copyTextToClipboard(this.sessionID)},t.prototype.dataChanged=function(){var t=this;this.data.title?(this.tradeno.localeKey=this.data.tradeno,this.jointime.localeKey=this.data.jointime,this.code.localeKey=this.data.code,this.trans_amount.localeKey=this.data.trans_amount,this.remark.localeKey=this.data.remark,Core.setGrpTitleStyle(this.grp,15256707,3355443),this.btnSessionId.visible=!1,this.btnTradeNo.visible=!1):(this.tradeno.setFitSizeText(this.data.tradeno,this.tradeno.width),this.jointime.setFitSizeText(this.data.jointime,this.jointime.width),this.code.setFitSizeText(VideoGameCore.QueryStore.instance.getXMLTranslate(VideoGameCore.TRANSTYPE,this.data.code),this.code.width),this.trans_amount.setFitSizeText(this.data.trans_amount.toString(),this.trans_amount.width),0===this.data.trans_amount?this.trans_amount.textColor=16777215:this.trans_amount.textColor=VideoGameCore.getTextColor(this.data.trans_amount),this.trans_amount.localeFunc=function(){return Core.getStringFixed3(t.data.trans_amount)},this.trans_amount.refresh(),this.remark.localeFunc=function(){return t.convertRemarks(t.data.remark)},this.remark.refresh())},t.prototype.convertRemarks=function(t){var e,i;i=t.split(";");var r=n.checkPCEvent()?Core.translate(PCEvent.Comp.getConfigTypeLangStr(Number(i[1]))):i[1],s=this.sessionID=i[2];return e=Core.translate("PCPlaza.records.comp.config_type")+":"+r+"; "+Core.translate("PCPlaza.records.comp.sesstion_title")+":"+s},t}(eui.ItemRenderer);n.BetHistoryUserPointItemList=t,__reflect(t.prototype,"PCPlaza.BetHistoryUserPointItemList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetHistoryUserPointTotalListSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t}return __extends(t,e),t.prototype.dataChanged=function(){this.trans_amount.setFixSizeText(Core.getStringFixed3(this.data.trans_amount),this.trans_amount.width),this.subTotalTitle.text=this.data.subTotalTitle},t.prototype.release=function(){this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.onMouseOver=function(){this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(){this.selected||(this.skin.currentState="over")},t}(eui.ItemRenderer);t.BetHistoryUserPointTotalList=e,__reflect(e.prototype,"PCPlaza.BetHistoryUserPointTotalList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetHistoryCreditItemListSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t.credit_mode_tradeNo.addEventListener(egret.TouchEvent.TOUCH_TAP,t.copyToClipboardNo,t),t.credit_mode_gameID.addEventListener(egret.TouchEvent.TOUCH_TAP,t.copyToClipboardID,t),t}return __extends(t,e),t.prototype.onMouseOver=function(t){this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(t){this.selected||(this.skin.currentState="up")},t.prototype.release=function(){this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.copyToClipboardNo=function(t){Core.copyTextToClipboard(this.tradeno.text)},t.prototype.copyToClipboardID=function(t){if(this.mode.text.split(":").length<=2){var e=this.mode.text.split(":");1==e.length?Core.copyTextToClipboard(e[0]):Core.copyTextToClipboard(e[1])}else{var i=this.mode.text.split(": ")[2];i.split(";")?Core.copyTextToClipboard(i.split(";")[0]):Core.copyTextToClipboard(i)}},t.prototype.dataChanged=function(){var t=this;this.data.title?(this.tradeno.localeKey=this.data.tradeno,this.jointime.localeKey=this.data.jointime,this.trans_type.localeKey=this.data.trans_type,this.dst_amount.localeKey=this.data.dst_amount,this.income_amount.localeKey=this.data.income_amount,this.expend_amount.localeKey=this.data.expend_amount,this.src_amount.localeKey=this.data.src_amount,this.mode.localeKey=this.data.mode,this.mode.textAlign="center",this.setTitleStyle([this.tradeno,this.jointime,this.trans_type,this.dst_amount,this.income_amount,this.expend_amount,this.src_amount,this.mode])):(this.mode.textAlign="left",this.tradeno.setFixSizeText(this.data.tradeno,this.tradeno.width),this.jointime.setFixSizeText(this.data.jointime,this.jointime.width),this.trans_type.localeFunc=function(){return t.data?t.convertType(t.data.trans_type):" "},this.trans_type.refresh(),this.dst_amount.setFixSizeText(Core.getStringFixed3(this.data.dst_amount),this.dst_amount.width),this.income_amount.localeFunc=function(){return t.data&&"undefined"!=typeof t.data.income_amount&&t.data.income_amount>0?(t.income_amount.textColor=VideoGameCore.getTextColor(t.data.income_amount),Core.getStringFixed3(t.data.income_amount)):" "},this.income_amount.refresh(),this.expend_amount.localeFunc=function(){return t.data&&"undefined"!=typeof t.data.expend_amount&&t.data.expend_amount<0?(t.expend_amount.textColor=VideoGameCore.getTextColor(t.data.expend_amount),Core.getStringFixed3(t.data.expend_amount)):" "},this.expend_amount.refresh(),this.src_amount.setFixSizeText(Core.getStringFixed3(this.data.src_amount),this.src_amount.width),this.mode.localeFunc=function(){return t.data?t.convertRemarks(t.data.mode,t.data.trans_type):" "},this.mode.refresh())},t.prototype.setTitleStyle=function(t){var e=this;t.forEach(function(t){t.textColor=15256707,t.bold=!0,t.background=!0,t.backgroundColor=3355443,e.credit_mode_tradeNo.enabled=!1,e.credit_mode_gameID.enabled=!1})},t.prototype.convertRemarks=function(t,e){var i="",r=Core.translate("PCPlaza.records.hunterBet.sceneid");switch(e){case"1":case"Scene":case"6":case"7":i=r+":"+t;break;default:i=""}return i},t.prototype.convertType=function(t){var e="",i="PCPlaza.records.hunter.";switch(t){case"1":case"Scene":e=Core.translate(i+"credit_record_scene");break;case"2":e=Core.translate(i+"draw");break;case"3":case"TransCredit":e=Core.translate(i+"credit_record_trans_credit");break;case"4":e=Core.translate(i+"buy_fish");break;case"5":e=Core.translate(i+"mission");break;case"6":e=Core.translate(i+"we_bet");break;case"7":e=Core.translate(i+"we_bet_no_1");break;case"8":e=Core.translate(i+"competition");break;case"9":e=Core.translate(i+"competition_quit");break;case"10":e=Core.translate(i+"competition_cancel");break;case"11":e=Core.translate(i+"competition_award");break;case"12":e=Core.translate(i+"fish_settlement");break;case"13":e=Core.translate(i+"bomb_fish_rewrd");break;case"Award":e=Core.translate(i+"credit_record_award");break;default:e=t}return e},t.prototype.makeFirstLetterUppercase=function(t){for(var e="",i=t.split(" "),r=0;r<i.length;r++){var s=i[r].toLowerCase();s&&(s=s[0].toUpperCase()+s.slice(1)),e=e+s+" "}return e},t.prototype.getAnchorName=function(t){var e,i=VideoGameCore.AnchorConfig.instance.findById(t);return e=i?i.name[Core.LocalizeStore.instance.lang]?i.name[Core.LocalizeStore.instance.lang]:i.name[Core.LANG_BACKUP]:t},t}(eui.ItemRenderer);t.BetHunterHistoryCreditItemList=e,__reflect(e.prototype,"PCPlaza.BetHunterHistoryCreditItemList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetHunterHistoryItemListSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onResultClick,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.credit_mode_tradeNo&&this.credit_mode_tradeNo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.copyToClipboardNo,this)},t.prototype.copyToClipboardNo=function(t){Core.copyTextToClipboard(this.sceneid.text)},t.prototype.dataChanged=function(){var e=this;if(this.data.title)this.sceneid.localeKey=this.data.sceneid,this.roomid.localeKey=this.data.roomid,this.starttime.localeKey=this.data.starttime,this.endtime.localeKey=this.data.endtime,this.cost.localeKey=this.data.cost,this.earn.localeKey=this.data.earn,this.dividend.localeKey=this.data.dividend,this.setTitleStyle([this.sceneid,this.roomid,this.starttime,this.endtime,this.cost,this.earn,this.dividend]);else{var t=this.data;this.sceneid.setFixSizeText(t.sceneid,this.sceneid.width),this.roomid.setFixSizeText(t.roomid,this.roomid.width),this.starttime.setFixSizeText(t.starttime,this.starttime.width),this.endtime.setFixSizeText(t.endtime,this.endtime.width),this.cost.localeFunc=function(){return e.data&&"undefined"!=typeof e.data.cost?Core.getStringFixed3(Number(e.data.cost)):" "},this.cost.refresh(),this.earn.localeFunc=function(){return e.data&&"undefined"!=typeof e.data.earn?Core.getStringFixed3(Number(e.data.earn)):" "},this.earn.refresh(),this.dividend.localeFunc=function(){var t=Number(e.data.dividend);return e.data&&"undefined"!=typeof t?(0==t?e.dividend.textColor=16777215:e.dividend.textColor=VideoGameCore.getTextColor(t),Core.getStringFixed3(t)):" "},this.dividend.refresh()}},t.prototype.setTitleStyle=function(t){t.forEach(function(t){t.textColor=15256707,t.bold=!0,t.background=!0,t.backgroundColor=3355443})},t.prototype.release=function(){this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.onMouseOver=function(){this.hasEventListener(egret.TouchEvent.TOUCH_TAP)||this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onResultClick,this),this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onTestMouseOver=function(){dclib("real onTestMouseOver")},t.prototype.onMouseOut=function(){this.selected||(this.skin.currentState="up")},t.prototype.onResultClick=function(){},t}(eui.ItemRenderer);t.BetHunterHistoryItemList=e,__reflect(e.prototype,"PCPlaza.BetHunterHistoryItemList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetHunterHistoryTotalListSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t}return __extends(t,e),t.prototype.dataChanged=function(){this.cost.setFixSizeText(Core.getStringFixed3(this.data.cost),this.cost.width),this.earn.setFixSizeText(Core.getStringFixed3(this.data.earn),this.earn.width),this.subTotalTitle.text=this.data.subTotalTitle},t.prototype.release=function(){this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.onMouseOver=function(){this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(){this.selected||(this.skin.currentState="over")},t}(eui.ItemRenderer);t.BetHunterHistoryTotalList=e,__reflect(e.prototype,"PCPlaza.BetHunterHistoryTotalList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetSlotHistoryItemListSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onResultClick,t),t.copy_billNo.addEventListener(egret.TouchEvent.TOUCH_TAP,t.copyToClipboardNo,t),t.copy_mainBillNo.addEventListener(egret.TouchEvent.TOUCH_TAP,t.copyToClipboardID,t),t.copy_billNo.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onTestMouseOver,t),t}return __extends(t,e),t.prototype.dataChanged=function(){var e=this;if(this.data.title)this.date.localeKey=this.data.date,this.billno.localeKey=this.data.billno,this.amount.localeKey=this.data.amount,this.bonus.localeKey=this.data.bonus,this.payout.localeKey=this.data.payout,this.validbet.localeKey=this.data.validbet,this.gametype.localeKey=this.data.gametype,this.type.localeKey=this.data.type,this.mainbillno.localeKey=this.data.mainbillno,this.status.localeKey=this.data.status,this.setTitleStyle([this.date,this.billno,this.amount,this.bonus,this.payout,this.validbet,this.gametype,this.type,this.mainbillno,this.status]);else{var t=this.data;if(""==this.data.remark)this.billno.setFitSizeText(t.billno,0,!1);else{var i=this.data.remark,r="("+Core.LocalizeStore.instance.translate("PCPlaza.records.bet.gamecode")+":"+i.split("-")[1]+")";this.billno.setFitSizeText(t.billno+r,0,!1)}this.date.setFixSizeText(t.billtime,this.date.width);var s=VideoGameCore.SlotGameConfig.instance.getSlotGameNameByGameType(this.data.gametype);switch(this.gametype.localeKey=null==s?this.data.gametype:s,this.mainbillno.setFixSizeText(t.mainbillno,this.mainbillno.width),this.bonus.setFixSizeText(Core.getStringFixed3(t.bonus_base),this.bonus.width),this.amount.localeFunc=function(){return e.data&&"undefined"!=typeof e.data.account?Core.getStringFixed3(Number(e.data.account)):" "},this.payout.localeFunc=function(){var t=Number(e.data.cus_account);return e.data&&"undefined"!=typeof t?(0==t?e.payout.textColor=16777215:e.payout.textColor=VideoGameCore.getTextColor(t),Core.getStringFixed3(t)):" "},this.payout.refresh(),this.validbet.setFixSizeText(Core.getStringFixed3(t.valid_account),this.validbet.width),this.status.localeFunc=function(){return e.data&&"undefined"!=typeof e.data.flag?e.getBetStatusStr(e.data.flag):" "},this.status.refresh(),this.type.localeKey=this.getSlotTypeStr(this.data.slottype),t.flag.toString()){case"1":this.status.textColor=65280;break;default:this.status.textColor=16711680}}},t.prototype.setTitleStyle=function(t){var e=this;t.forEach(function(t){t.textColor=15256707,t.bold=!0,t.background=!0,t.backgroundColor=3355443,e.copy_billNo.enabled=!1,e.copy_mainBillNo.enabled=!1})},t.prototype.getBetStatusStr=function(t){var e=t.toString();switch(e){case"0":return Core.LocalizeStore.instance.translate("PCPlaza.records.incomplete");case"1":return Core.LocalizeStore.instance.translate("PCPlaza.records.complete");case"-8":case"-9":return Core.LocalizeStore.instance.translate("PCPlaza.records.cancel")}return e},t.prototype.getSlotTypeStr=function(t){var e=t.toString();switch(e){case"1":return Core.LocalizeStore.instance.translate("PCPlaza.records.slotType.basegame");case"2":return Core.LocalizeStore.instance.translate("PCPlaza.records.slotType.freegame");case"8":return Core.LocalizeStore.instance.translate("PCPlaza.records.slotType.party_jackpot");case"9":return Core.LocalizeStore.instance.translate("PCPlaza.records.slotType.jackpot_frenzy_game");case"10":return Core.LocalizeStore.instance.translate("PCPlaza.records.slotType.party_bonus");case"11":return Core.LocalizeStore.instance.translate("PCPlaza.records.slotType.personal_bonus")}return e},t.prototype.release=function(){this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.onMouseOver=function(){this.hasEventListener(egret.TouchEvent.TOUCH_TAP)||this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onResultClick,this),this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onTestMouseOver=function(){dclib("real onTestMouseOver")},t.prototype.onMouseOut=function(){this.selected||(this.skin.currentState="up")},t.prototype.onResultClick=function(){},t.prototype.copyToClipboardNo=function(t){this.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onResultClick,this),Core.copyTextToClipboard(this.billno.text)},t.prototype.copyToClipboardID=function(t){this.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onResultClick,this),Core.copyTextToClipboard(this.mainbillno.text)},t}(eui.ItemRenderer);t.BetSlotHistoryItemList=e,__reflect(e.prototype,"PCPlaza.BetSlotHistoryItemList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetSlotHistoryTotalListSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t}return __extends(t,e),t.prototype.dataChanged=function(){this.payout.setFixSizeText(Core.getStringFixed3(this.data.payout),this.payout.width),this.validbet.setFixSizeText(Core.getStringFixed3(this.data.validbet),this.validbet.width),this.subTotalTitle.text=this.data.subTotalTitle},t.prototype.release=function(){this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.onMouseOver=function(){this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(){this.selected||(this.skin.currentState="over")},t}(eui.ItemRenderer);t.BetSlotHistoryTotalList=e,__reflect(e.prototype,"PCPlaza.BetSlotHistoryTotalList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BetTainHistoryTotalListSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t}return __extends(t,e),t.prototype.dataChanged=function(){this.payout.setFixSizeText(Core.getStringFixed3(this.data.payout),this.payout.width),this.validbet.setFixSizeText(Core.getStringFixed3(this.data.validbet),this.validbet.width),this.subTotalTitle.text=this.data.subTotalTitle},t.prototype.release=function(){this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.onMouseOver=function(){this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(){this.selected||(this.skin.currentState="over")},t}(eui.ItemRenderer);t.BetTainHistoryTotalList=e,__reflect(e.prototype,"PCPlaza.BetTainHistoryTotalList")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){i.BET_RECORD_PLAT=["DSP","AGQ","VIP","LED"];var t=function(e){function t(){var t=e.call(this)||this;return t.setItemList(i.BET_RECORD_PLAT.length,"PCPlaza.records.platform"),t}return __extends(t,e),t}(i.PlatformDropdownMenu);i.BetRecordPlatformDropdownMenu=t,__reflect(t.prototype,"PCPlaza.BetRecordPlatformDropdownMenu")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(e){function t(){var t=e.call(this)||this;return t.curSelectedIndex=0,t.totalTracks=0,t.index=0,t.msgSetIndex=0,t.skinName="PCPlaza.BgmDropdownMenuSkin",t.onInit(),t}return __extends(t,e),t.prototype.onInit=function(){this.currentItem=new i.BgmDropdownMenuItem,this.currentItem.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTapCurrentItem,this),this.addChild(this.currentItem),this.listScroller.visible=!1,this.listScroller.scrollPolicyH=eui.ScrollPolicy.OFF,this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.onRemoveFromStage=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.updateItemList=function(){this.selectItemList=new Array,this.totalTracks=VideoGameCore.BgmConfig.instance.getNumTracks(),this.trackContainer.removeChildren();for(var t=0;t<this.totalTracks;t++){var e=new i.BgmDropdownMenuItem;e.index=t,e.y=40*t,e.skin.currentState="down",e.visible=!1,this.selectItemList.push(e),e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTapItem,this),e.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOverItem,this),e.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOverItem,this),this.trackContainer.addChild(e)}},t.prototype.onTouchTapCurrentItem=function(){this.touchEnabled&&(this.showSelectList(),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this))},t.prototype.onTouchTap=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this),this.hideSelectList()},t.prototype.onTouchTapItem=function(t){var e=t.currentTarget;if(this.setIndex(e.index,!0),e.index!=this.curSelectedIndex){var i=String(VideoGameCore.BgmConfig.instance.getFileName("bgm"+String(e.index))).replace(".","_");VideoGameCore.BgmConfig.instance.setCurPlayingTrack(i),VideoGameCore.BgmConfig.instance.setCurTrackIndex(e.index),Core.soundManager.stopBGM(),Core.soundManager.playBGM(i),this.curSelectedIndex=e.index}},t.prototype.onRollOverItem=function(t){for(var e=t.currentTarget,i=0;i<this.selectItemList.length;i++){var r=this.selectItemList[i];t.type==mouse.MouseEvent.MOUSE_OVER&&e.index==i?r.skin.currentState="select":r.skin.currentState="down"}},t.prototype.hideSelectList=function(){if(null!=this.selectItemList){for(var t=0;t<this.selectItemList.length;t++){var e=this.selectItemList[t];e.visible=!1}this.listScroller.visible=!1}},t.prototype.showSelectList=function(){var t=VideoGameCore.BgmConfig.instance.getAllTracks();if(null!=this.selectItemList){for(var e=0;e<t.length;e++){var i=this.selectItemList[e];i.visible=!0}this.listScroller.visible=!0}},t.prototype.setIndex=function(t,e){void 0===e&&(e=!1),t=Math.max(0,Math.min(this.totalTracks,t));var i=this.selectItemList[t];this.currentItem.lblMsg.text=i.lblMsg.text,this.currentItem.lblMsg.setFitSizeText(i.lblMsg.text,this.currentItem.lblMsg.width),this.index=t,e&&this.dispatchEvent(new egret.Event(egret.Event.CHANGE))},t.prototype.setEnable=function(t){this.touchEnabled=t,this.hideSelectList(),null!=this.currentItem&&(this.currentItem.visible=t)},t.prototype.setMsgList2=function(t){this.updateItemList();var e=VideoGameCore.BgmConfig.instance.getAllTracks();if(0==t)for(var i=0;i<e.length;i++){var r=this.selectItemList[i];r.lblMsg.setFitSizeText(String(i+1)+". "+e[i],r.lblMsg.width)}},t.prototype.updateText=function(){this.setMsgList2(this.msgSetIndex),this.setIndex(VideoGameCore.BgmConfig.instance.getCurTrackIndex()),this.curSelectedIndex=VideoGameCore.BgmConfig.instance.getCurTrackIndex()},t}(eui.Component);i.BgmDropdownMenu=t,__reflect(t.prototype,"PCPlaza.BgmDropdownMenu",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(){var t=i.call(this)||this;return t.index=0,t.skinName="PCPlaza.BgmDropdownMenuItemSkin",t}return __extends(t,i),t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this)},t}(eui.Component);t.BgmDropdownMenuItem=e,__reflect(e.prototype,"PCPlaza.BgmDropdownMenuItem",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(){var t=i.call(this)||this;return t.cardHeight=73,t.cardWidth=52,t.explicitCardHeight=45,t.groupHeight=49,t.groupWidth=140,t.gapH=2,t.gapW=0,t}return __extends(t,i),t.prototype.setData=function(t){t?(21==t.point&&2==t.cardlist.length?(this.lblValue.visible=!1,this.iconBJ.visible=!0):(this.lblValue.text=t.point.toString(),this.lblValue.textColor=t.point>21?16711680:21==t.point?16711424:16777215,this.iconBJ.visible=!1,this.lblValue.visible=!0),this.setCardsList(t.cardlist)):(this.lblValue.text="",this.cardsGrp.removeChildren(),this.iconBJ.visible=!1)},t.prototype.setSelection=function(t){this.bgRect.fillColor=t?8482913:0},t.prototype.setCardsList=function(t){if(this.cardsGrp.removeChildren(),this.initCards(t),this.cardsList.length>0){for(var e=this.explicitCardHeight/this.cardHeight,i=this.cardWidth*e,r=.75,s=i*r,n=this.cardsList.length,o=(n-1)*s+i;o>=this.groupWidth;)r-=.05,s=i*r,o=(n-1)*s+i;for(var a=(this.groupWidth-o)/2,h=0;h<this.cardsList.length;h++){var u=this.cardsList[h];u.scaleX=u.scaleY=e,u.y=this.gapH,u.x=a+this.gapW,this.cardsGrp.addChild(u),a+=s}}},t.prototype.initCards=function(t){this.cardsList=[];for(var e=0;e<t.length;e++){var i=t[e],r=new eui.Image;r.source=VideoGameCore.getImgByCardCode(i,"cards3_json."),this.cardsList.push(r)}},t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this)},t}(eui.Component);t.BJResultItem=e,__reflect(e.prototype,"PCPlaza.BJResultItem",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(){var t=i.call(this)||this;return t.skinName="PCPlaza.CalendarItemSkin",t}return __extends(t,i),t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this)},t}(eui.Component);t.CalendarItem=e,__reflect(e.prototype,"PCPlaza.CalendarItem",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.updateDisplayListReal=function(t,e){var i="eui.UIComponent",r=this.$target,s=this.$paddingLeft,n=this.$paddingRight,o=this.$paddingTop,a=this.$paddingBottom,h=this.$gap,u=Math.max(0,t-s-n),c=Math.max(0,e-o-a),f=this.$horizontalAlign!=egret.HorizontalAlign.CENTER&&this.$horizontalAlign!=egret.HorizontalAlign.RIGHT,C=this.$verticalAlign==eui.JustifyAlign.JUSTIFY||this.$verticalAlign==eui.JustifyAlign.CONTENT_JUSTIFY,l=0;C||(this.$verticalAlign==egret.VerticalAlign.MIDDLE?l=.5:this.$verticalAlign==egret.VerticalAlign.BOTTOM&&(l=1));var m,d,v,G=r.numElements,_=G,b=s,P=o,V=0,g=0,p=[],k=u,w=this.maxElementSize,z=egret.$TempRectangle;for(m=0;G>m;m++){var S=r.getElementAt(m);if(egret.is(S,i)&&S.$includeInLayout)if(S.getPreferredBounds(z),w=Math.max(w,z.height),f)V+=z.width;else{var y=S.$UIComponent;isNaN(y[6])?k-=z.width:(g+=y[6],v=new eui.sys.ChildInfo,v.layoutElement=S,v.percent=y[6],v.min=y[12],v.max=y[13],p.push(v))}else _--}k-=h*(_-1),k=k>0?k:0;var E,T=u-V-h*(_-1),x=_,O={};if(f){if(0>T){for(E=k/_,m=0;G>m;m++)d=r.getElementAt(m),egret.is(d,i)&&d.$includeInLayout&&(d.getPreferredBounds(z),z.width<=E&&(k-=z.width,x--));k=k>0?k:0}}else if(g>0){this.flexChildrenProportionally(u,k,g,p);var I=0,R=p.length;for(m=0;R>m;m++){v=p[m];var L=Math.round(v.size+I);I+=v.size-L,O[v.layoutElement.$hashCode]=L,k-=L}k=k>0?k:0}this.$horizontalAlign==egret.HorizontalAlign.CENTER?b=s+.5*k:this.$horizontalAlign==egret.HorizontalAlign.RIGHT&&(b=s+k);var j=s,B=o,A=0,N=0,M=Math.ceil(c);this.$verticalAlign==eui.JustifyAlign.CONTENT_JUSTIFY&&(M=Math.ceil(Math.max(c,w)));var D,H,U=0;for(m=0;G>m;m++){var F=0;if(d=r.getElementAt(m),egret.is(d,i)&&d.$includeInLayout){if(d.getPreferredBounds(z),D=0/0,f?(H=0/0,T>0?(this.$horizontalAlign==egret.HorizontalAlign.LEFT&&m==G-1?d.maxWidth=z.width+T:this.$horizontalAlign==egret.HorizontalAlign.RIGHT&&0==m&&(d.maxWidth=z.width+T),H=z.width):0>T&&z.width>E&&(H=k),isNaN(H)||(D=Math.round(H+U),U+=H-D)):(this.$horizontalAlign==egret.HorizontalAlign.RIGHT&&T>0&&this.$horizontalAlign==egret.HorizontalAlign.RIGHT&&0==m&&(d.maxWidth=z.width+T),D=O[d.$hashCode]),C)P=o,d.setLayoutBoundsSize(D,M),d.getLayoutBounds(z);else{var K=0/0,y=d.$UIComponent;if(!isNaN(d.percentHeight)){var Z=Math.min(100,y[7]);K=Math.round(c*Z*.01)}d.setLayoutBoundsSize(D,K),d.getLayoutBounds(z),F=(c-z.height)*l,F=F>0?F:0,P=o+F}d.setLayoutBoundsPosition(Math.round(b),Math.round(P)),A=Math.ceil(z.width),N=Math.ceil(z.height),j=Math.max(j,b+A),B=Math.max(B,P+N),b+=A+h}}this.maxElementSize=w,r.setContentSize(j+n,B+a)},e}(eui.HorizontalLayout);t.ChatHorizontalLayout=e,__reflect(e.prototype,"PCPlaza.ChatHorizontalLayout")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){i.CREDIT_RECORD_PLAT=["BET","RECKON","DONATEFEE","RED_POCKET"];var t=function(e){function t(){var t=e.call(this)||this;return t.setItemList(i.CREDIT_RECORD_PLAT.length,"PCPlaza.records.creditPlatform"),t}return __extends(t,e),t}(i.PlatformDropdownMenu);i.CreditRecordPlatformDropdownMenu=t,__reflect(t.prototype,"PCPlaza.CreditRecordPlatformDropdownMenu")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(r){function t(){var t=r.call(this)||this;t._index=0,t.skinName="PCPlaza.YearMonthDayDropdownMenuSkin",t.init(),t.setItemList(),t.setDay();for(var e=0;e<t.itemList.length;e++){var i=t.itemList[e];i.index=e,i.y=30*e+29,i.skin.currentState="down",i.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onTouchTapItem,t),i.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onRollOverItem,t),i.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onRollOverItem,t),t.DayListGrp.addChild(i)}return t.listScroller.visible=!1,t}return __extends(t,r),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!0,configurable:!0}),t.prototype.setDayValue=function(t){this.currentItem.lblMsg.text!=t&&(this.currentItem.lblMsg.text=t)},t.prototype.getDayValue=function(){return this.currentItem.lblMsg.text},t.prototype.init=function(){this.currentItem=new i.YearMonthDayDropdownMenuItem,this.currentItem.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dropDown,this),this.addChild(this.currentItem),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.onRemoveFromStage=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.dropDown=function(){this.touchEnabled&&(this.showItemList(),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this))},t.prototype.showItemList=function(){if(null!=this.itemList)for(var t=0;t<this.itemList.length;t++){this.itemList[t]}this.listScroller.visible=!0},t.prototype.hideItemList=function(){if(null!=this.itemList)for(var t=0;t<this.itemList.length;t++){this.itemList[t]}this.listScroller.visible=!1},t.prototype.onTouchTap=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this),this.hideItemList()},t.prototype.setItemList=function(){this.itemList=new Array;for(var t=0;31>t;t++){var e=new i.YearMonthDayDropdownMenuItem;e.lblMsg.text=""+(t+1),this.itemList.push(e)}},t.prototype.setIndex=function(t){t=Math.max(0,Math.min(30,t)),this.currentItem.lblMsg.text=Number(this.itemList[t].lblMsg.text)<10?"0"+this.itemList[t].lblMsg.text:this.itemList[t].lblMsg.text,this.index=t},t.prototype.onTouchTapItem=function(t){var e=t.currentTarget;this.setIndex(e.index)},t.prototype.onRollOverItem=function(t){for(var e=t.currentTarget,i=0;i<this.itemList.length;i++){var r=this.itemList[i];t.type==mouse.MouseEvent.MOUSE_OVER&&e.index==i?r.skin.currentState="select":r.skin.currentState="down"}},t.prototype.setDay=function(){var t=new Date,e=Core.patternDate("yyyy-MM-dd",t),i=e.split("-")[2];this.setIndex(Number(i)-1)},t}(eui.Component);i.DayDropDownMenu2=t,__reflect(t.prototype,"PCPlaza.DayDropDownMenu2",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(){var t=i.call(this)||this;return t.index=0,t.skinName="PCPlaza.LangDropdownMenuItemSkin",t}return __extends(t,i),t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this)},t}(eui.Component);t.LangDropdownMenuItem=e,__reflect(e.prototype,"PCPlaza.LangDropdownMenuItem",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(n){var t=function(e){function t(){var t=e.call(this)||this;return t.containerAlpha=1,t.isDisplayStatus=!1,t.skinName="PCPlazaSkin.MiniTimerSkin",t.once(egret.Event.ADDED_TO_STAGE,function(){t._shape=new egret.Shape,t.containerGroup.addChild(t._shape),t.containerGroup.alpha=t.containerAlpha},t),t}return __extends(t,e),t.prototype.getStoreList=function(){var t=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid);return[Core.LocalizeStore.instance,t]},t.prototype.onAddToStage=function(){e.prototype.onAddToStage.call(this)},t.prototype.onRemoveFromStage=function(){e.prototype.onRemoveFromStage.call(this)},t.prototype.onStoreChange=function(t,e,i){if(e===Core.t){var r=this.vid.slice(0,1)+this.vid.slice(2);this.roomLabel.text=r,this.onTimerChange()}else t instanceof VideoGameCore.RoadRoomTimerStore?this.onTimerChange():t===Core.LocalizeStore.instance&&this.onLangChange()},t.prototype.onLangChange=function(){this.validateNow(),this.updateGameStatus()},t.prototype.onTimerChange=function(){var t=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid),e=t.timeout,i=t.maxTimeout,r=e>0?360/i*(e%i)-270:90,s=14530358;switch(t.gameStatus){case 1:this.statusGrp.visible=!1,s=10>=e?16711680:47392;break;default:this.updateGameStatus(),this.statusLabel.text?this.statusGrp.visible=!0:this.statusGrp.visible=!1}this._shape&&(n.drawArc(this._shape,6,s,this.containerGroup.width/2,this.containerGroup.height/2,this.containerGroup.width/2-4,-90,-r,!0),10>=e&&0!=e&&(egret.Tween.removeTweens(this._shape),egret.Tween.get(this._shape).to({alpha:0},100).wait(100).to({alpha:1},100).wait(200).to({alpha:0},100).wait(100).to({alpha:1},100)),(1!=t.gameStatus||0==e)&&(egret.Tween.removeTweens(this._shape),this._shape.alpha=1))},t.prototype.updateGameStatus=function(){var t=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid);switch(t.gameStatus){case 1:break;case 0:this.statusLabel.text=Core.translate("PCPlaza.roomTimer.settling");break;case 2:this.statusLabel.text=Core.translate("PCPlaza.roomTimer.open_cards");break;case 11:this.statusLabel.text=Core.translate("PCPlaza.roomTimer.shuffling");break;default:this.statusLabel.text=""}Core.LocalizeStore.instance.lang===Core.LANG_EN?this.statusLabel.size=12:this.statusLabel.size=14},t}(Core.StoreView);n.MiniTimerComponent=t,__reflect(t.prototype,"PCPlaza.MiniTimerComponent")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var r=120,s=213,e=function(i){function t(t){var e=i.call(this)||this;return e.index=-1,e.skinName="PCPlaza.MobileAccountImageItemSkin",e.loadImage(t),e.index=t,e}return __extends(t,i),t.prototype.loadImage=function(t){var e=Core.LANG_EN;switch(Core.LocalizeStore.instance.lang){case Core.LANG_HANS:e=Core.LANG_HANS;break;case Core.LANG_HANT:e=Core.LANG_HANT}this.imageHolder.source=t+"_"+e+"_jpg",this.imageHolder.width=r,this.imageHolder.height=s,this.imageNum.text=String(t),this.border.width=r,this.border.height=s},t.prototype.getWidth=function(){return r},t.prototype.getHeight=function(){return s},t.prototype.getIndex=function(){return this.index},t.prototype.showBorder=function(t){this.border.visible=t},t}(eui.Component);t.MobileAccountImageItem=e,__reflect(e.prototype,"PCPlaza.MobileAccountImageItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(r){function t(){var t=r.call(this)||this;t._index=0,t.skinName="PCPlaza.YearMonthDayDropdownMenuSkin",t.init(),t.setItemList(),t.setCurrMonth();for(var e=0;e<t.itemList.length;e++){var i=t.itemList[e];i.index=e,i.y=30*e+29,i.skin.currentState="down",i.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onTouchTapItem,t),i.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onRollOverItem,t),i.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onRollOverItem,t),t.DayListGrp.addChild(i)}return t.listScroller.visible=!1,t}return __extends(t,r),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!0,configurable:!0}),t.prototype.getMonthValue=function(){return this.currentItem.lblMsg.text},t.prototype.init=function(){this.currentItem=new i.YearMonthDayDropdownMenuItem,this.currentItem.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dropDown,this),this.addChild(this.currentItem),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.onRemoveFromStage=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.dropDown=function(){this.touchEnabled&&(this.showItemList(),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this))},t.prototype.showItemList=function(){if(null!=this.itemList)for(var t=0;t<this.itemList.length;t++){this.itemList[t]}this.listScroller.visible=!0},t.prototype.hideItemList=function(){if(null!=this.itemList)for(var t=0;t<this.itemList.length;t++){this.itemList[t]}this.listScroller.visible=!1},t.prototype.onTouchTap=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this),this.hideItemList()},t.prototype.setItemList=function(){this.itemList=new Array;for(var t=0;12>t;t++){var e=new i.YearMonthDayDropdownMenuItem;9>t?e.lblMsg.text="0"+(t+1):e.lblMsg.text=""+(t+1),this.itemList.push(e)}},t.prototype.setIndex=function(t){t=Math.max(0,Math.min(11,t)),this.currentItem.lblMsg.text=this.itemList[t].lblMsg.text,this.index=t},t.prototype.onTouchTapItem=function(t){var e=t.currentTarget;this.setIndex(e.index)},t.prototype.onRollOverItem=function(t){for(var e=t.currentTarget,i=0;i<this.itemList.length;i++){var r=this.itemList[i];t.type==mouse.MouseEvent.MOUSE_OVER&&e.index==i?r.skin.currentState="select":r.skin.currentState="down"}},t.prototype.setCurrMonth=function(){var t=new Date,e=Core.patternDate("yyyy-MM-dd",t),i=e.split("-")[1];this.setIndex(Number(i)-1)},t}(eui.Component);i.MonthDropDownMenu=t,__reflect(t.prototype,"PCPlaza.MonthDropDownMenu",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(){var t=i.call(this)||this;return t.skinName="PCPlaza.NameListItemSkin",t}return __extends(t,i),t.prototype.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.bgRect.fillColor=this.itemIndex%2==0?6710886:5592405},t}(eui.ItemRenderer);t.NameListItem=e,__reflect(e.prototype,"PCPlaza.NameListItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(i){function t(){var t=i.call(this)||this;return t.scrollV=0,t.isTouchBegin=!1,t.skinName="PCPlaza.PCVScrollbarSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onInit,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveFromStage,t),t}return __extends(t,i),t.prototype.onInit=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onInit,this),this.btnDown.y=this.height-this.btnDown.height,this.thumb.y=this.btnUp.height,this.btnDown.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapDown,this),this.btnUp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapUp,this),this.thumb.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTapDownThumb,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTapUpThumb,this),this.movePoint=new egret.Point(0,0),this.listHeight=0},t.prototype.onRemoveFromStage=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTapMoveThumb,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTapUpThumb,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this),r.RootPageStore.instance.removeEventListener(r.EVENT_MOUSE_WHEEL,this.onMouseWheel,this)},t.prototype.release=function(){this.scrollListView=null,Core.releaseAllChildren(this)},t.prototype.onMouseWheel=function(t){if(this.scrollListView){var e=t.data;this.visible&&(e.deltaY>0?this.onTapDown():this.onTapUp()),e.preventDefault()}else r.RootPageStore.instance.removeEventListener(r.EVENT_MOUSE_WHEEL,this.onMouseWheel,this)},t.prototype.onScrollListResize=function(){this.scrollListView&&(this.visible=this.scrollListView.height>this.scrollHeight,this.listHeight!=this.scrollListView.height&&(this.listHeight=this.scrollListView.height,this.setScrollV(0),this.setThumbV(0)))},t.prototype.onTapDownThumb=function(t){this.movePoint=new egret.Point(t.stageX,t.stageY),this.isTouchBegin=!0,this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTapMoveThumb,this)},t.prototype.onTapUpThumb=function(t){this.isTouchBegin&&(this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTapMoveThumb,this),this.moveThumb(t),this.isTouchBegin=!1)},t.prototype.onTapMoveThumb=function(t){this.moveThumb(t)},t.prototype.moveThumb=function(t){var e=new egret.Point(t.stageX,t.stageY),i=e.y-this.movePoint.y,r=this.height-this.thumb.height-this.btnDown.height,s=(this.thumb.y-this.btnUp.height)/(r-this.btnUp.height)*100;this.thumb.y=Math.max(this.btnUp.height,Math.min(r,this.thumb.y+i)),this.setScrollV(s),this.movePoint=e},t.prototype.onTapDown=function(){this.setScrollV(this.scrollV+40),this.setThumbV(this.scrollV)},t.prototype.onTapUp=function(){this.setScrollV(this.scrollV-40),this.setThumbV(this.scrollV)},t.prototype.setScrollV=function(t){if(this.scrollListView){this.scrollV=Math.max(0,Math.min(100,t));var e=Math.max(0,this.scrollListView.height-this.scrollHeight+5),i=e/100*-this.scrollV+this.topOffset;egret.Tween.removeTweens(this.scrollListView),egret.Tween.get(this.scrollListView).to({y:i},80)}},t.prototype.setThumbV=function(t){t=Math.max(0,Math.min(100,t));var e=Math.max(0,this.height-this.thumb.height-this.btnDown.height-this.btnUp.height),i=e/100*this.scrollV+this.btnUp.height;this.thumb.y=i},t.prototype.setListView=function(t,e,i){this.scrollListView&&(this.scrollListView.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOverList,this),this.scrollListView.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOutList,this),this.scrollListView.removeEventListener(egret.Event.RESIZE,this.onScrollListResize,this)),this.scrollListView=t,this.topOffset=e,this.scrollHeight=i,this.scrollListView.y=e,this.scrollListView&&(this.scrollListView.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOverList,this),this.scrollListView.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOutList,this),this.scrollListView.addEventListener(egret.Event.RESIZE,this.onScrollListResize,this))},t.prototype.onMouseOverList=function(){r.RootPageStore.instance.addEventListener(r.EVENT_MOUSE_WHEEL,this.onMouseWheel,this)},t.prototype.onMouseOutList=function(){r.RootPageStore.instance.removeEventListener(r.EVENT_MOUSE_WHEEL,this.onMouseWheel,this)},t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this)},t}(eui.Component);r.PCVScrollbar=t,__reflect(t.prototype,"PCPlaza.PCVScrollbar",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t._index=0,t.skinName="PCPlaza.PlatformDropdownMenuItemSkin",t}return __extends(t,e),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!0,configurable:!0}),t}(eui.Component);t.PlatformDropdownMenuItem=e,__reflect(e.prototype,"PCPlaza.PlatformDropdownMenuItem",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.updateDisplayListReal=function(t,e){var i="eui.UIComponent",r=this.$target,s=this.$paddingLeft,n=this.$paddingRight,o=this.$paddingTop,a=this.$paddingBottom,h=this.$gap,u=Math.max(0,t-s-n),c=Math.max(0,e-o-a),f=this.$horizontalAlign==eui.JustifyAlign.JUSTIFY,C=this.$verticalAlign==eui.JustifyAlign.JUSTIFY||this.$verticalAlign==eui.JustifyAlign.CONTENT_JUSTIFY,l=0;C||(this.$verticalAlign==egret.VerticalAlign.MIDDLE?l=.5:this.$verticalAlign==egret.VerticalAlign.BOTTOM&&(l=1));var m,d,v,G=r.numElements,_=G,b=s,P=o,V=0,g=0,p=[],k=u,w=this.maxElementSize,z=egret.$TempRectangle;for(m=0;G>m;m++){var S=r.getElementAt(m);if(egret.is(S,i)&&S.$includeInLayout)if(S.getPreferredBounds(z),w=Math.max(w,z.height),f)V+=z.width;else{var y=S.$UIComponent;isNaN(y[6])?k-=z.width:(g+=y[6],v=new eui.sys.ChildInfo,v.layoutElement=S,v.percent=y[6],v.min=y[12],v.max=y[13],p.push(v))}else _--}k-=h*(_-1),k=k>0?k:0;var E,T=u-V-h*(_-1),x=_,O={};if(f){if(0>T){for(E=k/_,m=0;G>m;m++)d=r.getElementAt(m),egret.is(d,i)&&d.$includeInLayout&&(d.getPreferredBounds(z),z.width<=E&&(k-=z.width,x--));k=k>0?k:0}}else if(g>0){this.flexChildrenProportionally(u,k,g,p);var I=0,R=p.length;for(m=0;R>m;m++){v=p[m];var L=Math.round(v.size+I);I+=v.size-L,O[v.layoutElement.$hashCode]=L,k-=L}k=k>0?k:0}this.$horizontalAlign==egret.HorizontalAlign.CENTER?b=s+.5*k:this.$horizontalAlign==egret.HorizontalAlign.RIGHT&&(b=s+k);var j=s,B=o,A=0,N=0,M=Math.ceil(c);this.$verticalAlign==eui.JustifyAlign.CONTENT_JUSTIFY&&(M=Math.ceil(Math.max(c,w)));var D,H,U=0;for(m=0;G>m;m++){var F=0;if(d=r.getElementAt(m),egret.is(d,i)&&d.$includeInLayout){if(d.getPreferredBounds(z),D=0/0,f?(H=0/0,T>0?H=z.width:0>T&&z.width>E&&(H=k),isNaN(H)||(D=Math.round(H+U),U+=H-D)):D=O[d.$hashCode],C)P=o,d.setLayoutBoundsSize(D,M),d.getLayoutBounds(z);else{var K=0/0,y=d.$UIComponent;if(!isNaN(d.percentHeight)){var Z=Math.min(100,y[7]);K=Math.round(c*Z*.01)}d.setLayoutBoundsSize(D,K),d.getLayoutBounds(z),F=(c-z.height)*l,F=F>0?F:0,P=o+F}d.setLayoutBoundsPosition(Math.round(b),Math.round(P)),A=Math.ceil(z.width),N=Math.ceil(z.height),j=Math.max(j,b+A),B=Math.max(B,P+N),b+=A+h}}this.maxElementSize=w,r.setContentSize(j+n,B+a)},e}(eui.HorizontalLayout);t.RoomInfoHorizontalLayout=e,__reflect(e.prototype,"PCPlaza.RoomInfoHorizontalLayout")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(){var t=i.call(this)||this;return t.skinName="PCPlaza.RouRMRowItemSkin",t}return __extends(t,i),t.prototype.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.lblName.localeKey=this.data.name,this.lblName.textColor=this.data.color},t}(eui.ItemRenderer);t.RouRMRowItem=e,__reflect(e.prototype,"PCPlaza.RouRMRowItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.isMouseOver=!1,t.skinName="PCPlaza.RouRMTypeItemSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t}return __extends(t,e),t.prototype.onMouseOver=function(){this.isMouseOver=!0,this.updateFillColor()},t.prototype.onMouseOut=function(){this.isMouseOver=!1,this.updateFillColor()},t.prototype.updateFillColor=function(){this.selected?this.bgRect.fillColor=this.isMouseOver?13338699:11693874:this.bgRect.fillColor=this.isMouseOver?6117715:4472890},t.prototype.dataChanged=function(){this.updateFillColor()},t}(eui.ItemRenderer);t.RouRMTypeItem=e,__reflect(e.prototype,"PCPlaza.RouRMTypeItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(o){function t(){var t=o.call(this)||this;return t.skinName="PCPlaza.SHBListItemSkin",t}return __extends(t,o),t.prototype.updateDisplayList=function(t,e){o.prototype.updateDisplayList.call(this,t,e),this.bgRect.fillColor=this.itemIndex%2==0?0:3355443,this.setImageSource(this.img01,this.data.num1),this.setImageSource(this.img02,this.data.num2),this.setImageSource(this.img03,this.data.num3);var i,r=this.data.num1+this.data.num2+this.data.num3,s=0==r?!1:VideoGameCore.RoadPaper.shbResultIsTriple(this.data.num1,this.data.num2,this.data.num3);if(i=s?Core.LocalizeStore.instance.translate("PCPlaza.shb.triple"):r>=4&&10>=r?Core.LocalizeStore.instance.translate("PCPlaza.shb.small"):r>=11&&17>=r?Core.LocalizeStore.instance.translate("PCPlaza.shb.big"):"-",this.lblBig.setFitSizeText(i,0,!1),s)this.lblOdd.setFitSizeText(Core.LocalizeStore.instance.translate("PCPlaza.shb.triple"),0,!1);else if(0==r)this.lblOdd.text="-";else{var n=r%2==0?Core.LocalizeStore.instance.translate("PCPlaza.shb.even"):Core.LocalizeStore.instance.translate("PCPlaza.shb.odd");this.lblOdd.setFitSizeText(n,0,!1)}this.lblTotal.text=r.toString()},t.prototype.setImageSource=function(t,e){e>0?(t.visible=!0,t.source="nav_asset_json.0"+e.toString()):(t.visible=!1,t.source="")},t}(eui.ItemRenderer);t.SHBListItem=e,__reflect(e.prototype,"PCPlaza.SHBListItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(){var t=i.call(this)||this;return t.isMouseOver=!1,t.skinName="PCPlaza.ShbRMTypeItemSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),Core.LocalizeStore.instance.addActionListener(Core.q,t.updateText,t),t}return __extends(t,i),t.prototype.onMouseOver=function(){this.isMouseOver=!0,this.updateFillColor()},t.prototype.onMouseOut=function(){this.isMouseOver=!1,this.updateFillColor()},t.prototype.updateFillColor=function(){this.selected?this.bgRect.fillColor=this.isMouseOver?13338699:11693874:this.bgRect.fillColor=this.isMouseOver?6117715:4472890},t.prototype.dataChanged=function(){this.updateFillColor()},t.prototype.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.updateText()},t.prototype.updateText=function(){switch(this.lblName.text=Core.LocalizeStore.instance.translate(this.data.name),Core.LocalizeStore.instance.lang){case Core.LANG_EN:case Core.LANG_ID:case Core.LANG_JA:this.lblName.size=16;break;case Core.LANG_PT:case Core.LANG_KM:this.lblName.size=14;break;default:this.lblName.size=24}},t}(eui.ItemRenderer);t.ShbRMTypeItem=e,__reflect(e.prototype,"PCPlaza.ShbRMTypeItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(){var t=i.call(this)||this;return t.skinName="PCPlaza.SHSliderSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveFromStage,t),t}return __extends(t,i),t.prototype.onAddToStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.thumb.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchDown,this),this.btn_up&&(this.btn_up.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.btn_up.x=this.width+10),this.btn_down&&(this.btn_down.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this),this.btn_down.x=-this.btn_down.width-16)},t.prototype.onRemoveFromStage=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchUp,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.onTouchTap=function(t){"enable"==this.skin.currentState&&(t.currentTarget==this.btn_up?this.value+=5:this.value-=5)},t.prototype.onTouchDown=function(){"enable"==this.skin.currentState&&(this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchUp,this))},t.prototype.onTouchMove=function(t){var e=this.globalToLocal(t.stageX,t.stageY),i=this.width-this.thumb.width;this.thumb.x=Math.max(0,Math.min(e.x,i)),this.trackHighlight.width=this.thumb.x,this.value=this.value},t.prototype.onTouchUp=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchUp,this)},Object.defineProperty(t.prototype,"value",{get:function(){var t=this.width-this.thumb.width,e=Math.ceil(this.thumb.x/t*100);return e},set:function(t){t=Math.max(0,Math.min(t,100));var e=this.width-this.thumb.width;this.thumb.x=e/100*t,this.trackHighlight.width=this.thumb.x,this.dispatchEventWith(egret.Event.CHANGE)},enumerable:!0,configurable:!0}),t.prototype.setEnable=function(t){t?this.skin.currentState="enable":(this.value=45,this.skin.currentState="disable")},t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this)},t}(eui.Component);t.SHSlider=e,__reflect(e.prototype,"PCPlaza.SHSlider",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initItemList=function(){this.selectItemList=new Array;for(var t=this.getLangArray(),e=0;e<t.length;e++){var i=new r.LangDropdownMenuItem;i.index=e,i.y=40*e+39,i.skin.currentState="down",i.visible=!1,this.selectItemList.push(i),i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTapItem,this),i.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOverItem,this),i.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOverItem,this),this.listContainer.addChild(i)}},e.prototype.setIndex=function(t,e){if(void 0===e&&(e=!1),this.index=t,void 0!=this.selectItemList){var i=this.getLangArray();t=Math.max(0,Math.min(i.length,t)),1==i.length&&(t=0);var r=this.selectItemList[t];r&&(this.currentItem.imgFlag.source=r.imgFlag.source,this.currentItem.lblMsg.text=r.lblMsg.text),e&&this.dispatchEvent(new egret.Event(egret.Event.CHANGE))}},e.prototype.getLangArray=function(){var t,e=[];if(VideoGameCore.VideoPlazaStore.instance.langList)t=VideoGameCore.VideoPlazaStore.instance.langList;else{var i=VideoGameCore.VideoPlazaStore.instance.currencyCode;t=VideoGameCore.CurrencyLangConfig.instance.getLangByCurrency(i)}for(var r=0;r<t.length;r++)-1!=Core.LANG_SOUND_SUPPORTED.indexOf(t[r])&&e.push(t[r]);return e},e}(r.LangDropdownMenu);r.SoundLangDropdownMenu=t,__reflect(t.prototype,"PCPlaza.SoundLangDropdownMenu")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){i.USER_POINT_RECORD_PLAT=["COMP_ENROLL","COMP_REFUND"];var t=function(e){function t(){var t=e.call(this)||this;return t.setItemList(i.USER_POINT_RECORD_PLAT.length,"PCPlaza.records.userPointPlatform"),t}return __extends(t,e),t}(i.PlatformDropdownMenu);i.UserPointPlatformDropdownMenu=t,__reflect(t.prototype,"PCPlaza.UserPointPlatformDropdownMenu")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.rootId=VideoGameCore.DEFAULT_ROOT_ID,t.skinName="PCPlaza.VideoControl3Skin",t}return __extends(t,e),t.prototype.getStoreList=function(){return[VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId)]},t.prototype.onAddToStage=function(){e.prototype.onAddToStage.call(this),this.videoLineList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onSelectLine,this)},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.videoLineData=new eui.ArrayCollection([]),this.videoLineList.itemRenderer=r,this.videoLineList.dataProvider=this.videoLineData,this.updateLines(),this.videoLineList.selectedIndex=0;break;case VideoGameCore.R:this.updateLines()}},t.prototype.updateLines=function(){for(var t=VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId).getNumberOfLine(),e=[],i=0;t>i;i++)e.push((i+1).toString());this.videoLineData.replaceAll(e),this.videoLineList.selectedIndex=VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId).line},t.prototype.onSelectLine=function(t){VideoGameCore.VideoFactory.instance.getVideoStoreById(this.rootId).line=this.videoLineList.selectedIndex},t}(Core.StoreView);t.VideoControlBase=e,__reflect(e.prototype,"PCPlaza.VideoControlBase");var r=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.OnMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.OnMouseOut,t),t}return __extends(t,e),t.prototype.OnMouseOver=function(){this.highlight.visible=!0},t.prototype.OnMouseOut=function(){this.highlight.visible=!1},t}(eui.ItemRenderer);__reflect(r.prototype,"VideoControlItemRenderer")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.VideoControl4Skin",t}return __extends(t,e),t.prototype.onAddToStage=function(){e.prototype.onAddToStage.call(this),this.videoLineList.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.videoLineList.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.onRemoveFromStage=function(){e.prototype.onRemoveFromStage.call(this),this.videoLineList.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOver,this),this.videoLineList.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOut,this)},t.prototype.onMouseOver=function(t){if(this.toggleToolTips(t),"dot"==t.target.name){var e=t.target;"nav_asset_json.signal_normal"===e.source&&(e.source="nav_asset_json.signal_normal_hover")}},t.prototype.onMouseOut=function(t){if(this.toggleToolTips(t),"dot"==t.target.name){var e=t.target;"nav_asset_json.signal_normal_hover"===e.source&&(e.source="nav_asset_json.signal_normal")}},t.prototype.toggleToolTips=function(t){var e,i,r=!1;("label"==t.target.name||"dot"==t.target.name)&&(e=t.target.parent.parent.getChildByName("tipsBg"),i=t.target.parent.parent.getChildByName("tipsLabel"),r=!0),"itemGroup"==t.target.name&&(e=t.target.parent.getChildByName("tipsBg"),i=t.target.parent.getChildByName("tipsLabel"),r=!0),r&&(i.text=Core.LocalizeStore.instance.translate("PCPlaza.video.channel")+i.text.slice(-1),e.visible===!1?(e.visible=!0,i.visible=!0):(e.visible=!1,i.visible=!1))},t}(t.VideoControl);t.VideoControlWithTooltips=e,__reflect(e.prototype,"PCPlaza.VideoControlWithTooltips")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(){var t=i.call(this)||this;return t.showBg=!0,t.skinName="PCPlaza.VideoLoadingSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveFromStage,t),t}return __extends(t,i),t.prototype.onAddToStage=function(){this.imgLoading&&(egret.Tween.removeTweens(this.imgLoading),egret.Tween.get(this.imgLoading,{loop:!0}).to({rotation:this.rotation+360},1e3))},t.prototype.onRemoveFromStage=function(){this.imgLoading&&egret.Tween.removeTweens(this.imgLoading)},t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this),this.bgRect&&(this.bgRect.visible=this.showBg),this.imgLoading&&(egret.Tween.removeTweens(this.imgLoading),egret.Tween.get(this.imgLoading,{loop:!0}).to({rotation:this.rotation+360},1e3))},t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t}(eui.Component);t.VideoLoadingPanel=e,__reflect(e.prototype,"PCPlaza.VideoLoadingPanel",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(s){var t=function(r){function t(){var t=r.call(this)||this;t._index=0,t.skinName="PCPlaza.YearMonthDayDropdownMenuSkin",t.init(),t.setItemList((new Date).getFullYear()),t.setIndex(0);for(var e=0;e<t.itemList.length;e++){var i=t.itemList[e];i.index=e,i.y=30*e+29,i.skin.currentState="down",i.visible=!1,i.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onTouchTapItem,t),i.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onRollOverItem,t),i.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onRollOverItem,t),t.addChild(i)}return t}return __extends(t,r),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!0,configurable:!0}),t.prototype.getYearValue=function(){return this.currentItem.lblMsg.text},t.prototype.init=function(){this.currentItem=new s.YearMonthDayDropdownMenuItem,this.currentItem.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dropDown,this),this.addChild(this.currentItem)},t.prototype.dropDown=function(){this.touchEnabled&&(this.showItemList(),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this))},t.prototype.showItemList=function(){if(null!=this.itemList)for(var t=0;t<this.itemList.length;t++){var e=this.itemList[t];e.visible=!0}},t.prototype.hideItemList=function(){if(null!=this.itemList)for(var t=0;t<this.itemList.length;t++){var e=this.itemList[t];e.visible=!1}},t.prototype.onTouchTap=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this),this.hideItemList()},t.prototype.onRemoveFromStage=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchTap,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.setItemList=function(t){this.itemList=new Array;for(var e=0;5>e;e++){var i=new s.YearMonthDayDropdownMenuItem;i.lblMsg.text=""+(t-e),this.itemList.push(i)}},t.prototype.setIndex=function(t){t=Math.max(0,Math.min(8,t)),this.currentItem.lblMsg.text=this.itemList[t].lblMsg.text,this.index=t},t.prototype.onTouchTapItem=function(t){var e=t.currentTarget;this.setIndex(e.index)},t.prototype.onRollOverItem=function(t){for(var e=t.currentTarget,i=0;i<this.itemList.length;i++){var r=this.itemList[i];t.type==mouse.MouseEvent.MOUSE_OVER&&e.index==i?r.skin.currentState="select":r.skin.currentState="down"}},t}(eui.Component);s.YearDropdownMenu=t,__reflect(t.prototype,"PCPlaza.YearDropdownMenu",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t._index=0,t.skinName="PCPlaza.YearMonthDayDropdownMenuItemSkin",t}return __extends(t,e),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(t){this._index=t},enumerable:!0,configurable:!0}),t}(eui.Component);t.YearMonthDayDropdownMenuItem=e,__reflect(e.prototype,"PCPlaza.YearMonthDayDropdownMenuItem",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e.prototype,"defaultSkinName",{get:function(){return"PCPlaza.ChatScrollerSkin"},enumerable:!0,configurable:!0}),e}(t.RoadScroller);t.ChatScroller=e,__reflect(e.prototype,"PCPlaza.ChatScroller")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(s){var t=function(e){function t(){var t=e.call(this)||this;return t.gmtype="",t.CHIP_WIDHT=84,t.OFFSET_WIDHT=5,t.CHIP_NUM=5,t.inited=!1,t.skinName="PCPlaza.ChipBarSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.chipPageWidth=this.CHIP_WIDHT*this.CHIP_NUM,this.chipList.mask=this.chipMask,this.addBtnEvent(this.btnSetting,this.onClickSetting),this.addBtnEvent(this.btnPrev,this.onClickPrev),this.addBtnEvent(this.btnNext,this.onClickNext),this.addBtnEvent(this.btnConfirm,this.onClickConfirm),this.addBtnEvent(this.btnCancel,this.onClickCancel)},t.prototype.addBtnEvent=function(t,e,i,r,s){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===s&&(s=!0),mouse.setButtonMode(t,s),e&&(s?t.addEventListener(egret.TouchEvent.TOUCH_TAP,e,this):t.removeEventListener(egret.TouchEvent.TOUCH_TAP,e,this)),i&&(s?t.addEventListener(mouse.MouseEvent.MOUSE_OVER,i,this):t.removeEventListener(mouse.MouseEvent.MOUSE_OVER,i,this)),r&&(s?t.addEventListener(mouse.MouseEvent.MOUSE_OUT,r,this):t.removeEventListener(mouse.MouseEvent.MOUSE_OUT,r,this))},t.prototype.showSelectionPanel=function(t){void 0===t&&(t=!0),this.selectionDiv.numChildren<10?(this.selectionDiv.x=60,this.selectionSelected.x=55):(this.selectionDiv.x=10,this.selectionSelected.x=5),this.selectionPanel.visible=t},t.prototype.onClickSetting=function(t){this.onClickSelectedRect(),this.showSelectionPanel(!this.selectionPanel.visible)},t.prototype.tweenChipDiv=function(t){if(!this.isTweeningChipDiv){this.isTweeningChipDiv=!0;var e=0;switch(t){case"prev":e=this.chipDiv.x+this.chipPageWidth>0?-this.chipDiv.x:this.chipPageWidth;break;case"next":var i=this.getChipDivWidth();e=Math.abs(this.chipDiv.x-this.chipPageWidth)>i-this.chipPageWidth?-(i-this.chipPageWidth*(Math.round(Math.abs(this.chipDiv.x)/this.chipPageWidth)+1)):-this.chipPageWidth}egret.Tween.get(this.chipDiv).to({x:this.chipDiv.x+e},2*VideoGameCore.TIMEOUT.TWEEN).call(this.tweenChipDivComplete,this)}},t.prototype.tweenChipDivComplete=function(){egret.Tween.removeTweens(this.chipDiv),this.isTweeningChipDiv=!1,this.btnPrev.visible=!(this.chipDiv.x>=0),this.btnNext.visible=!(this.chipDiv.x<=-(this.getChipDivWidth()-this.chipPageWidth))},t.prototype.getChipDivWidth=function(){return this.chipDiv.numChildren*this.CHIP_WIDHT},t.prototype.onClickPrev=function(t){this.tweenChipDiv("prev")},t.prototype.onClickNext=function(t){this.tweenChipDiv("next")},t.prototype.onClickConfirm=function(t){this.showSelectionPanel(!1),VideoGameCore.VideoPlazaStore.instance.setFavChipSetByGmtype(this.gmtype,this.favChipSet)},t.prototype.onClickCancel=function(t){this.showSelectionPanel(!1)},t.prototype.refreshChipList=function(){for(var t;this.chipDiv.numChildren>0;)t=this.chipDiv.getChildAt(0),this.addBtnEvent(this.chipDiv.getChildAt(0),this.onChipTap,this.onChipOver,this.onChipOut,!1),this.chipDiv.removeChildAt(0);var e,i,r=this.favChipSet.slice();for(e=0;e<this.allChipSet.length;e++)i=this.allChipSet[e],this.favChipSet.indexOf(i)<0&&r.push(i);for(e=0;e<r.length;e++)i=r[e],t=new s.SingleChip(this.gmtype),t.name="chip_"+this.allChipSet.indexOf(i).toString(),t.showHitArea(!0),t.setData(i),t.changeToBold(),t.x=this.OFFSET_WIDHT/2+this.CHIP_WIDHT*e,this.addBtnEvent(t,this.onChipTap,this.onChipOver,this.onChipOut),this.chipDiv.addChild(t);this.chipDiv.x=0,this.tweenChipDivComplete(),this.onChipTap()},t.prototype.onChipTap=function(t){void 0===t&&(t=null);var e=VideoGameCore.VideoPlazaStore.instance.selectedChipIndex;null!=t&&(e=t.currentTarget.name.split("chip_")[1]),this.allChipSet=VideoGameCore.VideoPlazaStore.instance.getChipSetByGmtype(this.gmtype),(0>e||e>=this.allChipSet.length)&&(e=this.favChipSet.length>0?this.allChipSet.indexOf(this.favChipSet[Math.floor(this.favChipSet.length/2)]):0),VideoGameCore.VideoPlazaStore.instance.selectedChipIndex=e,VideoGameCore.VideoPlazaStore.instance.selectedChipValue=this.allChipSet[e];for(var i,r=0;r<this.chipDiv.numChildren;r++)i=this.chipDiv.getChildAt(r),i.showHighlight(!1),i.showOutGlow(e==Number(i.name.split("chip_")[1]))},t.prototype.onChipOver=function(t){void 0===t&&(t=null);var e=VideoGameCore.VideoPlazaStore.instance.selectedChipIndex;if(t.currentTarget instanceof s.SingleChip){var i=t.currentTarget;if(e==Number(i.name.split("chip_")[1]))return;i.showHighlight(!0)}},t.prototype.onChipOut=function(t){if(void 0===t&&(t=null),t.currentTarget instanceof s.SingleChip){var e=t.currentTarget;e.showHighlight(!1)}},t.prototype.setupByGmtype=function(){for(this.showSelectionPanel(!1);this.selectionDiv.numChildren>0;)this.selectionDiv.removeChildAt(0);""===this.gmtype&&console.error("Please set the ChipBar gmtype first!"),this.allChipSet=VideoGameCore.VideoPlazaStore.instance.getChipSetByGmtype(this.gmtype),this.favChipSet=VideoGameCore.VideoPlazaStore.instance.getFavChipSetByGmtype(this.gmtype);var t,e,i,r;this.favChipSet.slice();for(e=0;e<this.allChipSet.length;e++)i=this.allChipSet[e],t=new s.SingleChip(this.gmtype),t.setData(i),t.x=(this.CHIP_WIDHT+this.OFFSET_WIDHT)*e,this.selectionDiv.addChild(t),r=this.selectionSelected.getChildByName("selected_"+(e+1).toString()),this.addBtnEvent(r,this.onClickSelectedRect)},t.prototype.onClickSelectedRect=function(t){void 0===t&&(t=null);var e=0;if(null!=t&&(e=Number(t.currentTarget.name.split("selected_")[1])),0==e)this.favChipSet=VideoGameCore.VideoPlazaStore.instance.getFavChipSetByGmtype(this.gmtype);else{var i=this.favChipSet.indexOf(this.allChipSet[e-1]);i>=0?this.favChipSet.splice(i,1):(this.favChipSet.length>=this.CHIP_NUM&&this.favChipSet.splice(0,1),this.favChipSet.push(this.allChipSet[e-1])),Core.arraySort(this.favChipSet)}for(var r,s=0;s<this.selectionSelected.numChildren;s++)r=this.selectionSelected.getChildByName("selected_"+(s+1).toString()),r.alpha=this.favChipSet.indexOf(this.allChipSet[s])>=0?1:0;this.btnConfirm.enabled=this.favChipSet.length>=this.CHIP_NUM},t.prototype.getStoreList=function(){return[VideoGameCore.VideoPlazaStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.setupByGmtype(),this.refreshChipList(),this.inited=!0;break;case VideoGameCore.yu:this.refreshChipList();break;case VideoGameCore.Eu:this.inited&&(this.setupByGmtype(),this.refreshChipList())}},t.prototype.setGmtype=function(t){this.gmtype=t,this.inited&&(VideoGameCore.VideoPlazaStore.instance.selectedChipIndex=-1,VideoGameCore.VideoPlazaStore.instance.selectedChipValue=0,this.setupByGmtype(),this.refreshChipList())},t}(Core.StoreView);s.ChipBar=t,__reflect(t.prototype,"PCPlaza.ChipBar")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveFromStage,t),t}return __extends(t,e),t.prototype.onClick=function(t){this.enabled&&null!=this.clickCallback&&this.clickCallback()},t.prototype.onOver=function(t){this.enabled&&("up"==this.currentState?this.changeState("down"):"upAndSelected"==this.currentState&&this.changeState("downAndSelected"))},t.prototype.onOut=function(t){this.enabled&&("down"==this.currentState?this.changeState("up"):"downAndSelected"==this.currentState&&this.changeState("upAndSelected"))},t.prototype.changeState=function(t){this.enabled=!0,this.enabled&&(this.currentState=t),this.currentState.indexOf("up")>=0?(this.upOnRect.mask=this.onImg,this.upOffRect.mask=this.offImg):this.currentState.indexOf("down")>=0?(this.downOnRect.mask=this.onImg,this.downOffRect.mask=this.offImg):(this.disabledOnRect.mask=this.onImg,this.disabledOffRect.mask=this.offImg)},t.prototype.setClickCallback=function(t){this.clickCallback=t},t.prototype.onAddToStage=function(){this.showComm.visible=VideoGameCore.PCGameConfig.instance.checkNoCommToggleSwitch(),mouse.setButtonMode(this,!0),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onOver,this),this.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onOut,this)},t.prototype.onRemoveFromStage=function(){mouse.setButtonMode(this,!1),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onOut,this)},t}(eui.ToggleSwitch);t.NoCommToggleSwitch=e,__reflect(e.prototype,"PCPlaza.NoCommToggleSwitch")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(n){var t=function(i){function t(t){var e=i.call(this)||this;return e.vid=t,e.skinName="PCPlaza.GoodRoadGameComponentSkin",e.enterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onEnterGameTap,e),e}return __extends(t,i),t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this),this.noCommBtn.setClickCallback(this.onClickNoCommBtn.bind(this))},t.prototype.getStoreList=function(){var t=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid),e=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid);return[t,e]},t.prototype.onStoreChange=function(t,e,i){VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid);switch(e){case Core.t:this.updateGameCode(),this.roadmapGrp.addChild(new n.GoodRoadMap(this.vid)),this.pokerPanelGrp.addChild(new n.RoadPokerPanel(this.vid)),this.betTableGrp.addChild(new n.RoadBetTable(this.vid));var r=new n.RoadTimerComponent;r.vid=this.vid,this.timerGrp.addChild(r),this.updateNoCommBtnState(),this.updateNoCommBtnVisible();break;case VideoGameCore.Z:this.updateGameCode(),this.updateNoCommBtnState(),this.updateNoCommBtnVisible();break;case VideoGameCore.w:this.showLocalizeNotify("PCPlaza.notice.stop_bet"),this.updateNoCommBtnState(),this.updateNoCommBtnVisible();break;case VideoGameCore.s:this.showLocalizeNotify("PCPlaza.notice.last_bet");break;case VideoGameCore.G:i&&this.showLocalizeNotify("PCPlaza.notice.bet_success"),this.updateNoCommBtnVisible();break;case VideoGameCore.v:var s=Core.LocalizeStore.instance.translate("PCPlaza.error.msg_"+i.toString());this.showNotify(Core.LocalizeStore.instance.translate("PCPlaza.notice.bet_fail")+"\n"+s);break;case VideoGameCore.i:this.showLocalizeNotify("PCPlaza.notice.over_balance");break;case VideoGameCore.r:this.showLocalizeNotify("PCPlaza.notice.bet_over_limit3"),this.updateNoCommBtnVisible();break;case VideoGameCore.f:case VideoGameCore.n:case VideoGameCore.Y:case VideoGameCore.it:case VideoGameCore.J:this.updateNoCommBtnState(),this.updateNoCommBtnVisible()}},t.prototype.onEnterGameTap=function(){n.RootPageStore.instance.enterGameByVid(this.vid)},t.prototype.showLocalizeNotify=function(t){this.notifyBox.showMsgKey(t)},t.prototype.showNotify=function(t){this.notifyBox.showMsg(t)},t.prototype.updateGameCode=function(){var t=this,e=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid);this.gmcodeLabel.localeFunc=function(){return t.vid&&"undefined"!=typeof e.gmcode?Core.translate("PCPlaza.records.bet.road_gamecode")+":"+e.gmcode:""},this.gmcodeLabel.refresh()},t.prototype.updateNoCommBtnVisible=function(){var t=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid),e=t.betEnabled,i=t.commToggleEnabled;this.noCommBtn.visible=e&&i},t.prototype.updateNoCommBtnState=function(){var t=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid);this.noCommBtn.changeState(t.noComm?"upAndSelected":"up")},t.prototype.onClickNoCommBtn=function(){var t=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid);t.noComm=!t.noComm},t}(Core.StoreView);n.GoodRoadGameComponent=t,__reflect(t.prototype,"PCPlaza.GoodRoadGameComponent")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(t){var e=i.call(this)||this;return e.vid=t,e.skinName="PCPlaza.GoodRoadMapSkin",e}return __extends(t,i),t.prototype.getStoreList=function(){var t=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid);return[t,VideoGameCore.PlazaRoadStore.instance]},t.prototype.onStoreChange=function(t,e,i){e===Core.t?(this.daLu=new VideoGameCore.RoadPaper.RoadDaLuPaper(this.daLuGrp.width,this.daLuGrp.height),this.daLuGrp.removeChildren(),this.daLuGrp.addChild(this.daLu),new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.daLu,this.daLuGrp.width,this.daLuGrp.height,this.daLu.gridSize/2,2,2),this.daYanLu=new VideoGameCore.RoadPaper.RoadDaYanLuPaper(this.daYanLuGrp.width,this.daYanLuGrp.height,1),this.daYanLuGrp.removeChildren(),this.daYanLuGrp.addChild(this.daYanLu),new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.daYanLu,this.daYanLuGrp.width,this.daYanLuGrp.height,this.daYanLu.gridSize/2,2,2),this.xiaoLu=new VideoGameCore.RoadPaper.RoadXiaoLuPaper(this.xiaoLuGrp.width,this.xiaoLuGrp.height),this.xiaoLuGrp.removeChildren(),this.xiaoLuGrp.addChild(this.xiaoLu),new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.xiaoLu,this.xiaoLuGrp.width,this.xiaoLuGrp.height,this.xiaoLu.gridSize/2,2,2),this.xiaoQiangLu=new VideoGameCore.RoadPaper.RoadXiaoQiangLuPaper(this.xiaoQiangLuGrp.width,this.xiaoQiangLuGrp.height),this.xiaoQiangLuGrp.removeChildren(),this.xiaoQiangLuGrp.addChild(this.xiaoQiangLu),new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.xiaoQiangLu,this.xiaoQiangLuGrp.width,this.xiaoQiangLuGrp.height,this.xiaoQiangLu.gridSize/2,2,2),this.updateRoomStatus(),this.updateRoadMap()):e===VideoGameCore.rt?i===this.vid&&this.updateRoadMap():t instanceof VideoGameCore.RoadRoomTimerStore&&this.updateRoomStatus()},t.prototype.updateRoadMap=function(){var t=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid),e=!1,i=VideoGameCore.PlazaRoadStore.instance.getRoadData(this.vid);i&&this.visible&&(e=!0),t&&11==t.gameStatus&&(e=!1),this.daLu&&this.daYanLu&&this.xiaoLu&&this.xiaoQiangLu&&(e?(this.daLu.setMapData(i.daLuData),this.daYanLu.setMapData(i.daYanLuData),this.xiaoLu.setMapData(i.xiaoLuData),this.xiaoQiangLu.setMapData(i.xiaoQiangLuData)):(this.daLu.setMapData([]),this.daYanLu.setMapData([]),this.xiaoLu.setMapData([]),this.xiaoQiangLu.setMapData([])))},t.prototype.updateRoomStatus=function(){var t=this.vid,e=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(t),i=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(t),r=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(i.platformtype,t);r?(this.roomStatus.localeKey="PCPlaza.room.maintain",this.roomStatus.refresh(),this.roomStatusGrp.visible=!0):11==e.gameStatus?(this.roomStatus.localeKey="PCPlaza.room.shuffle",this.roomStatus.refresh(),this.roomStatusGrp.visible=!0):this.roomStatusGrp.visible&&(this.roomStatusGrp.visible=!1)},t}(Core.StoreView);t.GoodRoadMap=e,__reflect(e.prototype,"PCPlaza.GoodRoadMap")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(o){var t=function(i){function t(t){var e=i.call(this)||this;return e.isBlinking=!1,e.vid=t.vid,e.roadType=t.roadType,e.skinName="PCPlaza.ItemGoodRoadSkin",e}return __extends(t,i),t.prototype.getStoreList=function(){var t=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid),e=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid),i=VideoGameCore.RoadStoreFactory.instance.pokerStoreMap.get(this.vid);return[t,e,i]},t.prototype.onAddToStage=function(){i.prototype.onAddToStage.call(this)},t.prototype.onRemoveFromStage=function(){i.prototype.onRemoveFromStage.call(this)},t.prototype.onStoreChange=function(t,e,i){VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid),VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid);switch(e){case Core.t:var r=new o.MiniTimerComponent;r.vid=this.vid,this.timerGrp.addChild(r),this.daLu=new VideoGameCore.RoadPaper.RoadDaLuPaper(2*this.daLuGrp.width,this.daLuGrp.height),this.daLuGrp.removeChildren(),this.daLuGrp.addChild(this.daLu),this.updateRoadType(),this.updateChips();break;case VideoGameCore.Z:var s=VideoGameCore.GoodRoadStore.instance.goodRoadItemMap.get(this.vid);s&&s.roadType!==this.roadType&&(this.roadType=s.roadType,this.updateRoadType()),this.updateChips(),this.stopBlink();break;case VideoGameCore.G:o.soundBetSuccess();case VideoGameCore.v:case VideoGameCore.r:case VideoGameCore.o:case VideoGameCore.f:case VideoGameCore.Kt:this.updateChips();break;case VideoGameCore.g:this.showPayout(i);break;case VideoGameCore.P:if("payout"==this.currentState){var n=VideoGameCore.RoadStoreFactory.instance.pokerStoreMap.get(this.vid);n.bWin?(this.payoutTypeLbl.localeKey="PCPlaza.bac.banker_win",this.payoutTypeLbl.textColor=14356225):n.pWin?(this.payoutTypeLbl.localeKey="PCPlaza.bac.player_win",this.payoutTypeLbl.textColor=263117):n.tie?(this.payoutTypeLbl.localeKey="PCPlaza.bac.bet_tie",this.payoutTypeLbl.textColor=1206272):(this.payoutTypeLbl.localeKey="",this.payoutTypeLbl.text="")}}},t.prototype.updateRoadType=function(){var t=VideoGameCore.GoodRoadStore.instance.getRoadDataByType(this.roadType);this.daLu.setMapData(t.daLuData,!1,!0),this.roadTypeLabel.localeKey="PCPlaza.goodroad.road_"+this.roadType},t.prototype.updateChips=function(){var t=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid),e=t.getAmountByType(VideoGameCore.PLAYTYPE_BANKER,1),i=t.getAmountByType(VideoGameCore.PLAYTYPE_PLAYER,1);e>0&&i>0?this.currentState="betbp":e>0?this.currentState="betb":i>0?this.currentState="betp":this.currentState="nobet",e>0&&(this.bAmountLbl.text=Core.getStringFixed2(e)),i>0&&(this.pAmountLbl.text=Core.getStringFixed2(i))},t.prototype.showPayout=function(t){this.currentState="payout";var e=VideoGameCore.RoadStoreFactory.instance.pokerStoreMap.get(this.vid);e.bWin?(this.payoutTypeLbl.localeKey="PCPlaza.bac.banker_win",this.payoutTypeLbl.textColor=14356225):e.pWin?(this.payoutTypeLbl.localeKey="PCPlaza.bac.player_win",this.payoutTypeLbl.textColor=263117):e.tie?(this.payoutTypeLbl.localeKey="PCPlaza.bac.bet_tie",this.payoutTypeLbl.textColor=1206272):(this.payoutTypeLbl.localeKey="",this.payoutTypeLbl.text=""),t>0?(o.soundWin(),this.payoutAmountLbl.text=this.payoutAmountLblShade.text="+"+Core.getStringFixed2(t),this.startBlink()):(this.payoutAmountLbl.text=this.payoutAmountLblShade.text=Core.getStringFixed2(t),this.startBlink()),this.payoutAmountLbl.textColor=VideoGameCore.getTextColor(t)},t.prototype.startBlink=function(){this.isBlinking||(this.isBlinking=!0,this.blink())},t.prototype.stopBlink=function(){this.isBlinking&&(this.isBlinking=!1,egret.Tween.removeTweens(this.payoutAmountLblShade),this.payoutAmountLbl.alpha=0,this.payoutAmountLblShade.alpha=0)},t.prototype.blink=function(){egret.Tween.get(this.payoutAmountLblShade).to({alpha:1-this.payoutAmountLblShade.alpha},VideoGameCore.TIMEOUT.TWEEN).call(this.blink,this)},t}(Core.StoreView);o.ItemGoodRoad=t,__reflect(t.prototype,"PCPlaza.ItemGoodRoad")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(e){function t(){var t=e.call(this)||this;return t.playType=-1,t.skinName="PCPlaza.RoadBetAreaSkin",t}return __extends(t,e),Object.defineProperty(t.prototype,"chipsScale",{get:function(){return.5},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"betLocaleKey",{get:function(){switch(this.playType){case VideoGameCore.PLAYTYPE_PLAYER:return"PCPlaza.bac.bet_player";case VideoGameCore.PLAYTYPE_BANKER:return"PCPlaza.bac.bet_banker"}},enumerable:!0,configurable:!0}),t.prototype.getStoreList=function(){var t=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid),e=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid);return[t,e]},t.prototype.onAddToStage=function(){e.prototype.onAddToStage.call(this),this.touchArea.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTapHandler,this),this.touchArea.addEventListener(mouse.MouseEvent.ROLL_OVER,this.onTouchAreaRollOver,this),this.touchArea.addEventListener(mouse.MouseEvent.ROLL_OUT,this.onTouchAreaRollOut,this)},t.prototype.onRemoveFromStage=function(){e.prototype.onRemoveFromStage.call(this),this.touchArea.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTapHandler,this),this.touchArea.removeEventListener(mouse.MouseEvent.ROLL_OVER,this.onTouchAreaRollOver,this),this.touchArea.removeEventListener(mouse.MouseEvent.ROLL_OUT,this.onTouchAreaRollOut,this)},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.updateChips(),this.updateBetLabel(),this.updateBgRect();break;case VideoGameCore.n:i.playType===this.playType&&(this.updateChips(),r.soundAddChips());break;case VideoGameCore.r:case VideoGameCore.o:case VideoGameCore.f:case VideoGameCore.Kt:this.updateChips();break;case VideoGameCore.Z:case VideoGameCore.it:this.updateChips(),this.hideWinPlayTypes();break;case VideoGameCore.P:this.showWinPlayTypes(i.winPlayTypes)}},t.prototype.updateBgRect=function(){var t=VideoGameCore.GoodRoadStore.instance.goodRoadItemMap.get(this.vid).option;this.bgRect.fillColor=t===this.playType?1800062:1461076},t.prototype.updateBetLabel=function(){this.playType===VideoGameCore.PLAYTYPE_PLAYER?(this.betLbl.textColor=263117,this.betLbl.localeKey="PCPlaza.bac.bet_player"):(this.betLbl.textColor=14356225,this.betLbl.localeKey="PCPlaza.bac.bet_banker")},t.prototype.onTouchAreaRollOver=function(){var t=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid);t.betEnabled&&(this.blinkArea.alpha=1)},t.prototype.onTouchAreaRollOut=function(){this.blinkArea.alpha=0},t.prototype.updateChips=function(){var t=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid),e=t.getAmountByType(this.playType);e>0?(this.amountLbl.text=Core.getStringFixed2(e),this.playType==VideoGameCore.PLAYTYPE_BANKER?this.chipImg.source="chip_json.chip_5":this.playType==VideoGameCore.PLAYTYPE_PLAYER&&(this.chipImg.source="chip_json.chip_2"),this.chipsHolder.visible=!0):this.chipsHolder.visible=!1},t.prototype.showWinPlayTypes=function(t){this.hideWinPlayTypes(),t.indexOf(this.playType)>=0&&this.shineWinPlayTypes()},t.prototype.shineWinPlayTypes=function(){egret.Tween.get(this.blinkArea).to({alpha:1-this.blinkArea.alpha},150).wait(150).call(this.shineWinPlayTypes,this)},t.prototype.hideWinPlayTypes=function(){egret.Tween.removeTweens(this.blinkArea),this.blinkArea.alpha=0},t.prototype.onTouchTapHandler=function(t){var e=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid);this.playType>-1&&e.addChipByPlayType(this.playType)},t}(Core.StoreView);r.RoadBetArea=t,__reflect(t.prototype,"PCPlaza.RoadBetArea")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.RoadBetButtonsSkin",t.setShowType(i.BetButtonBase.SHOW_ALWAYS),t}return __extends(t,e),t.prototype.getStoreList=function(){var t=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid),e=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid);return[t,e]},t.prototype.getBetTableStore=function(){var t=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid);return t},t}(i.BetButtonsBase);i.RoadBetButtons=t,__reflect(t.prototype,"PCPlaza.RoadBetButtons")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(t){var e=i.call(this)||this;return e.vid=t,e.skinName="PCPlaza.RoadBetTableSkin",e}return __extends(t,i),t.prototype.getStoreList=function(){var t=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid);return[t]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:for(var r=this.betAreaGrp.$children,s=0;s<r.length;s++){var n=r[s];n.vid=this.vid}this.betButtons.vid=this.vid,this.updateNoCommGrp();break;case VideoGameCore.J:this.updateNoCommGrp()}},t.prototype.updateNoCommGrp=function(){var t=VideoGameCore.RoadStoreFactory.instance.betTableStoreMap.get(this.vid);this.noCommGrp.visible=t.noComm},t}(Core.StoreView);t.RoadBetTable=e,__reflect(e.prototype,"PCPlaza.RoadBetTable")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(t){var e=i.call(this)||this;return e.pPokers=[],e.bPokers=[],e.vid=t,e.skinName="PCPlaza.RoadPokerPanelSkin",e.pPokers=[e.pPoker1,e.pPoker2,e.pPoker3],e.bPokers=[e.bPoker1,e.bPoker2,e.bPoker3],e}return __extends(t,i),t.prototype.getStoreList=function(){var t=VideoGameCore.RoadStoreFactory.instance.pokerStoreMap.get(this.vid);return[t]},t.prototype.onStoreChange=function(t,e,i){var r=VideoGameCore.RoadStoreFactory.instance.pokerStoreMap.get(this.vid);this.visible=r.visible||e===VideoGameCore.P,this.settlingLbl.visible=!r.visible;for(var s=r.pDataQue,n=0;n<s.length;n++)this.pPokers[n].source=VideoGameCore.getCardImgBySize(s[n].card,2);for(var n=s.length;n<this.pPokers.length;n++)this.pPokers[n].source=null;for(var o=r.bDataQue,n=0;n<o.length;n++)this.bPokers[n].source=VideoGameCore.getCardImgBySize(o[n].card,2);for(var n=o.length;n<this.bPokers.length;n++)this.bPokers[n].source=null;this.pScoreLabel.text=""+r.pScore,this.bScoreLabel.text=""+r.bScore,this.pWinFrame.visible=r.pWin,this.pWinGrp.visible=r.pWin,this.bWinFrame.visible=r.bWin,this.bWinGrp.visible=r.bWin,this.tieGrp.visible=r.tie},t}(Core.StoreView);t.RoadPokerPanel=e,__reflect(e.prototype,"PCPlaza.RoadPokerPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.borderAlpha=1,t.containerAlpha=1,t.isDisplayStatus=!1,t.skinName="PCPlaza.RoadTimerSkin",t}return __extends(t,e),t.prototype.getStoreList=function(){var t=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid);return[Core.LocalizeStore.instance,t]},t.prototype.onAddToStage=function(){e.prototype.onAddToStage.call(this)},t.prototype.onRemoveFromStage=function(){e.prototype.onRemoveFromStage.call(this)},t.prototype.onStoreChange=function(t,e,i){e===Core.t?this.onTimerChange():t instanceof VideoGameCore.RoadRoomTimerStore?this.onTimerChange():t===Core.LocalizeStore.instance&&this.onLangChange()},t.prototype.onLangChange=function(){this.validateNow(),this.updateGameStatus()},t.prototype.onTimerChange=function(){var t=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid),e=(t.timeout,t.maxTimeout,16711680);switch(this.bgStatusLabel.text="",this.bgStatusLabel.visible=!1,this.statusLabel.bold=!1,this.statusLabel.size=18,egret.Tween.removeTweens(this.statusLabel),t.gameStatus){case 1:this.statusLabel.bold=!0,e=t.timeout<=10?16711680:16777215,this.statusLabel.text=""+t.timeout,this.statusLabel.textColor=e,this.bgRect.fillColor=47392,t.timeout<=10&&t.timeout>0&&(this.bgStatusLabel.text=""+t.timeout,this.bgStatusLabel.visible=!0,this.statusLabel.size=22,egret.Tween.get(this.statusLabel).to({alpha:0},100).wait(100).to({alpha:1},100).wait(200).to({alpha:0},100).wait(100).to({alpha:1},100));break;default:this.updateGameStatus()}},t.prototype.updateGameStatus=function(){this.bgStatusLabel.text="",this.bgStatusLabel.visible=!1;var t=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(this.vid);switch(this.bgRect.fillColor=47392,t.gameStatus){case 1:return;case 0:this.statusLabel.text=Core.translate("PCPlaza.roomTimer.settling");break;case 2:this.statusLabel.text=Core.translate("PCPlaza.roomTimer.open_cards");break;case 11:this.statusLabel.text=Core.translate("PCPlaza.roomTimer.shuffling");break;default:return void(this.statusLabel.text="")}this.statusLabel.textColor=16777215,this.bgRect.fillColor=16711680},t}(Core.StoreView);t.RoadTimerComponent=e,__reflect(e.prototype,"PCPlaza.RoadTimerComponent")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.resetFontSize=35,e.showFontSize=35,e.skinName="PCPlaza.FlowNotifyViewSkin",e}return __extends(t,i),t.prototype.show=function(t){i.prototype.show.call(this,t),this.showFontSize>0&&(this.labelDisplay.size=this.showFontSize)},t.prototype.hide=function(){i.prototype.hide.call(this),this.labelDisplay.size=this.resetFontSize},t}(Core.NotifyViewBase);t.FlowNotifyView=e,__reflect(e.prototype,"PCPlaza.FlowNotifyView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function r(){var t=i.call(this)||this;return t.skinName="PCPlaza.LoadingViewSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveFromStage,t),t}return __extends(r,i),r.prototype.show=function(t){var e=this;Core.ntimer.clearTimeout(this.showTimer),Core.ntimer.clearTimeout(this.hideTimer),this.showTimer=Core.ntimer.setTimeout(function(){i.prototype.show.call(e,t)},this,500)},r.prototype.hide=function(){var t=this;Core.ntimer.clearTimeout(this.showTimer),Core.ntimer.clearTimeout(this.hideTimer),this.hideTimer=Core.ntimer.setTimeout(function(){i.prototype.hide.call(t)},this,500)},r.prototype.onAddToStage=function(){this.imgLoading&&(egret.Tween.removeTweens(this.imgLoading),egret.Tween.get(this.imgLoading,{loop:!0}).to({rotation:this.rotation+360},1e3))},r.prototype.onRemoveFromStage=function(){this.imgLoading&&egret.Tween.removeTweens(this.imgLoading)},r.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this),this.imgLoading&&(egret.Tween.removeTweens(this.imgLoading),egret.Tween.get(this.imgLoading,{loop:!0}).to({rotation:this.rotation+360},1e3))},r.show=function(t,e){this._loadingMap||(this._loadingMap=new Core.HashMap);var i=this._loadingMap.get(t);i||(i=new r,this._loadingMap.set(t,i)),i.show(e)},r.hide=function(t){this._loadingMap||console.error("Need show a loading first");var e=this._loadingMap.get(t);e&&e.hide()},r}(Core.LoadingViewBase);t.LoadingView=e,__reflect(e.prototype,"PCPlaza.LoadingView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.notifyQueue=[],t.skinName="PCPlaza.NotifyBoxSkin",t.visible=!1,t}return __extends(t,e),t.prototype.showMsg=function(t,e){if(void 0===e&&(e=2e3),Core.NonstopTimer.instance.hasTimeout(this.hideTimeout)){if(this.notifyQueue.length>0)for(var i=0;i<this.notifyQueue.length;i++){var r=this.notifyQueue[i].msg;if(r==t)return}this.notifyQueue.push({msg:t,long:e})}else this.visible=!0,this.labelDisplay.wordWrap=!0,this.labelDisplay.text=t,this.hideTimeout=Core.NonstopTimer.instance.setTimeout(this.hide,this,e)},t.prototype.hideAtOnce=function(){Core.NonstopTimer.instance.hasTimeout(this.hideTimeout)&&(Core.NonstopTimer.instance.clearTimeout(this.hideTimeout),this.hide())},t.prototype.showMsgKey=function(t,e){void 0===e&&(e=2e3),this.showMsg(Core.translate(t),e)},t.prototype.hide=function(){if(this.notifyQueue.length<=0)this.visible=!1;else{var t=this.notifyQueue.shift();this.labelDisplay.text=t.msg,this.hideTimeout=Core.NonstopTimer.instance.setTimeout(this.hide,this,t["long"])}},t}(eui.Component);t.NotifyBox=e,__reflect(e.prototype,"PCPlaza.NotifyBox")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.skinName="PCPlaza.WarnNotifyViewSkin",e.crossBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.notifyTimeoutDo()},e),e.moreInfoGrp.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){Core.globalStore.dispatchGlobal(r.et,0),e.hide()},e),e.scaleX=.8,e.scaleY=.8,e}return __extends(t,i),t.prototype.show=function(t){this.parent||this.parentPage.addPopup(this,!1,this.viewHorizontalCenter,this.viewVerticalCenter-this.height/2),this.timeoutId=Core.NonstopTimer.instance.setTimeout(this.notifyTimeoutDo,this,t)},t.prototype.hasTimeout=function(t){return i.prototype.hasTimeout.call(this,t)},t.prototype.showMsgKey=function(t,e,i){void 0===e&&(e=2e3),void 0===i&&(i=!1),this.hasMsgKey(t)||this.hasTimeout({msgKey:t,long:e,showMoreInfo:i})||(this.labelDisplay.localeKey=t,this.show(e),this.showMoreInfoGrp(i))},t.prototype.showMsg=function(t,e,i){void 0===e&&(e=2e3),void 0===i&&(i=!1),this.hasMsg(t)||this.hasTimeout({msg:t,long:e,showMoreInfo:i})||(this.labelDisplay.localeKey=t,this.show(e),this.showMoreInfoGrp(i))},t.prototype.showMoreInfoGrp=function(t){this.moreInfoGrp.visible=t,t?this.labelDisplay.bottom=80:this.labelDisplay.bottom=20},t.prototype.showNext=function(){var t=this.notifyDataQueue.shift();null!=t.msgKey?this.showMsgKey(t.msgKey,t["long"],t.showMoreInfo):this.showMsg(t.msg,t["long"],t.showMoreInfo)},t.prototype.clearText=function(){i.prototype.clearText.call(this),this.moreInfoGrp.visible=!1},t}(Core.NotifyViewBase);r.WarnNotifyView=t,__reflect(t.prototype,"PCPlaza.WarnNotifyView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getRoadData=function(){return VideoGameCore.PlazaRoadStore.instance?VideoGameCore.PlazaRoadStore.instance.getRoadData(this.getVid()):null},e.prototype.getVid=function(){return VideoGameCore.Abac.RoomTimerStore.instance?VideoGameCore.Abac.RoomTimerStore.instance.vid:null},e.prototype.getRoomTimerStore=function(){return VideoGameCore.Abac.RoomTimerStore.instance},e.prototype.getStoreList=function(){return[VideoGameCore.PlazaRoadStore.instance,VideoGameCore.Abac.RoomTimerStore.instance,Core.LocalizeStore.instance,VideoGameCore.Abac.AbacStore.instance]},Object.defineProperty(e.prototype,"defaultSkinName",{get:function(){return"PCPlaza.AbacRoadMapPanelSkin"},enumerable:!0,configurable:!0}),e}(t.BacRoadMapPanelBase);t.AbacRoadMapPanel=e,__reflect(e.prototype,"PCPlaza.AbacRoadMapPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(n){var t=function(t){function e(){var i=t.call(this)||this;return i.skinName="PCPlaza.AnchorOnlinePanalSkin",i.visible=!1,i.anchorDataQueue=[],i.enterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){var t=VideoGameCore.VideoPlazaStore.instance.getVipVideoInfo(i.vid);if(t){var e=VideoGameCore.VideoPlazaStore.instance.getLedSeatStatusInfo(i.vid);if(VideoGameCore.UserStore.instance.balance>=t.minCredit&&t.canEnter&&e.playerNum<7&&!Core.LoginStore.instance.isDemoAc&&VideoGameCore.PCGameConfig.instance.ledConfig.canJoin)return void n.RootPageStore.instance.enterGameByVid(i.vid,2);n.RootPageStore.instance.enterGameByVid(i.vid,1)}i.anchorDataQueue=[],i.timeoutDo()},i),i}return __extends(e,t),e.prototype.getStoreList=function(){return[VideoGameCore.VideoPlazaStore.instance]},e.prototype.hasTimeout=function(t){var e=!1;return Core.NonstopTimer.instance.hasTimeout(this.timeoutId)&&(this.anchorDataQueue.push(t),e=!0),e},e.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.visible=!1;break;case VideoGameCore.Zu:this.showMsg(i)}},e.prototype.showMsg=function(t){if(VideoGameCore.PCGameConfig.instance.followDealerConfig.enable&&!this.hasTimeout(t)){var i=VideoGameCore.VideoPlazaStore.instance.getMicDealerInfo(t.vid);if(i){var r=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(t.vid),e=VideoGameCore.VideoPlazaStore.instance.getVipVideoInfo(this.vid);if(!r||e||-1===VideoGameCore.PCGameConfig.instance.followDealerConfig.gameType.indexOf(r.gmtype)||t.vid===n.RootPageStore.instance.vid||-1!==VideoGameCore.PCGameConfig.instance.followDealerConfig.hideVids.indexOf(t.vid))return void this.timeoutDo();var s=i.getPhotoUrl(r.gmtype,r.platformtype);""===s&&(s="nav_asset_json.lobby_dealer_loading"),this.anchorImage.source=s,this.labelDisplay.localeFunc=function(){var t=VideoGameCore.AnchorConfig.instance.findById(i.name),e="";return e=t?t.name[Core.LocalizeStore.instance.lang]?t.name[Core.LocalizeStore.instance.lang]:t.name[Core.LANG_BACKUP]:i.name,Core.localizeStore.substitute("PCPlaza.notice.anchor_online",e,r.roomname)},this.vid=t.vid,this.show()}}},e.prototype.show=function(t){void 0===t&&(t=5e3),this.visible=!0,this.timeoutId=Core.NonstopTimer.instance.setTimeout(this.timeoutDo,this,t)},e.prototype.timeoutDo=function(){Core.NonstopTimer.instance.clearTimeout(this.timeoutId),this.labelDisplay.localeFunc=null,this.anchorImage.source=null,this.visible=!1,this.anchorDataQueue.length>0&&this.showNext()},e.prototype.showNext=function(){var t=this.anchorDataQueue.shift();this.showMsg(t)},e}(Core.StoreView);n.AnchorOnlinePanal=t,__reflect(t.prototype,"PCPlaza.AnchorOnlinePanal")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getRoadData=function(){return VideoGameCore.PlazaRoadStore.instance?VideoGameCore.PlazaRoadStore.instance.getRoadData(this.getVid()):null},e.prototype.getVid=function(){return VideoGameCore.RoomTimerStore.instance?VideoGameCore.RoomTimerStore.instance.vid:null},e.prototype.getRoomTimerStore=function(){return VideoGameCore.RoomTimerStore.instance},e.prototype.getStoreList=function(){return[VideoGameCore.PlazaRoadStore.instance,VideoGameCore.RoomTimerStore.instance,Core.LocalizeStore.instance,VideoGameCore.BacStore.instance]},e}(t.BacRoadMapPanelBase);t.BacRoadMapPanel=e,__reflect(e.prototype,"PCPlaza.BacRoadMapPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.BJGameResultPanelSkin",t}return __extends(t,e),t.prototype.onInit=function(){this.itemList=[],this.roadMapGrp.removeChildren();for(var t=0;9>t;t++){var e=new i.BJResultItem;e.skinName="PCPlaza.BJResultItem2Skin",e.groupHeight=79,e.groupWidth=137,e.explicitCardHeight=73,e.gapH=3,e.gapW=2,e.setData(null),this.roadMapGrp.addChild(e),this.itemList.push(e)}},t.prototype.updateRoadMap=function(){var t=VideoGameCore.PlazaRoadStore.instance.getBjRoadDataMap(this.vid);this.setDataList(t)},t.prototype.setDataList=function(t){for(var e=t&&t.length>9?t.length-9:0,i=0;i<this.itemList.length;i++){var r=e+i,s=this.itemList[i],n=t&&t.length>r?t[r]:null;s.setData(n),s.setSelection(t&&r==t.length-1)}},t.prototype.getStoreList=function(){return[VideoGameCore.PlazaRoadStore.instance,VideoGameCore.Bj.RoomTimerStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.onInit(),this.updateRoomStatus(),this.vid=VideoGameCore.Bj.RoomTimerStore.instance.vid,this.updateRoadMap(),this.tryPlayGrp.visible=Core.LoginStore.instance.isDemoAc;break;case VideoGameCore.rt:i&&i!==VideoGameCore.Bj.RoomTimerStore.instance.vid||this.updateRoadMap();break;default:this.updateRoomStatus()}},t.prototype.updateRoomStatus=function(){var t=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.getVid()),e=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(t.platformtype,this.getVid());e?(this.roomStatus.localeKey="PCPlaza.room.maintain",this.roomStatus.refresh(),this.roomStatusGrp.visible=!0):11==this.getRoomTimerStore().gameStatus?(this.roomStatus.localeKey="PCPlaza.room.shuffle",this.roomStatus.refresh(),this.roomStatusGrp.visible=!0):this.roomStatusGrp.visible&&(this.roomStatusGrp.visible=!1)},t.prototype.getVid=function(){return VideoGameCore.Bj.RoomTimerStore.instance?VideoGameCore.Bj.RoomTimerStore.instance.vid:null},t.prototype.getRoomTimerStore=function(){return VideoGameCore.Bj.RoomTimerStore.instance},t}(Core.StoreView);i.BJGameResultPanel=t,__reflect(t.prototype,"PCPlaza.BJGameResultPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(i){function t(){var t=i.call(this)||this;return t.skinName="PCPlaza.BJLobbyResultPanelSkin",t.onInit(),t}return __extends(t,i),t.prototype.onInit=function(){this.itemList=[];for(var t=0;10>t;t++){var e=new r.BJResultItem;e.skinName="PCPlaza.BJResultItemSkin",e.setData(null),this.roadMapGrp.addChild(e),this.itemList.push(e)}},t.prototype.setDataList=function(t){for(var e=t&&t.length>10?t.length-10:0,i=0;i<this.itemList.length;i++){var r=e+i,s=this.itemList[i],n=t&&t.length>r?t[r]:null;s.setData(n),s.setSelection(t&&r==t.length-1)}},t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this)},t}(eui.Component);r.BJLobbyResultPanel=t,__reflect(t.prototype,"PCPlaza.BJLobbyResultPanel",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getRoadData=function(){return VideoGameCore.PlazaRoadStore.instance?VideoGameCore.PlazaRoadStore.instance.getRoadData(this.getVid()):null},e.prototype.getVid=function(){return VideoGameCore.Cbac.RoomTimerStore.instance?VideoGameCore.Cbac.RoomTimerStore.instance.vid:null},e.prototype.getRoomTimerStore=function(){return VideoGameCore.Cbac.RoomTimerStore.instance},e.prototype.getStoreList=function(){return[VideoGameCore.PlazaRoadStore.instance,VideoGameCore.Cbac.RoomTimerStore.instance,Core.LocalizeStore.instance,VideoGameCore.Cbac.CbacStore.instance]},Object.defineProperty(e.prototype,"defaultSkinName",{get:function(){return"PCPlaza.SbacRoadMapPanelSkin"},enumerable:!0,configurable:!0}),e}(t.BacRoadMapPanelBase);t.CbacRoadMapPanel=e,__reflect(e.prototype,"PCPlaza.CbacRoadMapPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var r="EMOJI",o="QUICK",t=function(e){function t(){var t=e.call(this)||this;return t.controlGrpHeight=32,t.skinName="PCPlaza.ChatPanelSkin",t.quickData=new eui.ArrayCollection,t.updateAllowChat(),t}return __extends(t,e),t.prototype.getStoreList=function(){return[Core.ChatStore.instance,Core.LocalizeStore.instance,VideoGameCore.VideoPlazaStore.instance]},t.prototype.onLangChange=function(){if(this.updateAllowChat(),this.quickData&&this.quickData.refresh(),this.dataSource)for(var t=0;t<this.dataSource.length;t++){var e=this.dataSource.getItemAt(t);-1!=e.chatInfoIndex&&(-2!=e.chatInfoIndex?e.body=Core.ChatStore.instance.getQuickMessageByID(e.chatInfoIndex):e.body=this.getWelcomeMsg()),this.dataSource.itemUpdated(e)}},t.prototype.allowChat=function(){this.textField.prompt=Core.LocalizeStore.instance.translate("PCPlaza.chat.say_something"),this.bgBlock.visible=!1},t.prototype.disallowChat=function(t){this.textField.prompt=Core.LocalizeStore.instance.translate(t),this.textField.text="",this.bgBlock.visible=!0},t.prototype.updateAllowChat=function(){if(!Core.ChatStore.instance)return void(this.bgBlock.visible=!0);if(Core.ChatStore.instance.isReady){var t=Core.ChatStore.instance.disKey();if(dclib("CHAT: disKey "+t),-1==t)return;this.allowChat(),2&t&&4&t&&this.disallowChat("PCPlaza.notice.no_chat_before_bet"),8&t&&this.disallowChat("PCPlaza.notice.no_chat")}else this.disallowChat("PCPlaza.notice.no_network")},t.prototype.getWelcomeMsg=function(){var t=Core.ChatStore.instance.vid,e=VideoGameCore.VideoPlazaStore.instance.getMicDealerInfo(t),i=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(t),r="",s=!1,n="";if(i&&(n=i.roomname),e){var o=VideoGameCore.AnchorConfig.instance.findById(e.name),a="";o&&(a=o.name[Core.LocalizeStore.instance.lang]?o.name[Core.LocalizeStore.instance.lang]:o.name[Core.LANG_BACKUP]),""!=a?(r=Core.LocalizeStore.instance.substitute("PCPlaza.chat.welcome_anchor_info",n,a),s=!0):r=Core.LocalizeStore.instance.substitute("PCPlaza.chat.welcome",n)}else r=Core.LocalizeStore.instance.substitute("PCPlaza.chat.welcome",n),i&&i.gmtype==VideoGameCore.GAME_LINK&&Core.LocalizeStore.instance.lang==Core.LANG_KO&&(r=Core.LocalizeStore.instance.substitute("PCPlaza.chat.welcome_multi"));return r},t.prototype.onKeyDown=function(t){this.sendButton&&13==t.keyCode&&""!=this.textField.text.trim()&&this.sendButton.dispatchEventWith(egret.TouchEvent.TOUCH_TAP)},t.prototype.showBg=function(t){this.bg.visible=t},t.prototype.childrenCreated=function(){var s=this;if(this.msgList&&(this.msgList.useVirtualLayout=!1,this.msgList.itemRenderer=h,this.msgList.dataProvider=this.dataSource),this.textField){var t=document.getElementById("egretInput");t.addEventListener("keypress",this.onKeyDown.bind(this))}if(this.sendButton&&this.sendButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){""!=s.textField.text.trim()&&(Core.LoginStore.instance.isDemoAc||Core.ChatStore.instance.sendMsg(s.textField.text.trim()),s.textField.text="",s.textField.prompt=Core.LocalizeStore.instance.translate("PCPlaza.chat.say_something"))},this),this.wrapperScroller&&(this.wrapperScroller.horizontalScrollBar=null,this.wrapperScroller.verticalScrollBar=null,this.wrapperScroller.throwSpeed=0,this.wrapperScroller.scrollPolicyH=eui.ScrollPolicy.OFF,this.wrapperScroller.scrollPolicyV=eui.ScrollPolicy.OFF),this.showAutoDisappearView(),this.emojiButton&&this.emojiScroller&&this.emojiList){this.emojiButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){s.showAutoDisappearView(s.emojiGroup.visible?"":r)},this),this.emojiGroup.addEventListener(Core.EVENT_TOUCH_OUTSIDE,function(){s.emojiButton.getTransformedBounds(s.emojiButton.stage).containsPoint(s.emojiGroup.touchPoint)||(s.emojiGroup.visible=!1)},this);var n=[];RES.getResAsync("emoji_json",function(t){if(t){var e=t,i=[];for(var r in e._textureMap)i.push({source:"emoji_json."+r});n.push(i),s.emojiList.dataProvider=new eui.ArrayCollection(n),s.emojiList.itemRenderer=a}},this)}this.quickButton&&this.quickScroller&&this.quickList&&(this.quickButton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){s.showAutoDisappearView(s.quickGroup.visible?"":o)},this),this.quickGroup.addEventListener(Core.EVENT_TOUCH_OUTSIDE,function(){s.quickButton.getTransformedBounds(s.quickButton.stage).containsPoint(s.quickGroup.touchPoint)||(s.quickGroup.visible=!1)},this),this.quickList.useVirtualLayout=!1,this.quickList.dataProvider=this.quickData,this.quickList.itemRenderer=u,this.quickList.addEventListener(eui.ItemTapEvent.ITEM_TAP,function(t){s.quickGroup.visible=!1,Core.LoginStore.instance.isDemoAc||Core.ChatStore.instance.sendQuickMsg(t.item.index,t.item.lang)},this)),this.updateAllowChat()},t.prototype.showAutoDisappearView=function(t){if(void 0===t&&(t=""),this.emojiGroup&&this.quickGroup){var e=!1,i=!1;switch(t){case r:e=!0;break;case o:i=!0}this.emojiGroup.visible=e,this.quickGroup.visible=i}},t.prototype.initBJChatPanel=function(){this.controlGrp.height=0,this.bgBlock.height=0,this.msgGrp.bottom=0,this.mainPanel.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.makeVisible,this)},t.prototype.makeVisible=function(){this.controlGrp.height=32,this.textField.prompt===Core.LocalizeStore.instance.substitute("PCPlaza.notice.no_chat_before_bet")&&(this.bgBlock.height=32),this.msgGrp.bottom=32,this.msgList.top=0,this.mainPanel.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.makeVisible,this),this.mainPanel.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.makeInvisible,this),i.RootPageStore.instance.isChatEnabled===!0&&this.allowChat()},t.prototype.makeInvisible=function(){this.controlGrp.height=0,this.bgBlock.height=0,this.msgGrp.bottom=0,this.uiScroller.viewport.scrollV+this.uiScroller.height>=this.uiScroller.viewport.contentHeight-32?this.msgList.top=32-(this.uiScroller.viewport.contentHeight-this.uiScroller.height-this.uiScroller.viewport.scrollV):this.uiScroller.viewport.scrollV+this.uiScroller.height<=0&&(this.msgList.top=0),this.mainPanel.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.makeInvisible,this),this.mainPanel.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.makeVisible,this)},t.prototype.onStoreChange=function(t,e,i){if(e===Core.t){this.dataSource=new eui.ArrayCollection(Core.ChatStore.instance.messageList.slice()),this.dataSource.addItemAt({nickname:"",loginname:"",body:this.getWelcomeMsg(),chatInfoIndex:-2},0),this.onLangChange(),this.loadingGroup.visible=!Core.ChatStore.instance.isReady;var r=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(Core.ChatStore.instance.vid);if(r){var s=r.gmtype;this.quickData.replaceAll(Core.ChatStore.instance.getQuickMessage(s))}}else e===VideoGameCore.ni&&Core.ChatStore.instance.disconnectServer();if(t==Core.ChatStore.instance)switch(this.loadingGroup.visible=!Core.ChatStore.instance.isReady,e){case Core.ChatStore.EVENT_UPDATE_DISKEY:this.updateAllowChat();break;case Core.ChatStore.EVENT_ENTER_TABLE:this.dataSource.removeAll(),1===i&&0==this.dataSource.length&&(this.dataSource.addItem({nickname:"",loginname:"",body:this.getWelcomeMsg(),chatInfoIndex:-2}),this.scrollToBottom()),this.updateAllowChat();break;case Core.ChatStore.EVENT_UPDATE_MESSAGE:this.dataSource.addItem(Core.ChatStore.instance.messageList[Core.ChatStore.instance.messageList.length-1]),this.scrollToBottom();break;case Core.ChatStore.EVENT_UPDATE_QUICK_MESSAGE:var r=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(Core.ChatStore.instance.vid);if(r){var s=r.gmtype;s=VideoGameCore.GAME_ALL_BAC.indexOf(s)>=0?VideoGameCore.GAME_BAC:s,this.quickData.replaceAll(Core.ChatStore.instance.getQuickMessage(s))}break;case Core.ChatStore.EVENT_ADD_EMOJI:this.onAddEmoji(i);break;case Core.ChatStore.EVENT_REMOVE_MESSAGE:var n=Core.ChatStore.instance.removedMsg;n&&this.removeMessage(n)}else t==Core.LocalizeStore.instance&&e===Core.q&&this.onLangChange()},t.prototype.removeMessage=function(t){if(t&&this.dataSource){for(var e=-1,i=0;i<this.dataSource.length;i++){var r=this.dataSource.getItemAt(i);r.msgId==t.msgId&&r.temp_msgId==t.temp_msgId&&(e=i)}-1!=e&&this.dataSource.removeItemAt(e)}},t.prototype.scrollToBottom=function(t){void 0===t&&(t=300),this.uiScroller&&(this.uiScroller.validateNow(),egret.Tween.removeTweens(this.uiScroller.viewport),egret.Tween.get(this.uiScroller.viewport).to({scrollV:this.uiScroller.viewport.contentHeight>this.uiScroller.viewport.height?this.uiScroller.viewport.contentHeight-this.uiScroller.viewport.height:0},t,egret.Ease.circOut))},t.prototype.onAddEmoji=function(t){t&&(this.textField.text+=t)},t.prototype.setUIHeight=function(t){var e=t-this.controlGrpHeight;this.msgGrp.height=e,this.bgBlock.y=e,this.quickScroller.top=-73,this.emojiScroller.top=-73},t}(Core.StoreView);i.ChatPanel=t,__reflect(t.prototype,"PCPlaza.ChatPanel");var a=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){this.list.addEventListener(eui.ItemTapEvent.ITEM_TAP,function(t){Core.ChatStore.instance.addEmoji("{"+t.item.source.split(".")[1]+"}")},this,!1)},e.prototype.dataChanged=function(){this.list.dataProvider=new eui.ArrayCollection(this.data)},e}(eui.ItemRenderer);__reflect(a.prototype,"EmojiItemRenderer");var h=function(e){function t(){var t=e.call(this)||this;return t.regex=/({\d*})/g,t}return __extends(t,e),t.prototype.dataChanged=function(){if(this.data){this.visible=!0;var t=Core.getAnonymousName(this.data.loginname,this.data.nickname);if(this.usernameTextLabel.text=t,this.msgTextLabel.textFlow=this.paserText(this.data.body.toString()),this.insertIcon(),this.messageGroup){var e,i=this.messageGroup.layout;this.data.loginname==Core.LoginStore.instance.loginName?(e=egret.HorizontalAlign.RIGHT,this.messageBgRect.fillColor=13170015,this.usernameTextLabel.text=""):(e=egret.HorizontalAlign.LEFT,this.messageBgRect.fillColor=15329769),""==this.data.loginname&&""==this.data.nickname&&(this.usernameTextLabel.text="",this.usernameTextLabel.height=0,this.userGroup.height=0,e=egret.HorizontalAlign.CENTER,this.msgTextLabel.textColor=263117),this.usernameTextLabel.textAlign=e,this.msgTextLabel.textAlign=e,this.msgTextLabel.lineSpacing=12,this.msgTextLabel.verticalAlign=egret.VerticalAlign.MIDDLE,i.horizontalAlign=e,this.messageGroup.layout=i}}else this.visible=!1;if(this.hintsTextLabel){var r=Core.LocalizeStore.instance.translate("PCPlaza.chat.start_chat");this.hintsTextLabel.textFlow=(new egret.HtmlTextParser).parser("<font size=12 u=true color=0xCEAF76>["+r+"]</font>")}},t.prototype.paserText=function(t){for(var e=t.split(this.regex),i=[],r=0;r<e.length;r++)if(this.regex.test(e[r])){var s=e[r].replace(/{|}/g,"");parseInt(s)>91?i.push({text:e[r]}):i.push({text:"        ",style:{icon:s}})}else{var n=e[r];""!=n&&i.push({text:e[r],style:{}})}return i},t.prototype.insertIcon=function(){var s=this;this.iconHolder.removeChildren(),egret.setTimeout(function(){for(var t=s.msgTextLabel.textNode.drawData,e=0;e<t.length;e++){var i=t[e];if("object"==typeof i&&i.icon){var r=new eui.Image(RES.getRes("emoji_json."+i.icon));r.width=r.height=26,r.x=t[e-3],r.y=t[e-2]-r.height/2,s.iconHolder.addChild(r)}}},this,500)},t}(eui.ItemRenderer);__reflect(h.prototype,"ChatPanelItemRenderer");var u=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.dataChanged=function(){},e}(eui.ItemRenderer);__reflect(u.prototype,"QuickMsgItemRenderer")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.DateTimePanelSkin",t.visible=!1,t}return __extends(t,e),t.prototype.setEnable=function(t){t?Core.NonstopTimer.instance.hasInterval(this.updateInterval)||(this.updateTimer(),this.updateInterval=Core.NonstopTimer.instance.setInterval(this.updateTimer,this,1e3)):Core.NonstopTimer.instance.hasInterval(this.updateInterval)&&Core.NonstopTimer.instance.clearInterval(this.updateInterval)},t.prototype.updateTimer=function(){if(Core.LoginStore.instance&&this.lblDate){var t=new Date;t.setTime(Core.getEATime(Core.LoginStore.instance.getCurServerTime())),this.lblDate.text=Core.patternDate("dd/MM/yyyy",t),this.lblTime.text=Core.patternDate("HH:mm:ss",t)}},t.prototype.getStoreList=function(){return[VideoGameCore.VideoFactory.instance.getVideoStoreById()]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.visible=!VideoGameCore.VideoFactory.instance.getVideoStoreById().isOpen,this.setEnable(this.visible);break;case VideoGameCore.O:this.visible=!0,this.setEnable(!0);break;case VideoGameCore.I:this.visible=!1,this.setEnable(!1)}},t}(Core.StoreView);t.DateTimePanel=e,__reflect(e.prototype,"PCPlaza.DateTimePanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getRoadData=function(){return VideoGameCore.PlazaRoadStore.instance.getRoadData(VideoGameCore.Dt.RoomTimerStore.instance.vid)},e.prototype.getVid=function(){return VideoGameCore.Dt.RoomTimerStore.instance?VideoGameCore.Dt.RoomTimerStore.instance.vid:null},e.prototype.getRoomTimerStore=function(){return VideoGameCore.Dt.RoomTimerStore.instance},e.prototype.getStoreList=function(){return[VideoGameCore.Dt.RoadMapStore.instance,VideoGameCore.Dt.RoomTimerStore.instance,Core.LocalizeStore.instance,VideoGameCore.PlazaRoadStore.instance,VideoGameCore.DtStore.instance]},e}(t.DtRoadMapPanelBase);t.DTRoadMapPanel=e,__reflect(e.prototype,"PCPlaza.DTRoadMapPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(r){function t(t,e){var i=r.call(this,t)||this;return i.skinName="PCPlaza.GameInfoPanelSkin",i.gametypeLabel.localeKey=e,i.gametypeLabel.refresh(),i}return __extends(t,r),t.prototype.setInfoView=function(t){this.infoView=t,this.gameInfoGrp.addChild(this.infoView)},t.prototype.close=function(){this.parent instanceof Core.StoreView?this.parent.removeChild(this,!1):this.parent.removeChild(this)},t}(Core.MoveInContainerPanel);t.GameInfoPanel=e,__reflect(e.prototype,"PCPlaza.GameInfoPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(h){var t=function(e){function t(){var t=e.call(this)||this;return t.selectedVid=null,t.skinName="PCPlaza.GoodRoadPanelSkin",t.goadRoadData=new eui.ArrayCollection,t.goodRoadList.useVirtualLayout=!1,t.goodRoadList.dataProvider=t.goadRoadData,t.goodRoadList.itemRenderer=h.GoodRoadItem,t.goodRoadList.addEventListener(eui.ItemTapEvent.ITEM_TAP,t.onSelectGoodRoad,t),t.settingBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onSettingBtnClick,t),t.mask=t.maskRect,t}return __extends(t,e),t.prototype.getStoreList=function(){return[VideoGameCore.GoodRoadStore.instance,VideoGameCore.VideoPlazaStore.instance]},t.prototype.onAddToStage=function(){e.prototype.onAddToStage.call(this),VideoGameCore.GoodRoadStore.instance.connectToGoodRoad()},t.prototype.onRemoveFromStage=function(){e.prototype.onRemoveFromStage.call(this),VideoGameCore.GoodRoadStore.instance.disconnectGoodRoad()},t.prototype.onStoreChange=function(t,e,i){var r=this;switch(e){case Core.t:case VideoGameCore.Z:case VideoGameCore.Ju:if(0==VideoGameCore.GoodRoadStore.instance.goodRoadSettings.length)this.noGoodRoadLbl.localeKey="PCPlaza.goodroad.select_road_type",this.noGoodRoadLbl.visible=!0,this.goadRoadData.removeAll();else{this.noGoodRoadLbl.localeKey="PCPlaza.goodroad.no_good_road";var s=VideoGameCore.GoodRoadStore.instance.goodRoadItemMap.values.filter(function(t){var e=VideoGameCore.RoadStoreFactory.instance.roomTimerStoreMap.get(t.vid),i=VideoGameCore.PCGameConfig.instance.specialVidsConfig.hide,r=i.indexOf(t.vid)>=0?!0:!1;return!r&&VideoGameCore.GoodRoadStore.instance.goodRoadSettings.indexOf(t.roadType)>=0&&t.vid!==h.RootPageStore.instance.vid&&11!==e.gameStatus});this.goadRoadData.replaceAll(s),this.goadRoadData.length>0?this.noGoodRoadLbl.visible=!1:this.noGoodRoadLbl.visible=!0;var n=s.filter(function(t){return t.vid===r.selectedVid})[0];if(n){var o=s.indexOf(n);this.goodRoadList.selectedIndex=o;var a=o;o>this.goadRoadData.length-3&&(a=this.goadRoadData.length-3>0?this.goadRoadData.length-3:0),this.listScroller.setScrollV(55*a)}else this.resetGameGrp()}break;case VideoGameCore.ni:VideoGameCore.GoodRoadStore.instance.disconnectGoodRoad()}},t.prototype.onSelectGoodRoad=function(t){var e=this.goodRoadList.selectedIndex,i=this.goadRoadData.getItemAt(e).vid;egret.Tween.removeTweens(this.gameGrp),this.selectedVid!==i?(this.selectedVid=i,this.gameGrp.removeChildren(),this.gameGrp.addChild(new h.GoodRoadGameComponent(this.selectedVid)),egret.Tween.get(this.gameGrp).to({right:0},100)):this.resetGameGrp()},t.prototype.resetGameGrp=function(){var t=this;egret.Tween.get(this.gameGrp).to({right:510},100).call(function(){t.gameGrp.removeChildren()}),this.selectedVid=null,this.goodRoadList.selectedIndex=-1,this.listScroller.reset()},t.prototype.onSettingBtnClick=function(){Core.pageNavigator.getTopPage().hasPopup(h.SettingPopupGoodRoad)?this.goodRoadPanel.dismiss(!1):(this.goodRoadPanel=new h.SettingPopupGoodRoad(""),Core.pageNavigator.getTopPage().addPopup(this.goodRoadPanel))},t}(Core.StoreView);h.GoodRoadPanel=t,__reflect(t.prototype,"PCPlaza.GoodRoadPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.platform="",t.skinName="PCPlaza.MaintainPanelSkin",t}return __extends(t,e),t.prototype.getStoreList=function(){return[VideoGameCore.VideoPlazaStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:case VideoGameCore.Ja:this.loadMaintainImg()}},t.prototype.loadMaintainImg=function(){if(VideoGameCore.VideoPlazaStore.instance.isMaintaining(this.platform)&&!this.maintainGrp.visible){var t=VideoGameCore.VideoPlazaStore.instance.getPlazaMtStatus(this.platform),e=new Date(1e3*t.endTime);for(this.timeZh.text=Core.LocalizeStore.instance.substitute("PCPlaza.anchor.birthday",Core.patternDate("MM",e),Core.patternDate("dd",e))+Core.patternDate(" HH:mm",e),this.timeEn.text=Core.patternDate("dd/MM HH:mm",e),this.timeZh.filters=[new egret.DropShadowFilter(2,45,0,1,3,3)],this.timeEn.filters=[new egret.DropShadowFilter(2,45,0,1,3,3)];this.maintainImg.numChildren;)this.maintainImg.removeChildAt(0);var i=new egret.ImageLoader;i.once(egret.Event.COMPLETE,this.imgLoadHandler,this);var r;switch(this.platform){case VideoGameCore.GAME_LIVE:r=VideoGameCore.CONFIG_LIVE;break;case VideoGameCore.MAINTAIN_YOPLAY:r=VideoGameCore.CONFIG_YOPLAY;break;case VideoGameCore.MAINTAIN_SPORT:r=VideoGameCore.CONFIG_SPORT;break;case VideoGameCore.MAINTAIN_FISH:r=VideoGameCore.CONFIG_FISH;break;case VideoGameCore.MAINTAIN_EGAMES:r=VideoGameCore.CONFIG_EGAMES;break;default:r=this.platform}var s=VideoGameCore.PCPlazaConfig.instance.maintenanceHM.get(r);null==s&&(s=VideoGameCore.PCPlazaConfig.instance.maintenanceHM.get("default")),i.load(s.img)}this.maintainGrp.visible=VideoGameCore.VideoPlazaStore.instance.isMaintaining(this.platform)},t.prototype.imgLoadHandler=function(t){var e=t.currentTarget,i=e.data,r=new egret.Bitmap(i);r.width=1780,r.height=1080,this.maintainImg.addChild(r)},t.prototype.updatePos=function(t,e,i,r){this.timeZh.x=t,this.timeZh.y=e,this.timeEn.x=i,this.timeEn.y=r},t.prototype.updatePlatform=function(t){switch(t){case VideoGameCore.GAME_YOPLAY:this.platform=VideoGameCore.MAINTAIN_YOPLAY;break;case VideoGameCore.GAME_SPORT:this.platform=VideoGameCore.MAINTAIN_SPORT;break;case VideoGameCore.GAME_FISH:this.platform=VideoGameCore.MAINTAIN_FISH;break;case VideoGameCore.GAME_EGAMES:this.platform=VideoGameCore.MAINTAIN_EGAMES;break;default:this.platform=t}this.loadMaintainImg()},t}(Core.StoreView);t.MaintainPanel=e,__reflect(e.prototype,"PCPlaza.MaintainPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(){var t=i.call(this)||this;return t.skinName="PCPlaza.NameListPanelSkin",t}return __extends(t,i),t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this),this.dataSource=new eui.ArrayCollection,this.onlinePlayerList.dataProvider=this.dataSource},t.prototype.updateOnlinePlayerList=function(t){0==t.length?this.bgGrp.visible=!0:this.dataSource.replaceAll(t)},t}(eui.Component);t.NameListPanel=e,__reflect(e.prototype,"PCPlaza.NameListPanel",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getRoadData=function(){return VideoGameCore.PlazaRoadStore.instance?VideoGameCore.PlazaRoadStore.instance.getRoadData(this.getVid()):null},e.prototype.getVid=function(){return VideoGameCore.Sbac.RoomTimerStore.instance?VideoGameCore.Sbac.RoomTimerStore.instance.vid:null},e.prototype.getRoomTimerStore=function(){return VideoGameCore.Sbac.RoomTimerStore.instance},e.prototype.getStoreList=function(){return[VideoGameCore.PlazaRoadStore.instance,VideoGameCore.Sbac.RoomTimerStore.instance,Core.LocalizeStore.instance,VideoGameCore.Sbac.SbacStore.instance]},e}(t.BacRoadMapPanelBase);t.SbacRoadMapPanel=e,__reflect(e.prototype,"PCPlaza.SbacRoadMapPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(){var t=i.call(this)||this;return t.skinName="PCPlaza.SHBLobbyResultPanelSkin",t}return __extends(t,i),t.prototype.setDataList=function(t){for(var e=t.slice(0);e.length<12;)e.push({num1:0,num2:0,num3:0});this.list.dataProvider=new eui.ArrayCollection(e)},t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this),this.swapChildren(this.list,this.colRectStroke)},t}(eui.Component);t.SHBLobbyResultPanel=e,__reflect(e.prototype,"PCPlaza.SHBLobbyResultPanel",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.selectItem=null,t}return __extends(t,e),t.prototype.getStoreList=function(){return[VideoGameCore.PlazaRoadStore.instance,VideoGameCore.Shb.RoomTimerStore.instance,Core.LocalizeStore.instance,VideoGameCore.Shb.ShbStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.initRoadMap(),this.updateRoadMap(),this.tryPlayGrp.visible=Core.LoginStore.instance.isDemoAc;break;case VideoGameCore.rt:i&&i!==VideoGameCore.Shb.RoomTimerStore.instance.vid||this.updateRoadMap();break;case Core.q:this.updateRoadMap();break;case VideoGameCore.de:this.loadingGrp.visible=!1}},t.prototype.initRoadMap=function(){this.subPaper=new VideoGameCore.RoadPaper.RoadShbSubPaper(this.roadMapAGrp.width,this.roadMapAGrp.height,["PCPlaza.shb.triple_s","PCPlaza.shb.odd_s","PCPlaza.shb.even_s","PCPlaza.shb.big_s","PCPlaza.shb.small_s"],6),this.roadMapAGrp.removeChildren(),this.roadMapAGrp.addChild(this.subPaper),this.subPaperNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.subPaper,this.roadMapAGrp.width,this.roadMapAGrp.height,this.subPaper.gridSize,1,1),this.mainPaper=new VideoGameCore.RoadPaper.RoadShbMainPaper(this.roadMapBGrp.width,this.roadMapBGrp.height,5),this.roadMapBGrp.removeChildren(),this.roadMapBGrp.addChild(this.mainPaper),this.mainPaperNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.mainPaper,this.roadMapBGrp.width,this.roadMapBGrp.height,this.mainPaper.gridSize,1,1),this.roadMapBGrp.visible=!1,this.typeList.allowMultipleSelection=!1,this.typeList.selectedIndex=0,this.typeList.addEventListener(egret.Event.CHANGE,this.onTypeChange,this)},t.prototype.updateRoadMap=function(){var t,e=VideoGameCore.Shb.RoomTimerStore.instance.vid;t=VideoGameCore.PlazaRoadStore.instance.getShbRoadData(e),t&&(this.subPaper.setListData(t.roadData),this.mainPaper.setListData(t.roadData))},t.prototype.onTypeChange=function(t){switch(this.selectItem||(this.selectItem=this.typeList.getElementAt(0)),this.selectItem.updateFillColor(),this.selectItem=this.typeList.getElementAt(this.typeList.selectedIndex),this.selectItem.updateFillColor(),this.roadMapAGrp.visible=this.typeList.selectedIndex<2,this.roadMapBGrp.visible=this.typeList.selectedIndex>1,this.typeList.selectedIndex){case 0:this.subPaper.setMapType(0);break;case 1:this.subPaper.setMapType(1);break;case 2:this.mainPaper.setMapType(0);break;case 3:this.mainPaper.setMapType(1)}this.subPaperNav.update(),this.mainPaperNav.update()},t}(Core.StoreView);t.SHBRoadMapPanel=e,__reflect(e.prototype,"PCPlaza.SHBRoadMapPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var r="bigRoad",s="cardType",t=function(e){function t(){var t=e.call(this)||this;return t.currentIndex=0,t.itemWidth=80,t.skinName=t.defaultSkinName,t.countDataSource=new eui.ArrayCollection,t.dataSource=new eui.ArrayCollection,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.tableView.itemRenderer=i.ZjhRoadMapTableItemRenderer,this.tableView.dataProvider=this.dataSource,this.tabListView.itemRenderer=i.ZjhRoadMapTabItemRenderer,this.tabListView.dataProvider=new eui.ArrayCollection(["PCPlaza.zjh.big_road","PCPlaza.zjh.card_types"]),this.leftBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchEventHandler,this),this.rightBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchEventHandler,this),this.tabListView.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onSelectTab,this)},Object.defineProperty(t.prototype,"defaultSkinName",{get:function(){return"PCPlaza.ZjhRoadMapPanelSkin"},enumerable:!0,configurable:!0}),t.prototype.onStoreChange=function(t,e,i){if(e===Core.t)this.zhuZaiLu=new VideoGameCore.RoadPaper.RoadZhuZaiPaper(this.zhuZaiLuGrp.width,this.zhuZaiLuGrp.height,["PCPlaza.room.roadmap_phoenix","PCPlaza.room.roadmap_dragon","PCPlaza.room.roadmap_tie"],3,1,1),this.zhuZaiLuGrp.removeChildren(),this.zhuZaiLuGrp.addChild(this.zhuZaiLu),this.zhuZaiLuNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.zhuZaiLu,this.zhuZaiLuGrp.width,this.zhuZaiLuGrp.height,this.zhuZaiLu.gridSize,1,1),this.daLu=new VideoGameCore.RoadPaper.RoadDaLuPaper(this.daLuGrp.width,this.daLuGrp.height,3),this.daLuGrp.removeChildren(),this.daLuGrp.addChild(this.daLu),this.daLuNav=new VideoGameCore.RoadPaper.PaperNavigatorAttacher(this.daLu,this.daLuGrp.width,this.daLuGrp.height,this.daLu.gridSize,1,2),this.roomStatusGrp.visible=!1,this.updateRoadmap(),this.updateStat(),this.tryPlayGrp.visible=Core.LoginStore.instance.isDemoAc,this.currentState=r,this.tabListView.selectedIndex=0;else if(t instanceof VideoGameCore.RoadMapStore||e===VideoGameCore.rt||e===Core.q){if(e!=Core.q&&(e!==VideoGameCore.rt||i&&i!==this.getVid()))return;this.updateRoadmap(),this.updateStat()}else this.updateRoomStatus();e===VideoGameCore.de&&(this.loadingGrp.visible=!1)},t.prototype.getRoadData=function(){return VideoGameCore.PlazaRoadStore.instance?VideoGameCore.PlazaRoadStore.instance.getRoadData(this.getVid()):null},t.prototype.getVid=function(){return VideoGameCore.Zjh.RoomTimerStore.instance?VideoGameCore.Zjh.RoomTimerStore.instance.vid:null},t.prototype.getRoomTimerStore=function(){return VideoGameCore.Zjh.RoomTimerStore.instance},t.prototype.getStoreList=function(){return[VideoGameCore.PlazaRoadStore.instance,VideoGameCore.Zjh.RoomTimerStore.instance,Core.LocalizeStore.instance,VideoGameCore.ZjhStore.instance]},t.prototype.getCountList=function(){var t=[],e=this.getRoadData();return e?(t.push({playtype:"PCPlaza.bac.bet_banker",count:e.redCount,color:14619414}),t.push({playtype:"PCPlaza.bac.bet_player",count:e.blueCount,color:3618291}),t.push({playtype:"PCPlaza.bac.bet_tie",count:e.tieCount,color:3578627}),t.push({playtype:"PCPlaza.bac.bet_b_pair",count:e.redPairCount,color:14619414}),t.push({playtype:"PCPlaza.bac.bet_p_pair",count:e.bluePairCount,color:3618291}),t.push({playtype:"PCPlaza.bac.total",count:e.totalCount,color:6697728})):(t.push({playtype:"PCPlaza.bac.bet_banker",count:0,color:14619414}),t.push({playtype:"PCPlaza.bac.bet_player",count:0,color:3618291}),t.push({playtype:"PCPlaza.bac.bet_tie",count:0,color:3578627}),t.push({playtype:"PCPlaza.bac.bet_b_pair",count:0,color:14619414}),t.push({playtype:"PCPlaza.bac.bet_p_pair",count:0,color:3618291}),t.push({playtype:"PCPlaza.bac.total",count:0,color:6697728})),t},t.prototype.updateStat=function(){this.countDataSource.replaceAll(this.getCountList())},t.prototype.updateRoomStatus=function(){var t=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.getVid()),e=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(t.platformtype,this.getVid());e?(this.roomStatus.localeKey="PCPlaza.room.maintain",this.roomStatus.refresh(),this.roomStatusGrp.visible=!0):11==this.getRoomTimerStore().gameStatus?(this.roomStatus.localeKey="PCPlaza.room.shuffle",this.roomStatus.refresh(),this.roomStatusGrp.visible=!0):this.roomStatusGrp.visible&&(this.roomStatusGrp.visible=!1)},t.prototype.updateRoadmap=function(){var t=!1,e=this.getRoadData(),i=VideoGameCore.PlazaRoadStore.instance.getZjhRoadData(this.getVid());e&&i&&this.visible&&(t=!0),this.getRoomTimerStore()&&11==this.getRoomTimerStore().gameStatus&&(t=!1),this.zhuZaiLu&&this.daLu&&(t?(this.zhuZaiLu.setListData(e.zhuZaiLuData),this.daLu.setMapData(e.daLuData),this.dataSource.replaceAll(i)):(this.zhuZaiLu.setListData([]),this.daLu.setMapData([]),this.dataSource.removeAll()),this.validateNow(),this.currentIndex=this.getMaxIndex(),this.scrollByIndex(this.currentIndex))},t.prototype.onTouchEventHandler=function(t){t.currentTarget==this.leftBtn&&(this.currentIndex--,this.currentIndex<=0&&(this.currentIndex=0)),t.currentTarget==this.rightBtn&&(this.currentIndex++,this.currentIndex>=this.getMaxIndex()&&(this.currentIndex=this.getMaxIndex())),this.scrollByIndex(this.currentIndex)},t.prototype.getMaxIndex=function(){var t=this.skinName===this.defaultSkinName?11:13,e=Math.ceil(this.scrollView.viewport.contentWidth/this.itemWidth)-t;return 0>e&&(e=0),e},t.prototype.scrollByIndex=function(t){this.scrollView.viewport.scrollH=t*this.itemWidth,this.leftBtn.alpha=1,this.rightBtn.alpha=1,0>=t?this.leftBtn.alpha=.5:t>=this.getMaxIndex()&&(this.rightBtn.alpha=.5)},t.prototype.onSelectTab=function(t){1===t.itemIndex?this.currentState=s:this.currentState=r},t}(Core.StoreView);i.ZjhRoadMapPanel=t,__reflect(t.prototype,"PCPlaza.ZjhRoadMapPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.dataChanged=function(){var t=this;this.data&&this.key!==this.data&&(this.key=this.data,this.textLabel.localeFunc=function(){return Core.LocalizeStore.instance.lang!=Core.LANG_HANS&&Core.LocalizeStore.instance.lang!=Core.LANG_HANT?(t.textLabel.rotation=-90,t.textLabel.size=15):(t.textLabel.rotation=0,t.textLabel.size=25),Core.translate(t.key)},this.textLabel.refresh(),this.invalidateState())},e}(eui.ItemRenderer);t.ZjhRoadMapTabItemRenderer=e,__reflect(e.prototype,"PCPlaza.ZjhRoadMapTabItemRenderer")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.dataChanged=function(){var t=this.data,e=new VideoGameCore.ZjhCardTypeData(t.dragonResult),i=new VideoGameCore.ZjhCardTypeData(t.phoenixResult);switch(Core.LocalizeStore.instance.lang!=Core.LANG_HANS&&Core.LocalizeStore.instance.lang!=Core.LANG_HANT?(this.textLabel_d.wordWrap=!0,this.textLabel_p.wordWrap=!0,this.textLabel_d.localeKey="PCPlaza.zjh.history."+e.cardTypeStr,this.textLabel_p.localeKey="PCPlaza.zjh.history."+i.cardTypeStr):(this.textLabel_d.localeKey="PCPlaza.zjh."+e.cardTypeStr,this.textLabel_p.localeKey="PCPlaza.zjh."+i.cardTypeStr),t.result){case VideoGameCore.RoadPaper.ZjhWinType.BLUE_WIN:this.winGroup_d.visible=!0,this.winGroup_p.visible=!1,this.tieGroup_d.visible=!1,this.tieGroup_p.visible=!1;break;case VideoGameCore.RoadPaper.ZjhWinType.RED_WIN:this.winGroup_d.visible=!1,this.winGroup_p.visible=!0,this.tieGroup_d.visible=!1,this.tieGroup_p.visible=!1;break;case VideoGameCore.RoadPaper.ZjhWinType.TIE:this.winGroup_d.visible=!1,this.winGroup_p.visible=!1,this.tieGroup_d.visible=!0,this.tieGroup_p.visible=!0}},e}(eui.ItemRenderer);t.ZjhRoadMapTableItemRenderer=e,__reflect(e.prototype,"PCPlaza.ZjhRoadMapTableItemRenderer")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(c){var t=function(s){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=null);var i=s.call(this)||this;i.skinName="PCPlaza.BetHistoryPopupSkin",i.appandBetNav=e,i.initPageKey=t,i.collection=new eui.ArrayCollection,i.list.dataProvider=i.collection,i.ttlCollection=new eui.ArrayCollection,i.ttlList.dataProvider=i.ttlCollection,i.crossBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onCrossClick,i),i.btnPrevFast.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onClickPrevFast,i),i.btnPrev.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onClickPrev,i),i.btnNext.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onClickNext,i),i.btnNextFast.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onClickNextFast,i),i.betHistoryList.addEventListener(eui.ItemTapEvent.ITEM_TAP,i.onClickRecordList,i),i.txtCurPage.restrict="0-9",i.txtCurPage.addEventListener(egret.Event.CHANGE,i.onTextChange,i),i.txtCurPage.addEventListener(egret.FocusEvent.FOCUS_IN,i.onFocus,i),i.txtCurPage.addEventListener(egret.FocusEvent.FOCUS_OUT,i.outFocus,i),i.searchBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,i.getRecords,i),i.calendarGrp.addEventListener(Core.EVENT_TOUCH_OUTSIDE,function(){i.calendarGrp.visible=!1},i);var r=document.getElementById("egretInput");return r.addEventListener("keypress",i.onKeyDown.bind(i)),i.loadingView.visible=!1,i}return __extends(t,s),t.prototype.getStoreList=function(){return[VideoGameCore.QueryStore.instance]},t.prototype.onAddToStage=function(){var t=this;s.prototype.onAddToStage.call(this),egret.callLater(function(){t.startDateMenu.setSelectIndex(0),t.endDateMenu.setSelectIndex(0),t.initSetting()},this)},t.prototype.onRemoveFromStage=function(){this.clearAppandGroup(),s.prototype.onRemoveFromStage.call(this)},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.createMenu(),this.initLang(),this.initPage(),this.updateCurrentDate();break;case VideoGameCore.nh:Core.NonstopTimer.instance.clearTimeout(this.reqTimeout),this.betHistoryList.selectedItem.key==VideoGameCore.BET_HISTORY_LIVE&&this.updateBetRecords(),this.hideLoading();break;case VideoGameCore.Qu:Core.NonstopTimer.instance.clearTimeout(this.reqTimeout),this.betHistoryList.selectedItem.key==VideoGameCore.BET_HISTORY_LIVE_CREDIT&&this.updateCreditRecords(),this.hideLoading();break;case VideoGameCore.Xu:Core.NonstopTimer.instance.clearTimeout(this.reqTimeout),this.betHistoryList.selectedItem.key==VideoGameCore.BET_HISTORY_USER_POINT&&this.updateUserPointRecords(),this.hideLoading();break;case VideoGameCore.$u:Core.NonstopTimer.instance.clearTimeout(this.reqTimeout),(this.betHistoryList.selectedItem.key==VideoGameCore.BET_HISTORY_SLOT_GAME||this.betHistoryList.selectedItem.key==VideoGameCore.BET_HISTORY_TABLE)&&this.updateSlotRecords(),this.hideLoading();break;case VideoGameCore.tc:Core.NonstopTimer.instance.clearTimeout(this.reqTimeout),this.betHistoryList.selectedItem.key==VideoGameCore.BET_HISTORY_FISH&&this.updateHunterBetRecords(),this.hideLoading();break;case VideoGameCore.ec:Core.NonstopTimer.instance.clearTimeout(this.reqTimeout),this.betHistoryList.selectedItem.key==VideoGameCore.BET_HISTORY_FISH_CREDIT&&this.updateHunterCreditRecords(),this.hideLoading();break;case VideoGameCore.ic:Core.NonstopTimer.instance.clearTimeout(this.reqTimeout),this.betHistoryList.selectedItem.key==VideoGameCore.BET_HISTORY_AG_SPORT&&this.updateTainRecords(),this.hideLoading();break;case VideoGameCore.ht:this.getRecords()}},t.prototype.createMenu=function(){var t=[{key:VideoGameCore.BET_HISTORY_LIVE,nameKey:"PCPlaza.nav.bethistory_livegame",iconSrc:"bet_history_json.bet_recrods"},{key:VideoGameCore.BET_HISTORY_SLOT_GAME,nameKey:"PCPlaza.nav.bethistory_slot",iconSrc:"bet_history_json.bet_recrods_slots"},{key:VideoGameCore.BET_HISTORY_TABLE,nameKey:"PCPlaza.nav.bethistory_table",iconSrc:"bet_history_json.bet_recrods_table"},{key:VideoGameCore.BET_HISTORY_FISH,nameKey:"PCPlaza.nav.bethistory_fish",iconSrc:"bet_history_json.bet_recrods_hunter"},{key:VideoGameCore.BET_HISTORY_FISH_CREDIT,nameKey:"PCPlaza.nav.bethistory_fish_credit",iconSrc:"bet_history_json.bet_recrods_hunter_credit"},{key:VideoGameCore.BET_HISTORY_AG_SPORT,nameKey:"PCPlaza.nav.bethistory_ag_sport",iconSrc:"bet_history_json.records_ag_sport"}];this.appandBetNav&&this.appandBetNav.length>0&&(t=t.concat(this.appandBetNav)),VideoGameCore.PCPlazaConfig.instance.navList.indexOf(VideoGameCore.CONFIG_EGAMES)<0&&(t=t.filter(function(t){return t.key!=VideoGameCore.BET_HISTORY_SLOT_GAME&&t.key!=VideoGameCore.BET_HISTORY_TABLE},this)),VideoGameCore.PCPlazaConfig.instance.navList.indexOf(VideoGameCore.CONFIG_FISH)<0&&(t=t.filter(function(t){return t.key!=VideoGameCore.BET_HISTORY_FISH&&t.key!=VideoGameCore.BET_HISTORY_FISH_CREDIT},this)),VideoGameCore.PCPlazaConfig.instance.navList.indexOf(VideoGameCore.CONFIG_SPORT)<0&&(t=t.filter(function(t){return t.key!=VideoGameCore.BET_HISTORY_AG_SPORT},this)),t.push({key:VideoGameCore.BET_HISTORY_USER_POINT,nameKey:"PCPlaza.nav.bethistory_user_point",iconSrc:"bet_history_json.bet_recrods_user_point"}),t.push({key:VideoGameCore.BET_HISTORY_LIVE_CREDIT,nameKey:"PCPlaza.nav.bethistory_credit",iconSrc:"bet_history_json.bet_recrods_credit"}),this.betHistoryList.dataProvider=new eui.ArrayCollection(t),this.betHistoryList.itemRenderer=c.BetHistoryTabBtn;for(var e=0,i=0;i<t.length;i++)if(t[i].key===this.initPageKey){e=i;break}this.selectBetHistoryList(e),this.txtRecordsInPageNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.recordsInPage")+" 20"},this.txtRecordsInPageNum.refresh(),this.txtTotalRecordsNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.ttlRecords")+" 0"},this.txtTotalRecordsNum.refresh()},t.prototype.initLang=function(){VideoGameCore.QueryStore.instance.loadLang()},t.prototype.initPage=function(){VideoGameCore.QueryStore.instance.goFirstPage()},t.prototype.updatePage=function(){this.txtCurPage.text=VideoGameCore.QueryStore.instance.curPage.toString(),this.txtTotPage.text=VideoGameCore.QueryStore.instance.maxPage.toString()},t.prototype.updateBetRecords=function(){var t=[],e=[],i=VideoGameCore.QueryStore.instance.betRecords,r=i.records,s=0,n=0,o=0;t.push({title:!0,billno:"PCPlaza.records.bet.billno",date:"PCPlaza.records.bet.date",gamecode:"PCPlaza.records.bet.gamecode",platformtype:"PCPlaza.records.bet.platformtype",gametype:"PCPlaza.records.bet.gametype",tablecode:"PCPlaza.records.bet.tablecode",result:"PCPlaza.records.bet.result",playtype:"PCPlaza.records.bet.playtype",amount:"PCPlaza.records.bet.amount",payout:"PCPlaza.records.bet.payout",validbet:"PCPlaza.records.bet.validbet",status:"PCPlaza.records.bet.status",mode:"PCPlaza.records.bet.mode"});for(var a=!1,h=0;h<r.length;h++){var u=r[h];a=this.gameId.text?u.gmcode==this.gameId.text?!0:!1:!0,a&&(t.push(u),s+=parseFloat(u.account),n+=parseFloat(u.cus_account),o+=u.valid_account)}this.txtRecordsInPageNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.recordsInPage")+" "+i.pageNum.toString()},this.txtTotalRecordsNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.ttlRecords")+" "+i.recordsTotal.toString()},this.updatePage(),i.recordsTotal>0&&a?(e.push({amount:s,payout:n,validbet:o,subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.subTotal")}),e.push({amount:i.ttl_account,payout:i.ttl_cus_account,validbet:i.ttl_valid_account,subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.total")}),this.noDataShowUp(!1)):(this.noDataShowUp(!0),this.noData.localeKey="PCPlaza.records.bet.nodata"),this.list.itemRenderer=c.BetHistoryItemList,this.ttlList.itemRenderer=c.BetHistoryTotalList,this.collection.replaceAll(t),this.ttlCollection.replaceAll(e)},t.prototype.updateCreditRecords=function(){var t=[],e=[],i=VideoGameCore.QueryStore.instance.creditRecords,r=i.records;t.push({title:!0,tradeno:"PCPlaza.records.credit.tradeno",jointime:"PCPlaza.records.credit.jointime",trans_type:"PCPlaza.records.credit.trans_type",dst_amount:"PCPlaza.records.credit.dst_amount",income_amount:"PCPlaza.records.credit.income_amount",expend_amount:"PCPlaza.records.credit.expend_amount",src_amount:"PCPlaza.records.credit.src_amount",mode:"PCPlaza.records.credit.mode"});for(var s=0;s<r.length;s++){var n=r[s];t.push({tradeno:n.tradeno,jointime:n.jointime,trans_type:n.code,dst_amount:n.dst_amount,income_amount:Number(n.trans_amount)>=0?n.trans_amount:"",expend_amount:Number(n.trans_amount)<0?n.trans_amount:"",src_amount:n.src_amount,mode:n.remark})}this.txtRecordsInPageNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.recordsInPage")+" "+i.pageNum.toString()},this.txtTotalRecordsNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.ttlRecords")+" "+i.recordsTotal.toString()},this.updatePage(),i.recordsTotal>0?(e.push({income_amount:i.subIncome,expend_amount:i.subExpend,subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.subTotal")}),e.push({income_amount:i.income,expend_amount:i.expend,subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.total")}),this.noDataShowUp(!1)):(this.noDataShowUp(!0),this.noData.localeKey="PCPlaza.records.bet.nodata"),this.list.itemRenderer=c.BetHistoryCreditItemList,this.ttlList.itemRenderer=c.BetHistoryCreditTotalList,this.collection.replaceAll(t),this.ttlCollection.replaceAll(e)},t.prototype.updateUserPointRecords=function(){var t=[],e=[],i=VideoGameCore.QueryStore.instance.userPointRecords,r=i.records;t.push({title:!0,tradeno:"PCPlaza.records.credit.tradeno",jointime:"PCPlaza.records.credit.jointime",code:"PCPlaza.records.credit.trans_type",trans_amount:"PCPlaza.records.credit.trans_amount",remark:"PCPlaza.records.credit.mode"});for(var s=0,n=0;n<r.length;n++){var o=r[n];t.push({title:!1,tradeno:o.tradeno,jointime:o.jointime,code:o.code,trans_amount:o.trans_amount,remark:o.remark}),s+=o.trans_amount}this.txtRecordsInPageNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.recordsInPage")+" "+i.pageNum.toString()},this.txtTotalRecordsNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.ttlRecords")+" "+i.recordsTotal.toString()},this.updatePage(),i.recordsTotal>0?(e.push({trans_amount:s.toString(),subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.subTotal")}),e.push({trans_amount:(i.income+i.expend).toString(),subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.total")}),this.noDataShowUp(!1)):(this.noDataShowUp(!0),this.noData.localeKey="PCPlaza.records.bet.nodata"),this.list.itemRenderer=c.BetHistoryUserPointItemList,this.ttlList.itemRenderer=c.BetHistoryUserPointTotalList,this.collection.replaceAll(t),this.ttlCollection.replaceAll(e)},t.prototype.updateHunterCreditRecords=function(){var t=[],e=[],i=VideoGameCore.QueryStore.instance.hunterCreditRecords,r=i.records;t.push({title:!0,tradeno:"PCPlaza.records.credit.tradeno",jointime:"PCPlaza.records.credit.jointime",trans_type:"PCPlaza.records.credit.trans_type",dst_amount:"PCPlaza.records.credit.dst_amount",income_amount:"PCPlaza.records.credit.income_amount",expend_amount:"PCPlaza.records.credit.expend_amount",src_amount:"PCPlaza.records.credit.src_amount",mode:"PCPlaza.records.credit.mode"});for(var s=0;s<r.length;s++){var n=r[s];t.push({tradeno:n.tradeno,jointime:n.jointime,trans_type:n.code,dst_amount:n.dst_amount,income_amount:Number(n.trans_amount)>=0?n.trans_amount:"",expend_amount:Number(n.trans_amount)<0?n.trans_amount:"",src_amount:n.src_amount,mode:n.remark})}this.txtRecordsInPageNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.recordsInPage")+" "+i.pageNum.toString()},this.txtTotalRecordsNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.ttlRecords")+" "+i.recordsTotal.toString()},this.updatePage(),i.recordsTotal>0?(e.push({income_amount:i.subIncome,expend_amount:i.subExpend,subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.subTotal")}),e.push({income_amount:i.income,expend_amount:i.expend,subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.total")}),this.noDataShowUp(!1)):(this.noDataShowUp(!0),this.noData.localeKey="PCPlaza.records.bet.nodata"),this.list.itemRenderer=c.BetHunterHistoryCreditItemList,this.ttlList.itemRenderer=c.BetHistoryCreditTotalList,this.collection.replaceAll(t),this.ttlCollection.replaceAll(e)},t.prototype.updateHunterBetRecords=function(){var t=[],e=[],i=VideoGameCore.QueryStore.instance.hunterBetRecords,r=i.records,s=0,n=0;t.push({title:!0,sceneid:"PCPlaza.records.hunterBet.sceneid",roomid:"PCPlaza.records.hunterBet.roomid",starttime:"PCPlaza.records.hunterBet.starttime",endtime:"PCPlaza.records.hunterBet.endtime",cost:"PCPlaza.records.hunterBet.cost",earn:"PCPlaza.records.hunterBet.earn",dividend:"PCPlaza.records.hunterBet.dividend"});for(var o=0;o<r.length;o++){var a=r[o];t.push(a),s+=a.cost,n+=a.earn}this.txtRecordsInPageNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.recordsInPage")+" "+i.pageNum.toString()},this.txtTotalRecordsNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.ttlRecords")+" "+i.recordsTotal.toString()},this.updatePage(),i.recordsTotal>0?(e.push({cost:s,earn:n,subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.subTotal")}),e.push({cost:i.ttl_cost,earn:i.ttl_earn,subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.total")}),this.noDataShowUp(!1)):(this.noDataShowUp(!0),this.noData.localeKey="PCPlaza.records.bet.nodata"),this.list.itemRenderer=c.BetHunterHistoryItemList,this.ttlList.itemRenderer=c.BetHunterHistoryTotalList,this.collection.replaceAll(t),this.ttlCollection.replaceAll(e)},t.prototype.updateSlotRecords=function(){var t=[],e=[],i=VideoGameCore.QueryStore.instance.slotGameRecords,r=i.records,s=0,n=0,o=0,a=0;t.push({title:!0,date:"PCPlaza.records.bet.date",billno:"PCPlaza.records.bet.billno",amount:"PCPlaza.records.bet.amount",bonus:"PCPlaza.records.bet.bonus",payout:"PCPlaza.records.bet.payout",validbet:"PCPlaza.records.bet.validbet",gametype:"PCPlaza.records.bet.gametype",type:"PCPlaza.records.bet.type",mainbillno:"PCPlaza.records.bet.mainbillno",status:"PCPlaza.records.bet.status"});for(var h=0;h<r.length;h++){var u=r[h];t.push(u),s+=parseFloat(u.account),n+=parseFloat(u.cus_account),o+=u.valid_account,a+=u.bonus_base}this.txtRecordsInPageNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.recordsInPage")+" "+i.pageNum.toString()},this.txtTotalRecordsNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.ttlRecords")+" "+i.recordsTotal.toString()},this.updatePage(),i.recordsTotal>0?(e.push({amount:s,bonus:a,payout:n,validbet:o,subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.subTotal")}),e.push({amount:i.ttl_account,bonus:a,payout:i.ttl_cus_account,validbet:i.ttl_valid_account,subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.total")}),this.noDataShowUp(!1)):(this.noDataShowUp(!0),this.noData.localeKey="PCPlaza.records.bet.nodata"),this.list.itemRenderer=c.BetSlotHistoryItemList,this.ttlList.itemRenderer=c.BetSlotHistoryTotalList,this.collection.replaceAll(t),this.ttlCollection.replaceAll(e)},t.prototype.updateTainRecords=function(){var t=[],e=[],i=VideoGameCore.QueryStore.instance.tainRecords,r=i.records,s=0,n=0;t.push({title:!0,orderno:"PCPlaza.records.bet.order_no",date:"PCPlaza.records.bet.date",settlementtime:"PCPlaza.records.bet.settlement_time",status:"PCPlaza.records.bet.status",amount:"PCPlaza.records.bet.tain_amount",payout:"PCPlaza.records.bet.payout"});for(var o=0;o<r.length;o++){var a=r[o];t.push(a),s+=parseFloat(a.cus_account),n+=a.valid_account}this.txtRecordsInPageNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.recordsInPage")+" "+i.pageNum.toString()},this.txtTotalRecordsNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.ttlRecords")+" "+i.recordsTotal.toString()},this.updatePage(),i.recordsTotal>0?(e.push({payout:s,validbet:n,subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.subTotal")}),e.push({payout:i.ttl_cus_account,validbet:i.ttl_valid_account,subTotalTitle:Core.LocalizeStore.instance.translate("PCPlaza.records.total")}),this.noDataShowUp(!1)):(this.noDataShowUp(!0),this.noData.localeKey="PCPlaza.records.bet.nodata"),this.list.itemRenderer=c.BetHistoryTainItemList,this.ttlList.itemRenderer=c.BetTainHistoryTotalList,this.collection.replaceAll(t),this.ttlCollection.replaceAll(e)},t.prototype.getDropdownType=function(t,e){var i="",r=t.index;return r>0&&r<=e.length&&(i=e[r-1]),i},t.prototype.getRecords=function(){if(this.showLoading(),this.updateSetting())var t=1;else var t=VideoGameCore.QueryStore.instance.curPage;var e=this.getDropdownType(this.platformDropdown,c.BET_RECORD_PLAT),i=this.getDropdownType(this.creditTransactionDropdown,c.CREDIT_RECORD_PLAT),r=this.getDropdownType(this.userPointTransactionDropdown,c.USER_POINT_RECORD_PLAT),s=new Date;s.setTime(this.startDateMenu.currentTime);var n=new Date;n.setTime(this.endDateMenu.currentTime);var o=this.timeLimited(Number(s.getMonth()+1),Number(n.getMonth()+1),Number(s.getDate()),Number(n.getDate()));if(o){var a=Core.patternDate("yyyy-MM-dd 00:00:00",s),h=Core.patternDate("yyyy-MM-dd 23:59:59",n);switch(this.betHistoryList.selectedItem.key){case VideoGameCore.BET_HISTORY_LIVE:VideoGameCore.QueryStore.instance.requestBetRecord(a,h,t,this.gameId.text,this.billNo.text,e);break;case VideoGameCore.BET_HISTORY_LIVE_CREDIT:VideoGameCore.QueryStore.instance.requestCreditRecord(a,h,t,this.transactionNo.text,i);break;case VideoGameCore.BET_HISTORY_USER_POINT:VideoGameCore.QueryStore.instance.requestUserPointRecord(a,h,t,this.transactionNo.text,r);break;case VideoGameCore.BET_HISTORY_SLOT_GAME:VideoGameCore.QueryStore.instance.requestSlotGameRecord(a,h,t);break;case VideoGameCore.BET_HISTORY_TABLE:VideoGameCore.QueryStore.instance.requestSlotGameRecord(a,h,t,"TABLEGAME");break;case VideoGameCore.BET_HISTORY_FISH:VideoGameCore.QueryStore.instance.requestHunterBetRecords(a,h,t);break;case VideoGameCore.BET_HISTORY_FISH_CREDIT:VideoGameCore.QueryStore.instance.requestHunterCreditRecords(a,h,t,this.transactionNo.text);break;case VideoGameCore.BET_HISTORY_AG_SPORT:VideoGameCore.QueryStore.instance.requestTainRecord(a,h,t,this.billNo.text)}Core.NonstopTimer.instance.clearTimeout(this.reqTimeout),this.reqTimeout=Core.NonstopTimer.instance.setTimeout(function(){this.noDataShowUp(!0),this.noData.localeKey="PCPlaza.records.bet.server_busy"},this,15e3)}else this.hideLoading(),this.noDataShowUp(!0),this.notifyBox.showMsgKey("PCPlaza.records.timeLimited"),this.notifyBox.labelDisplay.size=22},t.prototype.clearAppandGroup=function(){for(;this.appandGrp.numChildren>0;)this.appandGrp.removeChildAt(0)},t.prototype.onClickRecordList=function(t){this.selectBetHistoryList(t.itemIndex)},t.prototype.selectBetHistoryList=function(t){switch(this.betHistoryList.selectedIndex=t,this.initPage(),this.noDataShowUp(!0),this.noData.localeKey="PCPlaza.records.bet.nodata",this.clearAppandGroup(),this.recordId.visible=!1,this.recordBillNo.visible=!1,this.recordPlat.visible=!1,this.recordTransactionNo.visible=!1,this.creditTransactionPlat.visible=!1,this.userPointTransactionPlat.visible=!1,this.betHistoryList.selectedItem.key){case VideoGameCore.BET_HISTORY_LIVE:this.recordId.visible=!0,this.recordBillNo.visible=!0,this.recordPlat.visible=!0;break;case VideoGameCore.BET_HISTORY_LIVE_CREDIT:this.recordTransactionNo.visible=!0,this.creditTransactionPlat.visible=!0;break;case VideoGameCore.BET_HISTORY_USER_POINT:this.recordTransactionNo.visible=!0,this.userPointTransactionPlat.visible=!0;break;case VideoGameCore.BET_HISTORY_FISH_CREDIT:this.recordTransactionNo.visible=!0;break;default:this.betHistoryList.selectedItem.getPanel&&this.appandGrp.addChild(this.betHistoryList.selectedItem.getPanel())}},t.prototype.onCrossClick=function(){this.imgLoading&&egret.Tween.removeTweens(this.imgLoading),Core.globalStore.dispatchGlobal(Core.Ge,this)},t.prototype.onTextChange=function(){var t=Number(this.txtCurPage.text);1>t?this.txtCurPage.text="1":t>VideoGameCore.QueryStore.instance.maxPage&&(this.txtCurPage.text=VideoGameCore.QueryStore.instance.maxPage.toString())},t.prototype.onFocus=function(){this.isCurpageText=!0},t.prototype.outFocus=function(){this.isCurpageText=!1},t.prototype.onKeyDown=function(t){this.isCurpageText&&13==t.keyCode&&VideoGameCore.QueryStore.instance.goSelectPage(Number(this.txtCurPage.text))},t.prototype.onClickPrevFast=function(){VideoGameCore.QueryStore.instance.goFirstPage()},t.prototype.onClickPrev=function(){VideoGameCore.QueryStore.instance.goPrevPage()},t.prototype.onClickNext=function(){VideoGameCore.QueryStore.instance.goNextPage()},t.prototype.onClickNextFast=function(){VideoGameCore.QueryStore.instance.goLastPage()},t.prototype.onTapLblDay=function(t){var e=t.currentTarget,i=e.localToGlobal(0,0);i=this.globalToLocal(i.x,i.y),this.calendarGrp.x=i.x,this.calendarGrp.y=i.y+e.height+5,this.calendarGrp.visible=!0},t.prototype.showLoading=function(){this.loadingView.visible=!0,this.collection.removeAll(),this.noDataGrp.visible=!this.loadingView.visible,this.imgLoading&&egret.Tween.get(this.imgLoading,{loop:!0}).to({rotation:this.rotation+3600},1e4),this.pageCtrl.touchEnabled=!1},t.prototype.hideLoading=function(){this.imgLoading&&egret.Tween.removeTweens(this.imgLoading),this.loadingView.visible=!1,this.pageCtrl.touchEnabled=!0},t.prototype.initSetting=function(){var t=new Date;t.setTime(this.startDateMenu.currentTime);var e=new Date;e.setTime(this.endDateMenu.currentTime),this.oldGameId=this.gameId.text,this.oldBillNo=this.billNo.text,this.oldPlatForm=this.platformDropdown.index,this.oldStartMonth=""+(t.getMonth()+1),this.oldEndMonth=""+(e.getMonth()+1),this.oldStartDay=""+t.getDate(),this.oldEndDay=""+e.getDate(),this.oldTransactionNo=this.transactionNo.text,this.oldCreditTransactionPlat=this.creditTransactionDropdown.index,this.oldUserPointTransactionPlat=this.userPointTransactionDropdown.index},t.prototype.updateSetting=function(){var t=new Date;t.setTime(this.startDateMenu.currentTime);var e=""+(t.getMonth()+1),i=""+t.getDate(),r=new Date;r.setTime(this.endDateMenu.currentTime);var s=""+(r.getMonth()+1),n=""+r.getDate();return this.oldGameId!=this.gameId.text||this.oldBillNo!=this.billNo.text||this.oldPlatForm!=this.platformDropdown.index||this.oldStartMonth!=e||this.oldEndMonth!=s||this.oldStartDay!=i||this.oldEndDay!=n||this.oldTransactionNo!=this.transactionNo.text||this.oldCreditTransactionPlat!=this.creditTransactionDropdown.index||this.oldUserPointTransactionPlat!=this.userPointTransactionDropdown.index?(this.initSetting(),!0):!1},t.prototype.timeLimited=function(t,e,i,r){return t==e?Math.abs(r-i)<7?!0:!1:7>r+28-i?!0:!1},t.prototype.updateCurrentDate=function(){var t=new Date;t.setTime(Core.getEATime(Core.LoginStore.instance.getCurServerTime()));var e=Core.patternDate("yyyy-MM-dd",t);e.split("-")[2]},t.prototype.noDataShowUp=function(t){this.noDataGrp.visible=t,t&&(this.collection.removeAll(),this.ttlCollection.removeAll(),this.txtTotalRecordsNum.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.records.ttlRecords")+" 0"},this.txtTotPage.text="1"),this.btnPrevFast.alpha=VideoGameCore.QueryStore.instance.hasPrevPage()?1:.2,this.btnPrev.alpha=VideoGameCore.QueryStore.instance.hasPrevPage()?1:.2,this.btnNextFast.alpha=VideoGameCore.QueryStore.instance.hasNextPage()?1:.2,this.btnNext.alpha=VideoGameCore.QueryStore.instance.hasNextPage()?1:.2},t}(Core.StoreView);c.BetHistoryPopup=t,__reflect(t.prototype,"PCPlaza.BetHistoryPopup")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(t){return e.call(this,t,"")||this}return __extends(t,e),t}(t.BetHistoryReplayPopup);t.BetHistoryReplayPopupBJ=e,__reflect(e.prototype,"PCPlaza.BetHistoryReplayPopupBJ")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"defaultSkinName",{get:function(){return"PCPlaza.BetHistoryReplayPopupBullSkin"},enumerable:!0,configurable:!0}),e}(t.BetHistoryReplayPopup);t.BetHistoryReplayPopupBull=e,__reflect(e.prototype,"PCPlaza.BetHistoryReplayPopupBull")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"defaultSkinName",{get:function(){return"PCPlaza.BetHistoryReplayPopupShbSkin"},enumerable:!0,configurable:!0}),e}(t.BetHistoryReplayPopup);t.BetHistoryReplayPopupShb=e,__reflect(e.prototype,"PCPlaza.BetHistoryReplayPopupShb")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(r){function t(t,e){var i=r.call(this)||this;return i.pPokers=[],i.bPokers=[],i.data=t,i.result=e,i.skinName="PCPlaza.BetHistoryResultPopupSkin",i.pPokers=[i.pPoker1,i.pPoker2,i.pPoker3],i.bPokers=[i.bPoker1,i.bPoker2,i.bPoker3],i}return __extends(t,r),t.prototype.getStoreList=function(){return[]},t.prototype.onStoreChange=function(t,e,i){var r=this;switch(this.BAC.visible=!1,e){case Core.t:this.crossBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCrossClick,this),this.playBackBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onReplayClick,this),this.gamecode.localeFunc=function(){return r.data?Core.LocalizeStore.instance.translate("PCPlaza.records.bet.game_code")+" : "+r.data.gmcode:""},this.gamecode.refresh(),this.playBackBtn.left=this.gamecode.left+this.gamecode.width+20,Core.IE_DISABLE_REPLAY&&(this.playBackBtn.visible=Core.isFlvSupported()),this.bScoreLabel.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_banker")+" "+r.data.bankerpoint:""},this.bScoreLabel.refresh(),this.pScoreLabel.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?Core.LocalizeStore.instance.translate("PCPlaza.bac.bet_player")+" "+r.data.playerpoint:""},this.pScoreLabel.refresh();var s=this.data.cardlist,n=(s.split(","),s.split(";"));switch(this.setLabelSize(),this.data.gametype){case"CBAC":case"ABAC":case"SBAC":case"LBAC":case"BAC":this.BAC.visible=!0;for(var o=0;3>o;o++){var a=n[0].split(" ");o<a.length?this.pPokers[o].source=VideoGameCore.getCardImgBySize(Number(a[o]),1):this.pPokers[o].source=null}for(var o=0;3>o;o++){var h=n[1].split(" ");o<h.length?this.bPokers[o].source=VideoGameCore.getCardImgBySize(Number(h[o]),1):this.bPokers[o].source=null}}break;case Core.q:this.setLabelSize()}},t.prototype.setLabelSize=function(){var t=Core.LocalizeStore.instance.lang,e=46,i=27;switch(t){case Core.LANG_PT:e=35;break;case Core.LANG_JA:case Core.LANG_TH:case Core.LANG_VI:e=30;break;case Core.LANG_KM:i=24}this.gamecode.size=i,this.pScoreLabel.size=e,this.bScoreLabel.size=e},t.prototype.onCrossClick=function(){Core.globalStore.dispatchGlobal(Core.Ge,this)},t.prototype.onReplayClick=function(){Core.globalStore.dispatchGlobal(Core.Ko,new e.BetHistoryReplayPopup(this.data,this.result))},t}(Core.StoreView);e.BetHistoryResultPopup=t,__reflect(t.prototype,"PCPlaza.BetHistoryResultPopup")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(i){function t(t){var e=i.call(this)||this;return e.data=t,e.skinName="PCPlaza.BetHistoryResultPopupBJSkin",e.crossBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onCrossClick,e),e.playBackBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onReplayClick,e),e.gamecode.localeFunc=function(){return e.data?Core.LocalizeStore.instance.translate("PCPlaza.records.bet.game_code")+" : "+e.data.gmcode:""},e.gamecode.refresh(),e.playBackBtn.left=e.gamecode.left+e.gamecode.width+20,Core.IE_DISABLE_REPLAY&&(e.playBackBtn.visible=Core.isFlvSupported()),e.bj_banker_result=e.data.bj_banker_result.split(","),e.bj_player_result=e.data.bj_player_result.split(","),e.bj_banker_result&&e.bj_player_result&&e.showResult(),e}return __extends(t,i),t.prototype.onCrossClick=function(){Core.globalStore.dispatchGlobal(Core.Ge,this)},t.prototype.onReplayClick=function(){Core.globalStore.dispatchGlobal(Core.Ko,new e.BetHistoryReplayPopupBJ(this.data))},t.prototype.showResult=function(){var r=this,s=(this.bj_banker_result[0],this.bj_banker_result[1]),n=this.bj_banker_result[2],o=this.bj_player_result[0],a=this.bj_player_result[1],h=this.bj_player_result[2],u=this.bj_player_result[3],c=this.bj_player_result[4],t=(this.bj_player_result[5],this.bj_player_result[6],this.data.bj_bet_seatnum);this.biconBJ.visible=!1,this.biconBJ.visible=!1,this.bScoreLabel.localeFunc=function(){return r.data.playtype!=VideoGameCore.PLAYTYPE_BJ_PERFECT_PAIR&&r.data.playtype!=VideoGameCore.PLAYTYPE_BJ_TWENTY_FIRST_PLUS_THREE&&r.data.playtype!=VideoGameCore.PLAYTYPE_BJ_INSURE&&r.data.playtype!=VideoGameCore.PLAYTYPE_BJ_SIDE_INSURE?n&&"1"!=s?n+Core.LocalizeStore.instance.translate("PCPlaza.bj.point"):"":r.data.playtype==VideoGameCore.PLAYTYPE_BJ_INSURE||r.data.playtype==VideoGameCore.PLAYTYPE_BJ_SIDE_INSURE?(r.pLabel.visible=!1,r.pScoreLabel.visible=!1,r.pCardsGrp.visible=!1,r.piconBJ.visible=!1,Core.LocalizeStore.instance.translate("PCPlaza.bj.first_two_card")):r.data.playtype==VideoGameCore.PLAYTYPE_BJ_TWENTY_FIRST_PLUS_THREE?Core.LocalizeStore.instance.translate("PCPlaza.bj.first_card"):""},this.bScoreLabel.refresh(),this.biconBJ.visible="1"==s?!0:!1,this.piconBJ.visible="1"==h?!0:!1,this.data.playtype==VideoGameCore.PLAYTYPE_BJ_ANTE||this.data.playtype==VideoGameCore.PLAYTYPE_BJ_DOUBLE||this.data.playtype==VideoGameCore.PLAYTYPE_BJ_SIDE||this.data.playtype==VideoGameCore.PLAYTYPE_BJ_SIDE_DOUBLE?this.pScoreLabel.localeFunc=function(){return u&&"1"!=h?u+Core.LocalizeStore.instance.translate("PCPlaza.bj.point"):""}:this.data.playtype==VideoGameCore.PLAYTYPE_BJ_ANTE_SPLIT||this.data.playtype==VideoGameCore.PLAYTYPE_BJ_SIDE_SPLIT?this.pScoreLabel.localeFunc=function(){return c?c+Core.LocalizeStore.instance.translate("PCPlaza.bj.point"):""}:this.data.playtype==VideoGameCore.PLAYTYPE_BJ_INSURE||this.data.playtype==VideoGameCore.PLAYTYPE_BJ_SIDE_INSURE?(this.biconBJ.visible=!1,this.piconBJ.visible=!1,this.pScoreLabel.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.bj.first_two_card")}):this.data.playtype==VideoGameCore.PLAYTYPE_BJ_PERFECT_PAIR?(this.bLabel.visible=!1,this.bScoreLabel.visible=!1,this.bCardsGrp.visible=!1,this.biconBJ.visible=!1,this.piconBJ.visible=!1,this.pLabel.y-=50,this.pScoreLabel.y-=50,this.pCardsGrp.y-=50,this.pScoreLabel.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.bj.first_two_card")}):this.data.playtype==VideoGameCore.PLAYTYPE_BJ_TWENTY_FIRST_PLUS_THREE&&(this.biconBJ.visible=!1,this.piconBJ.visible=!1,this.pScoreLabel.localeFunc=function(){return Core.LocalizeStore.instance.translate("PCPlaza.bj.first_two_card")});var e=this.data.bj_cardlist,i=e.split(";"),f=i[0].split("B:")[1];if(f)var C=f.split(" ");else var C=null;var l="P"+t+":",m=e.split(l),d=m[1].split(";");if(d)var v=d[0];else var v=null;if("0"!=c)if(v){var G=v.split(",");if(this.data.playtype==VideoGameCore.PLAYTYPE_BJ_ANTE||this.data.playtype==VideoGameCore.PLAYTYPE_BJ_DOUBLE||this.data.playtype==VideoGameCore.PLAYTYPE_BJ_SIDE||this.data.playtype==VideoGameCore.PLAYTYPE_BJ_SIDE_DOUBLE)var _=G[0].split(" ");else if(this.data.playtype==VideoGameCore.PLAYTYPE_BJ_ANTE_SPLIT||this.data.playtype==VideoGameCore.PLAYTYPE_BJ_SIDE_SPLIT)var _=G[1].split(" ");else if(this.data.playtype==VideoGameCore.PLAYTYPE_BJ_PERFECT_PAIR||this.data.playtype==VideoGameCore.PLAYTYPE_BJ_TWENTY_FIRST_PLUS_THREE)var _=G[0].split(" ")}else var _=null;else if(v)var _=v.split(" ");else var _=null;this.resultLabel.localeFunc=function(){var t="";if(r.data)if(r.data.playtype==VideoGameCore.PLAYTYPE_BJ_PERFECT_PAIR)"0"==o?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_not_pair"):"1"==o?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_perfect_pair"):"2"==o?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_colored_pair"):"3"==o&&(t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_mix_pair"));else if(r.data.playtype==VideoGameCore.PLAYTYPE_BJ_TWENTY_FIRST_PLUS_THREE)t="21 + 3 ","0"==a?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_no_card_type"):"1"==a?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_suited_trips"):"2"==a?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_straight_flush"):"3"==a?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_three_of_a_kind"):"4"==a?t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_straight"):"5"==a&&(t+=Core.LocalizeStore.instance.translate("PCPlaza.bj.result_flush"));else if(r.data.playtype==VideoGameCore.PLAYTYPE_BJ_INSURE||r.data.playtype==VideoGameCore.PLAYTYPE_BJ_SIDE_INSURE)C&&C.length>2&&(C=C.slice(0,2)),t+="1"==s?Core.LocalizeStore.instance.translate("PCPlaza.bj.result_banker_insurance_bj"):Core.LocalizeStore.instance.translate("PCPlaza.bj.result_banker_insurance_not_bj");else{t+="1"==s?Core.LocalizeStore.instance.substitute("PCPlaza.bj.result_banker_bj","Blackjack")+", ":Core.LocalizeStore.instance.substitute("PCPlaza.bj.result_banker",n)+", ";var e=Number(n);if(r.data.playtype!=VideoGameCore.PLAYTYPE_BJ_ANTE_SPLIT&&r.data.playtype!=VideoGameCore.PLAYTYPE_BJ_SIDE_SPLIT){t+="1"==h?Core.LocalizeStore.instance.substitute("PCPlaza.bj.result_player_bj","Blackjack")+", ":Core.LocalizeStore.instance.substitute("PCPlaza.bj.result_player",u)+", ";var i=Number(u)}else{t+=Core.LocalizeStore.instance.substitute("PCPlaza.bj.result_player",c)+", ";var i=Number(c)}t+=e>21&&i>21?Core.LocalizeStore.instance.translate("PCPlaza.bj.banker_win"):e>21?Core.LocalizeStore.instance.translate("PCPlaza.bj.player_win"):i>21?Core.LocalizeStore.instance.translate("PCPlaza.bj.banker_win"):"1"==s&&"1"==h?Core.LocalizeStore.instance.translate("PCPlaza.bj.tie"):"1"==s?Core.LocalizeStore.instance.translate("PCPlaza.bj.banker_win"):"1"==h?Core.LocalizeStore.instance.translate("PCPlaza.bj.player_win"):e==i?Core.LocalizeStore.instance.translate("PCPlaza.bj.tie"):e>i?Core.LocalizeStore.instance.translate("PCPlaza.bj.banker_win"):Core.LocalizeStore.instance.translate("PCPlaza.bj.player_win")}else t="";return t},this.resultLabel.refresh();var b=70,P=.75,V=450;if(null!=C&&(this.bCardsGrp.removeChildren(),this.bCardsList=this.initCards(C),this.bCardsList.length>0))for(var g=b*P,p=this.bCardsList.length,k=(p-1)*g+b,w=(V-k)/2,z=0;z<this.bCardsList.length;z++){var S=this.bCardsList[z];S.x=w,this.bCardsGrp.addChild(S),w+=g}if(null!=_&&(this.pCardsGrp.removeChildren(),this.pCardsList=this.initCards(_),this.pCardsList.length>0))for(var g=b*P,p=this.pCardsList.length,k=(p-1)*g+b,w=(V-k)/2,z=0;z<this.pCardsList.length;z++){var S=this.pCardsList[z];S.x=w,this.pCardsGrp.addChild(S),w+=g}this.setLabelSize()},t.prototype.setLabelSize=function(){var t=Core.LocalizeStore.instance.lang,e=27;switch(t){case Core.LANG_KM:case Core.LANG_ID:e=24}this.gamecode.size=e},t.prototype.initCards=function(t){for(var e=[],i=0;i<t.length;i++){var r=Number(t[i]),s=new eui.Image;s.source=VideoGameCore.getImgByCardCode(r,"cards3_json."),e.push(s)}return e},t}(eui.Component);e.BetHistoryResultPopupBJ=t,__reflect(t.prototype,"PCPlaza.BetHistoryResultPopupBJ")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var l=["D","S","H","C"],t=function(C){function t(t,e){var i=C.call(this)||this;i.bPokers=[],i.pPokers=[],i.p1Pokers=[],i.p2Pokers=[],i.data=t,i.result=e,i.skinName="PCPlaza.BetHistoryResultPopupBullSkin",i.crossBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onCrossClick,i),i.playBackBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onReplayClick,i),i.gamecode.localeFunc=function(){return i.data?Core.LocalizeStore.instance.translate("PCPlaza.records.bet.game_code")+" : "+i.data.gmcode:""},i.gamecode.refresh(),i.playBackBtn.left=i.gamecode.left+i.gamecode.width+20,Core.IE_DISABLE_REPLAY&&(i.playBackBtn.visible=Core.isFlvSupported()),i.bPokers=[i.bPoker1,i.bPoker2,i.bPoker3,i.bPoker4,i.bPoker5],i.pPokers=[i.pPoker1,i.pPoker2,i.pPoker3,i.pPoker4,i.pPoker5],i.p1Pokers=[i.p1Poker1,i.p1Poker2,i.p1Poker3,i.p1Poker4,i.p1Poker5],i.p2Pokers=[i.p2Poker1,i.p2Poker2,i.p2Poker3,i.p2Poker4,i.p2Poker5],i.bPokersMax="";var r=i.data.cardlist,s=(r.split(","),r.split(";")),n=s[0].split(" ");i.firstCard.source=VideoGameCore.getCardImgBySize(Number(n[0]),1);for(var o=0;5>o;o++){var a=s[1].split(" ");if(o<a.length)if(i.bPokers[o].source=VideoGameCore.getCardImgBySize(Number(a[o]),1),1>o)i.bPokersMax=i.bPokers[o].source.toString().substr(i.bPokers[o].source.toString().indexOf(".")+1);else{var h=i.bPokers[o].source.toString().substr(i.bPokers[o].source.toString().indexOf(".")+1);Number(h.substr(1))>Number(i.bPokersMax.substr(1))?i.bPokersMax=h:Number(h.substr(1))==Number(i.bPokersMax.substr(1))&&l.indexOf(h.substr(0,1))>l.indexOf(i.bPokersMax.substr(0,1))&&(i.bPokersMax=h)}else i.bPokers[o].source=null}for(var o=0;5>o;o++){var a=s[2].split(" ");o<a.length?i.pPokers[o].source=VideoGameCore.getCardImgBySize(Number(a[o]),1):i.pPokers[o].source=null}for(var o=0;5>o;o++){var a=s[3].split(" ");o<a.length?i.p1Pokers[o].source=VideoGameCore.getCardImgBySize(Number(a[o]),1):i.p1Pokers[o].source=null}for(var o=0;5>o;o++){var a=s[4].split(" ");o<a.length?i.p2Pokers[o].source=VideoGameCore.getCardImgBySize(Number(a[o]),1):i.p2Pokers[o].source=null}if(i.border0.visible=i.data.bankerpoint>i.data.playerpoint&&i.data.bankerpoint>i.data.playerpoint2&&i.data.bankerpoint>i.data.playerpoint3?!0:!1,i.data.playerpoint>i.data.bankerpoint)i.border1.visible=!0;else if(i.data.playerpoint<i.data.bankerpoint)i.border1.visible=!1;else{for(var u=i.pPokers[0].source.toString().substr(i.pPokers[0].source.toString().indexOf(".")+1),o=1;o<i.pPokers.length;o++){var h=i.pPokers[o].source.toString().substr(i.pPokers[o].source.toString().indexOf(".")+1);Number(h.substr(1))>Number(u.substr(1))?u=h:Number(h.substr(1))==Number(u.substr(1))&&l.indexOf(h.substr(0,1))>l.indexOf(u.substr(0,1))&&(u=h)}Number(u.substr(1))>Number(i.bPokersMax.substr(1))?i.border1.visible=!0:Number(u.substr(1))==Number(i.bPokersMax.substr(1))&&l.indexOf(u.substr(0,1))>l.indexOf(i.bPokersMax.substr(0,1))?i.border1.visible=!0:i.border1.visible=!1}if(i.data.playerpoint2>i.data.bankerpoint)i.border2.visible=!0;else if(i.data.playerpoint2<i.data.bankerpoint)i.border2.visible=!1;else{for(var c=i.p1Pokers[0].source.toString().substr(i.p1Pokers[0].source.toString().indexOf(".")+1),o=1;o<i.p1Pokers.length;o++){var h=i.p1Pokers[o].source.toString().substr(i.p1Pokers[o].source.toString().indexOf(".")+1);Number(h.substr(1))>Number(c.substr(1))?c=h:Number(h.substr(1))==Number(c.substr(1))&&l.indexOf(h.substr(0,1))>l.indexOf(c.substr(0,1))&&(c=h)}Number(c.substr(1))>Number(i.bPokersMax.substr(1))?i.border2.visible=!0:Number(c.substr(1))==Number(i.bPokersMax.substr(1))&&l.indexOf(c.substr(0,1))>l.indexOf(i.bPokersMax.substr(0,1))?i.border2.visible=!0:i.border2.visible=!1}if(i.data.playerpoint3>i.data.bankerpoint)i.border3.visible=!0;else if(i.data.playerpoint3<i.data.bankerpoint)i.border3.visible=!1;else{for(var f=i.p2Pokers[0].source.toString().substr(i.p2Pokers[0].source.toString().indexOf(".")+1),o=1;o<i.p2Pokers.length;o++){var h=i.p2Pokers[o].source.toString().substr(i.p2Pokers[o].source.toString().indexOf(".")+1);Number(h.substr(1))>Number(f.substr(1))?f=h:Number(h.substr(1))==Number(f.substr(1))&&l.indexOf(h.substr(0,1))>l.indexOf(f.substr(0,1))&&(f=h)}Number(f.substr(1))>Number(i.bPokersMax.substr(1))?i.border3.visible=!0:Number(f.substr(1))==Number(i.bPokersMax.substr(1))&&l.indexOf(f.substr(0,1))>l.indexOf(i.bPokersMax.substr(0,1))?i.border3.visible=!0:i.border3.visible=!1}return i.bankerLabel.localeFunc=function(){var t="";return i.data&&"undefined"!=typeof i.data?t=20==i.data.bankerpoint?Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_bull"):50==i.data.bankerpoint?Core.LocalizeStore.instance.translate("PCPlaza.bull.5_bull"):Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_"+i.data.bankerpoint):""},i.bankerLabel.refresh(),i.playerLabel.localeFunc=function(){var t="";return i.data&&"undefined"!=typeof i.data?t=20==i.data.playerpoint?Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_bull"):50==i.data.playerpoint?Core.LocalizeStore.instance.translate("PCPlaza.bull.5_bull"):Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_"+i.data.playerpoint):""},i.playerLabel.refresh(),i.player1Label.localeFunc=function(){var t="";return i.data&&"undefined"!=typeof i.data?t=20==i.data.playerpoint2?Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_bull"):50==i.data.playerpoint2?Core.LocalizeStore.instance.translate("PCPlaza.bull.5_bull"):Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_"+i.data.playerpoint2):""},i.player1Label.refresh(),i.player2Label.localeFunc=function(){var t="";return i.data&&"undefined"!=typeof i.data?t=20==i.data.playerpoint3?Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_bull"):50==i.data.playerpoint3?Core.LocalizeStore.instance.translate("PCPlaza.bull.5_bull"):Core.LocalizeStore.instance.translate("PCPlaza.bull.bull_"+i.data.playerpoint3):""},i.player2Label.refresh(),i}return __extends(t,C),t.prototype.onCrossClick=function(){Core.globalStore.dispatchGlobal(Core.Ge,this)},t.prototype.onReplayClick=function(){Core.globalStore.dispatchGlobal(Core.Ko,new e.BetHistoryReplayPopupBull(this.data,this.result))},t}(eui.Component);e.BetHistoryResultPopupBull=t,__reflect(t.prototype,"PCPlaza.BetHistoryResultPopupBull")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(r){function t(t,e){var i=r.call(this)||this;return i.pPokers=[],i.bPokers=[],i.data=t,i.result=e,i.skinName="PCPlaza.BetHistoryResultPopupDtSkin",i.pPokers=[i.pPoker1,i.pPoker2,i.pPoker3],i.bPokers=[i.bPoker1,i.bPoker2,i.bPoker3],i}return __extends(t,r),t.prototype.getStoreList=function(){return[]},t.prototype.onStoreChange=function(t,e,i){var r=this;switch(this.DT.visible=!1,e){case Core.t:this.crossBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCrossClick,this),this.playBackBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onReplayClick,this),this.gamecode.localeFunc=function(){return r.data?Core.LocalizeStore.instance.translate("PCPlaza.records.bet.game_code")+" : "+r.data.gmcode:""},this.gamecode.refresh(),this.playBackBtn.left=this.gamecode.left+this.gamecode.width+20,Core.IE_DISABLE_REPLAY&&(this.playBackBtn.visible=Core.isFlvSupported());var s=this.result.split(" ");this.bScoreLabel.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?r.getNumber(s[1]):""},this.bScoreLabel.refresh(),this.pScoreLabel.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?r.getNumber(s[0]):""},this.pScoreLabel.refresh();var n=this.data.cardlist,o=(n.split(","),n.split(";"));switch(this.setLabelSize(),this.data.gametype){case"DT":this.DT.visible=!0;for(var a=0;3>a;a++){var h=o[0].split(" ");a<h.length?this.pPokers[a].source=VideoGameCore.getCardImgBySize(Number(h[a]),1):this.pPokers[a].source=null}for(var a=0;3>a;a++){var u=o[1].split(" ");a<u.length?this.bPokers[a].source=VideoGameCore.getCardImgBySize(Number(u[a]),1):this.bPokers[a].source=null}}}},t.prototype.setLabelSize=function(){var t=Core.LocalizeStore.instance.lang,e=27;switch(t){case Core.LANG_KM:case Core.LANG_ID:e=24}this.gamecode.size=e},t.prototype.onCrossClick=function(){Core.globalStore.dispatchGlobal(Core.Ge,this)},t.prototype.onReplayClick=function(){Core.globalStore.dispatchGlobal(Core.Ko,new e.BetHistoryReplayPopup(this.data,this.result))},t.prototype.getNumber=function(t){var e=t.trim(),i="";if(null!=e&&""!=e)for(var r=0;r<e.length;r++)(e.charAt(r)>="0"&&e.charAt(r)<="9"||"J"==e.charAt(r)||"Q"==e.charAt(r)||"K"==e.charAt(r))&&(i+=e.charAt(r));return i},t}(Core.StoreView);e.BetHistoryResultPopupDt=t,__reflect(t.prototype,"PCPlaza.BetHistoryResultPopupDt")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(r){function t(t,e){var i=r.call(this)||this;return i.redColor=14619414,i.greenColor=3578627,i.blackColor=0,i.data=t,i.result=e,i.skinName="PCPlaza.BetHistoryResultPopupRouSkin",i.crossBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onCrossClick,i),i.playBackBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onReplayClick,i),i.gamecode.localeFunc=function(){return i.data?Core.LocalizeStore.instance.translate("PCPlaza.records.bet.game_code")+" : "+i.data.gmcode:""},i.gamecode.refresh(),i.setLabelSize(),i.playBackBtn.left=i.gamecode.left+i.gamecode.width+20,Core.IE_DISABLE_REPLAY&&(i.playBackBtn.visible=Core.isFlvSupported()),i.lblResult.text=i.result,0==Number(i.result)?i.bgNum.fillColor=i.greenColor:i.bgNum.fillColor=VideoGameCore.RoadPaper.rouResultIsRed(Number(i.result))?i.redColor:i.blackColor,i}return __extends(t,r),t.prototype.setLabelSize=function(){var t=Core.LocalizeStore.instance.lang,e=27;switch(t){case Core.LANG_KM:case Core.LANG_ID:e=24}this.gamecode.size=e},t.prototype.onCrossClick=function(){Core.globalStore.dispatchGlobal(Core.Ge,this)},t.prototype.onReplayClick=function(){Core.globalStore.dispatchGlobal(Core.Ko,new e.BetHistoryReplayPopup(this.data,this.result))},t}(eui.Component);e.BetHistoryResultPopupRou=t,__reflect(t.prototype,"PCPlaza.BetHistoryResultPopupRou")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(s){function t(t,e){var i=s.call(this)||this;i.data=t,i.result=e,i.skinName="PCPlaza.BetHistoryResultPopupShbSkin",i.crossBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onCrossClick,i),i.playBackBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onReplayClick,i),i.gamecode.localeFunc=function(){return i.data?Core.LocalizeStore.instance.translate("PCPlaza.records.bet.game_code")+" : "+i.data.gmcode:""},i.gamecode.refresh(),i.playBackBtn.left=i.gamecode.left+i.gamecode.width+20,Core.IE_DISABLE_REPLAY&&(i.playBackBtn.visible=Core.isFlvSupported());var r=i.result.split(",");return i.lblResult.text=VideoGameCore.RoadPaper.shbGetResultSum(parseInt(r[0]),parseInt(r[1]),parseInt(r[2])).toString(),i.dice01.source="nav_asset_json.0"+r[0],i.dice02.source="nav_asset_json.0"+r[1],i.dice03.source="nav_asset_json.0"+r[2],i.setLabelSize(),i}return __extends(t,s),t.prototype.setLabelSize=function(){var t=Core.LocalizeStore.instance.lang,e=27;switch(t){case Core.LANG_KM:case Core.LANG_ID:e=24}this.gamecode.size=e},t.prototype.onCrossClick=function(){Core.globalStore.dispatchGlobal(Core.Ge,this)},t.prototype.onReplayClick=function(){Core.globalStore.dispatchGlobal(Core.Ko,new e.BetHistoryReplayPopupShb(this.data,this.result))},t}(eui.Component);e.BetHistoryResultPopupShb=t,__reflect(t.prototype,"PCPlaza.BetHistoryResultPopupShb")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(i){function t(t){var e=i.call(this)||this;return e.data=t,e.skinName="PCPlaza.BetHistoryResultPopupTainSkin",e.collection=new eui.ArrayCollection,e.list.dataProvider=e.collection,e.collection.replaceAll(t),e.list.itemRenderer=r.BetHistoryTainPopupItemList,e.numRecords.text=String(e.collection.length-1),e}return __extends(t,i),t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickClose,this)},t.prototype.onClickClose=function(){Core.globalStore.dispatchGlobal(Core.Ge,this)},t.prototype.updateDisplay=function(){this.numRecords.text=this.data.records},t}(eui.Component);r.BetHistoryResultPopupTain=t,__reflect(t.prototype,"PCPlaza.BetHistoryResultPopupTain")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(r){function t(t,e){var i=r.call(this)||this;return i.pPokers=[],i.bPokers=[],i.data=t,i.result=e,i.skinName="PCPlaza.BetHistoryResultPopupZJHSkin",i.pPokers=[i.pPoker1,i.pPoker2,i.pPoker3],i.bPokers=[i.bPoker1,i.bPoker2,i.bPoker3],i}return __extends(t,r),t.prototype.getStoreList=function(){return[]},t.prototype.onStoreChange=function(t,e,i){var r=this;switch(this.ZJH.visible=!1,e){case Core.t:this.crossBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCrossClick,this),this.playBackBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onReplayClick,this),this.gamecode.localeFunc=function(){return r.data?Core.LocalizeStore.instance.translate("PCPlaza.records.bet.game_code")+" : "+r.data.gmcode:""},this.gamecode.refresh(),this.playBackBtn.left=this.gamecode.left+this.gamecode.width+20,Core.IE_DISABLE_REPLAY&&(this.playBackBtn.visible=Core.isFlvSupported());var s=this.result.split(" ");this.dLabel.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?Core.LocalizeStore.instance.translate("PCPlaza.zjh.dragon"):""},this.dLabel.refresh(),this.pLabel.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?Core.LocalizeStore.instance.translate("PCPlaza.zjh.phoenix"):""},this.pLabel.refresh(),this.dScore.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?Core.LocalizeStore.instance.translate("PCPlaza.zjh."+s[0]):""},this.dScore.refresh(),this.pScore.localeFunc=function(){return r.data&&"undefined"!=typeof r.result?Core.LocalizeStore.instance.translate("PCPlaza.zjh."+s[1]):""},this.pScore.refresh(),this.border1.visible=1==this.data.zjh_result?!0:!1,this.border2.visible=2==this.data.zjh_result?!0:!1;var n=this.data.cardlist,o=(n.split(","),n.split(";"));switch(this.setLabelSize(),this.data.gametype){case"ZJH":this.ZJH.visible=!0;for(var a=0;3>a;a++){var h=o[0].split(" ");a<h.length?this.pPokers[a].source=VideoGameCore.getCardImgBySize(Number(h[a]),1):this.pPokers[a].source=null}for(var a=0;3>a;a++){var u=o[1].split(" ");a<u.length?this.bPokers[a].source=VideoGameCore.getCardImgBySize(Number(u[a]),1):this.bPokers[a].source=null}}}},t.prototype.setLabelSize=function(){var t=Core.LocalizeStore.instance.lang,e=27;switch(t){case Core.LANG_KM:case Core.LANG_ID:e=24}this.gamecode.size=e},t.prototype.onCrossClick=function(){Core.globalStore.dispatchGlobal(Core.Ge,this)},t.prototype.onReplayClick=function(){Core.globalStore.dispatchGlobal(Core.Ko,new e.BetHistoryReplayPopup(this.data,this.result))},t}(Core.StoreView);e.BetHistoryResultPopupZJH=t,__reflect(t.prototype,"PCPlaza.BetHistoryResultPopupZJH")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(i){function t(){var t=i.call(this)||this;return t.itemList=[],t.skinName="PCPlaza.CalendarPopupSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,i),t.prototype.onAddToStage=function(){if(0==this.itemList.length)for(var t=0;42>t;t++){var e=new r.CalendarItem;e.x=t%7*41,e.y=35*Math.floor(t/7),this.mainGrp.addChild(e),this.itemList.push(e)}this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this),this.setYM(2017,12)},t.prototype.onRemoveFromStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.setYM=function(t,e){var i=this.getWeekNumber(t,e,1),r=this.getMDay(t,e);i=7==i?0:i;for(var s=0;s<this.itemList.length;s++){var n=this.itemList[s],o=s-i+1;i>s||o>r?n.lblDay.text="":n.lblDay.text=o.toString()}this.lblYear.text=Core.LocalizeStore.instance.substitute("PCPlaza.calendar.year_month",t.toString(),e.toString())},t.prototype.getMDay=function(t,e){var i=[31,28,31,30,31,30,31,31,30,31,30,31];return(t%4==0&&t%100!=0||t%400==0)&&(i[1]=29),i[e-1]},t.prototype.getWeekNumber=function(t,e,i){var r=0;if(12>=e&&e>=1)for(var s=1;e>s;s++)i+=this.getMDay(t,s);return r=(t-1+(t-1)/4-(t-1)/100+(t-1)/400+i)%7,Math.ceil(r)},t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this)},t}(eui.Component);r.CalendarPopup=t,__reflect(t.prototype,"PCPlaza.CalendarPopup",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.ChangeNicknamePopupSkin",t}return __extends(t,e),t.prototype.getStoreList=function(){return[]},t.prototype.onStoreChange=function(t,e,i){var r=this;switch(e){case Core.t:this.crossBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCrossClick,this),this.cancelBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCrossClick,this),this.nicknameInput.text=Core.LoginStore.instance.nickName,this.respText.text="",this.confirmBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){var t=r.nicknameInput.text.trim();if(t.length>0){var e=new RegExp("[`~!@#$%^&*()+=|{}':;,\\\\[\\\\].<>/?]");if(e.test(t))r.showText("PCPlaza.nav.nickname_no_symbols");else{var i=new egret.ByteArray;i.writeUTFBytes(t),i.length>16?r.showText("PCPlaza.nav.nickname_rule"):t!==Core.LoginStore.instance.nickName?(null==Core.ChatStore.instance&&Core.ChatStore.init(),Core.ChatStore.instance.changeNickname(t),r.showText("PCPlaza.nav.nickname_change_sent",!0),r.confirmBtn.enabled=!1):r.onCrossClick()}}else r.showText("PCPlaza.nav.nickname_empty")},this)}},t.prototype.showText=function(t,e){void 0===e&&(e=!1),this.respText.text=Core.LocalizeStore.instance.translate(t),this.timeoutId&&Core.NonstopTimer.instance.clearTimeout(this.timeoutId),this.dismiss=e,this.timeoutId=Core.NonstopTimer.instance.setTimeout(this.notifyTimeout,this,3e3)},t.prototype.notifyTimeout=function(){this.respText.text="",this.timeoutId=null,this.dismiss&&this.onCrossClick()},t.prototype.onCrossClick=function(){Core.pageNavigator.getTopPage().removePopup(this,!0),this.timeoutId&&(Core.NonstopTimer.instance.clearTimeout(this.timeoutId),this.timeoutId=null)},t}(Core.StoreView);t.ChangeNicknamePopup=e,__reflect(e.prototype,"PCPlaza.ChangeNicknamePopup")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(n){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.ChangeProfileIconPopupSkin",t}return __extends(t,e),t.prototype.getStoreList=function(){return[]},t.prototype.onStoreChange=function(t,e,i){var r=this;switch(e){case Core.t:var s=Core.StorageManager.instance.getItem("PCPlaza_profile_icon");this.profileIconList.selectedIndex=s&&""!==s?parseInt(s):0,this.crossBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCrossClick,this),this.cancelBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCrossClick,this),this.confirmBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){Core.StorageManager.instance.setItem("PCPlaza_profile_icon",r.profileIconList.selectedIndex+""),n.RootPageStore.instance.updateProfileIcon(),r.onCrossClick()},this)}},t.prototype.onCrossClick=function(){Core.pageNavigator.getTopPage().removePopup(this,!0)},t}(Core.StoreView);n.ChangeProfileIconPopup=t,__reflect(t.prototype,"PCPlaza.ChangeProfileIconPopup")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var r=4e3,s=300,e=function(i){function t(t){var e=i.call(this)||this;return e.skinName="PCPlaza.ExitPlazaPopupSkin",e.parentPage=t,e}return __extends(t,i),t.prototype.show=function(){var t=this;this.alpha=this.parentPage.contains(this)?this.alpha:0,this.parentPage.addPopup(this,!1,0,-200);var e=1-this.alpha;e&&(egret.Tween.removeTweens(this),egret.Tween.get(this).to({alpha:1},s*e).call(function(){egret.Tween.removeTweens(t)},this)),this.clearTimer(),this.timerId=Core.NonstopTimer.instance.setTimeout(this.onTimeout,this,r)},t.prototype.hide=function(){var t=this;this.clearTimer(),this.parent.contains(this)&&(egret.Tween.removeTweens(this),egret.Tween.get(this).to({alpha:0},s*this.alpha).call(function(){egret.Tween.removeTweens(t),t.parentPage&&t.parentPage.removePopup(t,!0,!1)},this))},t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){var t=this;i.prototype.childrenCreated.call(this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){Core.quit()},this),this.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.hide()},this)},t.prototype.clearTimer=function(){Core.NonstopTimer.instance.hasTimeout(this.timerId)&&Core.NonstopTimer.instance.clearTimeout(this.timerId)},t.prototype.onTimeout=function(){this.hide()},t}(eui.Component);t.ExitPlazaPopup=e,__reflect(e.prototype,"PCPlaza.ExitPlazaPopup",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var a=2e3,h=300,t=function(i){function t(t){var e=i.call(this)||this;return e.skinName="PCPlaza.LedNoMoneyPopupSkin",e.parentPage=t,e}return __extends(t,i),t.prototype.show=function(t,e,i,r){var s=this;void 0===i&&(i=!0),void 0===r&&(r=!1),this.vid=e;var n=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(e);n.gmtype===VideoGameCore.GAME_LBAC&&(t/=2),this.lblAmount.text=t.toString(),this.btnEnter.enabled=i,this.btnEnter.localeKey=r?"PCPlaza.room.visit_game":"PCPlaza.room.side_game",this.btnEnter.refresh(),this.parentPage.addPopup(this,!0,0,-200);var o=1-this.alpha;o&&(egret.Tween.removeTweens(this),egret.Tween.get(this).to({alpha:1},h*o).call(function(){egret.Tween.removeTweens(s)},this)),this.clearTimer(),this.timerId=Core.NonstopTimer.instance.setTimeout(this.onTimeout,this,a)},t.prototype.hide=function(){var t=this;this.clearTimer(),this.parent&&this.parent.contains(this)&&(egret.Tween.removeTweens(this),egret.Tween.get(this).to({alpha:0},h*this.alpha).call(function(){egret.Tween.removeTweens(t),t.parentPage&&t.parentPage.removePopup(t,!0,!1)},this))},t.prototype.clearTimer=function(){Core.NonstopTimer.instance.hasTimeout(this.timerId)&&Core.NonstopTimer.instance.clearTimeout(this.timerId)},t.prototype.onTimeout=function(){this.hide()},t.prototype.childrenCreated=function(){var t=this;i.prototype.childrenCreated.call(this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.parentPage&&t.parentPage.removePopup(t,!0,!1)},this),this.btnEnter.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.parentPage&&t.parentPage.removePopup(t,!0,!1),e.RootPageStore.instance.enterGameByVid(t.vid,1)},this)},t}(eui.Component);e.LedNoMoneyPopup=t,__reflect(t.prototype,"PCPlaza.LedNoMoneyPopup",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var h=5e3,u=300,t=function(i){function t(t){var e=i.call(this)||this;return e.countDownDisplay=5,e.skinName="PCPlaza.MaintainPopupSkin",e.parentPage=t,e.countDownTimer=new egret.Timer(900),e.countDownTimer.addEventListener(egret.TimerEvent.TIMER,e.onUpdateTimer,e),mouse.setButtonMode(e.btnBg,!0),e}return __extends(t,i),t.prototype.show=function(t){var e=this;void 0===t&&(t=0),this.alpha=this.parentPage.contains(this)?this.alpha:0,this.parentPage.addPopup(this,!1,0,-200);var i=1-this.alpha;i&&(egret.Tween.removeTweens(this),egret.Tween.get(this).to({alpha:1},u*i).call(function(){egret.Tween.removeTweens(e)},this));var r=0!=t?Core.LocalizeStore.instance.translate("PCPlaza.common.maintaining"):Core.LocalizeStore.instance.translate("PCPlaza.common.maintaining_2"),s=new Date(1e3*t),n=String(s.getHours()),o=s.getMinutes()<10?String("0"+s.getMinutes()):String(s.getMinutes()),a=r.replace("%",n+":"+o);this.textLbl.localeKey=a,this.clearTimer(),this.timerId=Core.NonstopTimer.instance.setTimeout(this.onTimeout,this,h),this.countDownTimer.start()},t.prototype.hide=function(){var t=this;this.clearTimer(),this.parent.contains(this)&&(egret.Tween.removeTweens(this),egret.Tween.get(this).to({alpha:0},u*this.alpha).call(function(){egret.Tween.removeTweens(t),t.parentPage&&t.parentPage.removePopup(t,!0,!1)},this))},t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){var t=this;i.prototype.childrenCreated.call(this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.countDownTimer&&(t.countDownTimer.stop(),t.countDownTimer.removeEventListener(egret.TimerEvent.TIMER,t.onUpdateTimer,t)),t.clearTimer(),e.RootPageStore.instance.backLobby(),t.parentPage&&t.parentPage.removePopup(t,!0,!1)},this)},t.prototype.clearTimer=function(){this.countDownTimer.reset(),this.countDownDisplay=5,Core.NonstopTimer.instance.hasTimeout(this.timerId)&&Core.NonstopTimer.instance.clearTimeout(this.timerId)},t.prototype.onTimeout=function(){this.parentPage&&this.parentPage.removePopup(this,!0,!1),this.countDownTimer.stop(),e.RootPageStore.instance.backLobby()},t.prototype.onUpdateTimer=function(){var t=Core.LocalizeStore.instance.translate("PCPlaza.common.confirm"),e=" ("+this.countDownDisplay+")";this.confirmDisplayLabel.text=t+e,this.countDownDisplay--,this.countDownDisplay<=0&&(this.countDownTimer.reset(),this.countDownTimer.stop(),this.countDownDisplay=5)},t}(eui.Component);e.MaintainPopup=t,__reflect(t.prototype,"PCPlaza.MaintainPopup",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(i){function t(t){var e=i.call(this)||this;return e.skinName="PCPlaza.PasswordPoupSkin",e.parentPage=t,e}return __extends(t,i),t.prototype.show=function(t,e){this.vid=t,this.loginType=e,this.txtPassword.text="",this.parentPage.addPopup(this,!0)},t.prototype.hide=function(){this.parentPage&&this.parentPage.removePopup(this,!0,!1)},t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){var t=this;i.prototype.childrenCreated.call(this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.RootPageStore.instance.enterGameWithPassword(t.vid,t.loginType,t.txtPassword.text),t.hide()},this),this.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.hide()},this)},t}(eui.Component);e.PasswordPopup=t,__reflect(t.prototype,"PCPlaza.PasswordPopup",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.skinName=i.defaultSkinName,i.skin.currentState=VideoGameCore.PCPlazaConfig.instance.showInfoCurrency?"hvCurrency":"notHvCurrency",i.imgPlayer.mask=i.bgMask,i.imgClose.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapClose,i),i.btnScore.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapLevelDescript,i),i.imgPlayer.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapPlayer,i),i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onShow,i),i}return __extends(t,r),Object.defineProperty(t,"Instance",{get:function(){return null==t._me&&(t._me=new t("")),t._me},enumerable:!0,configurable:!0}),t.prototype.onRemoveFromStage=function(){r.prototype.onRemoveFromStage.call(this),this.parent&&this.parent.removePopup(this,!0,!1),this.scaleX=0,this.scaleY=0},t.prototype.onTapClose=function(){this.dismiss(!1)},t.prototype.onTapLevelDescript=function(){e.RootPageStore.instance.openLevelDescriptPage()},t.prototype.onTapPlayer=function(){Core.pageNavigator.getTopPage().addPopup(new e.ChangeProfileIconPopup,!0)},t.prototype.onShow=function(){this.updatePlayerImage(),this.lblName.text=Core.LoginStore.instance.userName,this.lblName2.setFitSizeText(Core.LoginStore.instance.userName);var t=VideoGameCore.UserStore.instance.balance;this.lblMoney.text=""+Core.getStringFixed2(t);var e=""+VideoGameCore.VideoPlazaStore.instance.dayValidBetNum;e.indexOf(".")>=0?this.lblBet.text=""+VideoGameCore.VideoPlazaStore.instance.dayValidBetNum.toFixed(1):this.lblBet.text=e,this.updateUserPoint(),this.lblTime.text=this.getTimeStr(VideoGameCore.VideoPlazaStore.instance.loginLongNum);var i=VideoGameCore.UserStore.instance,r=i.getBetLimitByPlayType(VideoGameCore.PLAYTYPE_BANKER);this.lblLimit.text=r.min+"-"+r.max,this.lblCurrency&&(""!==VideoGameCore.VideoPlazaStore.instance.currencyCode?this.lblCurrency.localeKey="PCPlaza.nav.info_currency_"+VideoGameCore.VideoPlazaStore.instance.currencyCode:this.lblCurrency.localeKey="-"),this.flagImg&&(""!==VideoGameCore.VideoPlazaStore.instance.currencyCode?this.flagImg.source="chip_json.chip_flag_"+VideoGameCore.VideoPlazaStore.instance.currencyCode:this.flagImg.source=null)},t.prototype.updatePlayerImage=function(){var t=this.getIconSource(Core.StorageManager.instance.getItem("PCPlaza_profile_icon"));this.imgPlayer.source!==t&&(this.imgPlayer.source=t)},t.prototype.getIconSource=function(t){t&&""!==t||(t="0");var e=parseInt(t);return 10>e?"profile_asset_json."+(e+1):"profile_asset_json.f_"+(e-10+1)},t.prototype.getTimeStr=function(t){var e=0,i=Math.floor(24*(t-e)),r=Math.floor(60*(24*(t-e)-i)),s="";return i>0&&(s+=i+Core.LocalizeStore.instance.translate("PCPlaza.common.hour")),r>=0&&(s+=r+Core.LocalizeStore.instance.translate("PCPlaza.common.min")),s},Object.defineProperty(t.prototype,"defaultSkinName",{get:function(){return"PCPlaza.PlayerInfoPopupSkin"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultTextKey",{get:function(){return"PCPlaza.common.confirm"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultBtnClass",{get:function(){return e.PopupBtn},enumerable:!0,configurable:!0}),t.prototype.getStoreList=function(){return[VideoGameCore.VideoPlazaStore.instance,VideoGameCore.UserStore.instance,e.RootPageStore.instance,Core.LocalizeStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case VideoGameCore.ke:case VideoGameCore.ei:this.onShow();break;case VideoGameCore.Wa:this.updateUserPoint()}},t.prototype.updateUserPoint=function(){this.lblPoint.text=""+VideoGameCore.VideoPlazaStore.instance.getUserPoint()},t}(Core.PopupBoardBase);e.PlayerInfoPopup=t,__reflect(t.prototype,"PCPlaza.PlayerInfoPopup")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.PopUpPlazaVideoSkin",t.videoPanel=new VideoGameCore.PCVideoPanelBase,t.videoPanel.width=960,t.videoPanel.height=540,t.videoPanel.mask=t.videoMask,t.videoPanelHolder.addChild(t.videoPanel),t.imgClose.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onClickClose,t),t.btnRefresh.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.playVideo()},t),mouse.setButtonMode(t.imgClose,!0),mouse.setButtonMode(t.btnRefresh,!0),t.videoStore=VideoGameCore.VideoFactory.instance.getVideoStoreById(),t.playVideo(),t}return __extends(t,e),t.prototype.playVideo=function(){var t=i.RootPageStore.instance.platform,e=VideoGameCore.VideoConfig.instance.getLiveAddress(t);if(e&&e.url){({flash:e.url+VideoGameCore.VideoPlazaStore.instance.getLiveStreamParamsByPlat(t)});this.videoStore.setStreamList([{src:e.url+VideoGameCore.VideoPlazaStore.instance.getLiveStreamParamsByPlat(t),type:VideoGameCore.VIDEO_TYPE.FLV}]),this.videoPanelHolder.visible=!0,VideoGameCore.VideoFactory.instance.stopPlayer(),this.videoStore.isOpen=!0,VideoGameCore.VideoFactory.instance.startPlayer()}},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.videoPanel.updateLayer(1e3)},t.prototype.stopVideo=function(){VideoGameCore.VideoFactory.instance.stopPlayer(),this.videoPanelHolder.visible=!1},t.prototype.onClickClose=function(){this.stopVideo(),this.videoPanel.updateLayer(0),Core.globalStore.dispatchGlobal(Core.Ge,this)},t}(eui.Component);i.PlazaVideoPopup=t,__reflect(t.prototype,"PCPlaza.PlazaVideoPopup")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e.prototype,"defaultSkinName",{get:function(){return"PCPlaza.RoadSliderScrollerSkin"},enumerable:!0,configurable:!0}),e}(Core.SliderScrollerBase);t.PopupBgmScroller=e,__reflect(e.prototype,"PCPlaza.PopupBgmScroller")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"defaultSkinName",{get:function(){return"PCPlaza.PopupBoardSkin"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultTextKey",{get:function(){return"PCPlaza.common.confirm"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultBtnClass",{get:function(){return i.PopupBtn},enumerable:!0,configurable:!0}),e.prototype.getStoreList=function(){return[]},e.prototype.onStoreChange=function(t,e,i){},e}(Core.PopupBoardBase);i.PopupBoard=t,__reflect(t.prototype,"PCPlaza.PopupBoard")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"defaultSkinName",{get:function(){return"skins.ButtonSkin"},enumerable:!0,configurable:!0}),e}(Core.PopupBtnBase);t.PopupBtn=e,__reflect(e.prototype,"PCPlaza.PopupBtn")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e.prototype,"defaultSkinName",{get:function(){return"PCPlaza.RoadSliderScrollerSkin"},enumerable:!0,configurable:!0}),e}(Core.SliderScrollerBase);t.PopupDayScroller=e,__reflect(e.prototype,"PCPlaza.PopupDayScroller")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(n){var o=10,t=function(e){function t(){var t=e.call(this)||this;return t.currentImageIndex=1,t.countDownNum=599,t.skinName="PCPlaza.PopupMobileAccountSkin",t}return __extends(t,e),t.prototype.getStoreList=function(){return[VideoGameCore.VideoPlazaStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case VideoGameCore.sc:this.updateQrCode(i)}},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.qrCodeValidTimer=new egret.Timer(1e3),VideoGameCore.PlazaSocket.instance.writeBytes(VideoGameCore.getMobileQRCode()),this.imgClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickClose,this),this.backArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBackArrow,this),this.leftArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickNavArrow,this),this.rightArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickNavArrow,this),this.refreshBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRefresh,this),this.qrCodeValidTimer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this),egret.Tween.get(this.qrLoading,{loop:!0}).to({rotation:this.rotation+360},1e3),mouse.setButtonMode(this.imgClose,!0),mouse.setButtonMode(this.refreshBtn,!0),this.loadImages()},t.prototype.onClickClose=function(){Core.globalStore.dispatchGlobal(Core.Ge,this),this.qrCodeValidTimer.stop()},t.prototype.loadImages=function(){for(var t=0,e=0,i=10,r=1;o>=r;r++){var s=new n.MobileAccountImageItem(r);s.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseOverItem,this),s.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseOutItem,this),s.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapItem,this),s.x=t,s.y=e,this.installGuideImageHolder.addChild(s),t+=s.getWidth()+i,r%4==0&&(t=0,e+=s.getHeight()+i)}},t.prototype.onMouseOverItem=function(t){var e=t.currentTarget;e.showBorder(!0)},t.prototype.onMouseOutItem=function(t){var e=t.currentTarget;e.showBorder(!1)},t.prototype.onTapItem=function(t){var e=t.currentTarget;this.installationGuide.visible=!1,this.imagePreview.visible=!0,this.currentImageIndex=e.getIndex(),this.showImage(e.getIndex()),this.updateArrows(),this.updateText()},t.prototype.showImage=function(t){void 0===t&&(t=-1);var e=Core.LANG_EN;switch(Core.LocalizeStore.instance.lang){case Core.LANG_HANS:e=Core.LANG_HANS;break;case Core.LANG_HANT:e=Core.LANG_HANT}-1!=t&&(this.previewImageHolder.source=t+"_"+e+"_jpg")},t.prototype.onClickBackArrow=function(){this.installationGuide.visible=!0,this.imagePreview.visible=!1,this.previewImageHolder.source=""},t.prototype.onClickNavArrow=function(t){switch(t.currentTarget.name){case"leftArrow":1!=this.currentImageIndex&&this.currentImageIndex--;break;case"rightArrow":this.currentImageIndex<o&&this.currentImageIndex++}this.updateArrows(),this.updateText()},t.prototype.updateArrows=function(){this.leftArrow.visible=1!=this.currentImageIndex,this.rightArrow.visible=this.currentImageIndex!=o,this.showImage(this.currentImageIndex)},t.prototype.updateText=function(){this.guideTitle.localeKey="PCPlaza.mobileAccountPopup.step_"+this.currentImageIndex,this.footerText.localeKey="PCPlaza.mobileAccountPopup.instruct_"+this.currentImageIndex},t.prototype.updateQrCode=function(t){var e=VideoGameCore.PCPlazaConfig.instance.mobileConfig.appLink,i=qr.QRCode.create(e+"?qr="+t);for(i.x=i.y=11;this.qrCodeHolder.numChildren>0;)this.qrCodeHolder.removeChildAt(0);this.qrCodeHolder.addChild(i),this.qrURLLabel.setFitSizeText(e),this.qrLoading.visible=!1,this.refreshCountDown()},t.prototype.refreshCountDown=function(){this.countDownNum=599,this.countDownText.text=this.convertToMMSS(this.countDownNum),this.countDownText.visible=!0,this.qrCodeHolder.alpha=1,this.qrCodeValidTimer.reset(),this.qrCodeValidTimer.start()},t.prototype.onClickRefresh=function(){VideoGameCore.PlazaSocket.instance.writeBytes(VideoGameCore.getMobileQRCode()),this.refreshBtn.visible=!1},t.prototype.convertToMMSS=function(t){var e=t%60,i=Math.floor(t%3600/60),r=String(i+1),s=String(e),n="";return n=0==i?Core.LocalizeStore.instance.translate("PCPlaza.mobileAccountPopup.countDown_S").replace("%",s):Core.LocalizeStore.instance.translate("PCPlaza.mobileAccountPopup.countDown_M").replace("%",r)},t.prototype.onTimer=function(){this.countDownNum--,this.countDownText.text=this.convertToMMSS(this.countDownNum),this.countDownNum<=0&&(this.qrCodeValidTimer.stop(),this.countDownText.visible=!1,this.refreshBtn.visible=!0,this.qrCodeHolder.alpha=.1)},t}(Core.StoreView);n.PopupMobileAccount=t,__reflect(t.prototype,"PCPlaza.PopupMobileAccount")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(t,e){return i.call(this,t,e)||this}return __extends(t,i),t}(t.SettingPopupBase);t.SettingPopup=e,__reflect(e.prototype,"PCPlaza.SettingPopup")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(t,e){return i.call(this,t,e)||this}return __extends(t,i),Object.defineProperty(t.prototype,"defaultSkinName",{get:function(){return"PCPlaza.PopupSettingBJSkin"},enumerable:!0,configurable:!0}),t.prototype.onAddToStage=function(){i.prototype.onAddToStage.call(this);var t=VideoGameCore.Bj.getBJSetting();this.updateMenuselected(null!=t&&t["double"]>0?0:1,null!=t&&t.split>0?0:1),this.btnConfirm.y=858},t.prototype.updateMenuselected=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1),this.gMenuDouble.selectedIndex=t,this.gMenuSplit.selectedIndex=e},t.prototype.reset=function(){i.prototype.reset.call(this),this.updateMenuselected()},t.prototype.onTapSave=function(){i.prototype.onTapSave.call(this),VideoGameCore.Bj.saveBJSetting(0==this.gMenuDouble.selectedIndex,0==this.gMenuSplit.selectedIndex)},t}(t.SettingPopupBase);t.SettingPopupBJ=e,__reflect(e.prototype,"PCPlaza.SettingPopupBJ")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.goodRoadSettingList.dataProvider=new eui.ArrayCollection(VideoGameCore.GOOD_ROAD_TYPE_ARRAY),i.goodRoadSettingList.itemRenderer=s,i.reset(),i.goodRoadSettingList.addEventListener(eui.ItemTapEvent.ITEM_TAP,i.onTapItem,i),i.selectAllBox.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapAll,i),i.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapClose,i),i.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTapSave,i),i.ruleBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onOpenRule,i),i}return __extends(t,r),Object.defineProperty(t.prototype,"defaultSkinName",{get:function(){return"PCPlaza.PopupSettingGoodRoadSkin"},enumerable:!0,configurable:!0}),t.prototype.getStoreList=function(){return[Core.LocalizeStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.selectAllBox.selected=this.goodRoadSettingList.selectedIndices.length===this.goodRoadSettingList.dataProvider.length;break;case Core.q:}},t.prototype.onAddToStage=function(){r.prototype.onAddToStage.call(this),this.loadSetting()},t.prototype.onRemoveFromStage=function(){r.prototype.onRemoveFromStage.call(this)},Object.defineProperty(t.prototype,"defaultTextKey",{get:function(){return"PCPlaza.common.confirm"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultBtnClass",{get:function(){return e.PopupBtn},enumerable:!0,configurable:!0}),t.prototype.onTapItem=function(t){this.selectAllBox.selected=this.goodRoadSettingList.selectedIndices.length===this.goodRoadSettingList.dataProvider.length},t.prototype.onTapAll=function(){if(this.selectAllBox.selected){for(var t=[],e=0;e<this.goodRoadSettingList.dataProvider.length;e++)t.push(e);this.goodRoadSettingList.selectedIndices=t}else this.goodRoadSettingList.selectedIndices=[]},t.prototype.onTapClose=function(){this.dismiss(!1)},t.prototype.onTapSave=function(){VideoGameCore.GoodRoadStore.instance.saveGoodRoadSettings(this.goodRoadSettingList.selectedIndices),this.dismiss(!1)},t.prototype.onOpenRule=function(){e.RootPageStore.instance.openRulePage("GOODROAD")},t.prototype.reset=function(){this.goodRoadSettingList.selectedIndices=VideoGameCore.GoodRoadStore.instance.goodRoadSettings.map(function(t){return VideoGameCore.GOOD_ROAD_TYPE_ARRAY.indexOf(t)})},t.prototype.loadSetting=function(){},t}(Core.PopupBoardBase);e.SettingPopupGoodRoad=t,__reflect(t.prototype,"PCPlaza.SettingPopupGoodRoad");var s=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.GoodRoadSettingItemSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){this.itemIndex>=0&&this.roadType!==VideoGameCore.GOOD_ROAD_TYPE_ARRAY[this.itemIndex]&&(this.roadType=VideoGameCore.GOOD_ROAD_TYPE_ARRAY[this.itemIndex],this.updateItem())},t.prototype.updateItem=function(){this.daLu=new VideoGameCore.RoadPaper.RoadDaLuPaper(this.daLuGrp.width,this.daLuGrp.height),this.daLuGrp.removeChildren(),this.daLuGrp.addChild(this.daLu);var t=VideoGameCore.GoodRoadStore.instance.getRoadDataByType(this.roadType);this.daLu.setMapData(t.daLuData),this.roadTypeLabel.localeKey="PCPlaza.goodroad.road_"+this.roadType},t}(eui.ItemRenderer);e.GoodRoadSettingItem=s,__reflect(s.prototype,"PCPlaza.GoodRoadSettingItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(t,e){return i.call(this,t,e)||this}return __extends(t,i),t.prototype.onTapSwitchMusicSound=function(){VideoGameCore.SettingStore.instance.ledBGMSetting(this.switchMusicSound.selected)},t}(t.SettingPopupBase);t.SettingPopupLED=e,__reflect(e.prototype,"PCPlaza.SettingPopupLED")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(t){function e(){var e=t.call(this)||this;return e.skinName="PCPlaza.AdItemRendererSkin",e.basePath=VideoGameCore.PCAdConfig.instance.lobbyBannerConfig.path,e.bgImg.localeFunc=function(){if(e.langConfig){var t=e.langConfig.images.indexOf("http")>-1?"":e.basePath;return t+e.langConfig.images}return""},e.btnImg.localeFunc=function(){return e.changeLang(e.btnImg)},e.btnImg2.localeFunc=function(){return e.changeLang(e.btnImg2)},e.btnImg3.localeFunc=function(){return e.changeLang(e.btnImg3)},e.btnImgBg.localeFunc=function(){return e.changeLang(e.btnImg)},e.btnImgBg2.localeFunc=function(){return e.changeLang(e.btnImg2)},e.btnImgBg3.localeFunc=function(){return e.changeLang(e.btnImg3)},e.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.btnClick(e.btn)},e),e.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.btnClick(e.btn2)},e),e.btn3.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.btnClick(e.btn3)},e),e}return __extends(e,t),Object.defineProperty(e.prototype,"langConfig",{get:function(){if(!this.config)return null;var t=Core.getConfigLang(Core.LocalizeStore.instance.lang);return this.config.langMap.get(t)||this.config.langMap.get(Core.LANG_ANY_CONF)},enumerable:!0,configurable:!0}),e.prototype.changeLang=function(t){this.btnImgArr=[this.btnImg,this.btnImg2,this.btnImg3];var e=this.btnImgArr.indexOf(t);if(this.langConfig&&this.langConfig.button[e]&&""!=this.langConfig.button[e]){var i=this.langConfig.button[e].indexOf("http")>-1?"":this.basePath;return i+this.langConfig.button[e]}return""},e.prototype.btnClick=function(t){this.btnImgArr=[this.btn,this.btn2,this.btn3];var e=this.btnImgArr.indexOf(t),i=this.langConfig.buttonURL[e];this.langConfig&&i&&(-1!==VideoGameCore.PCPlazaConfig.instance.navList.indexOf(VideoGameCore.CONFIG_YOPLAY)&&-1!==i.indexOf(VideoGameCore.CONFIG_YOPLAY)?VideoGameCore.ThirdGameStore.instance.loginGame(VideoGameCore.GAME_YOPLAY):-1!==VideoGameCore.PCPlazaConfig.instance.navList.indexOf(VideoGameCore.CONFIG_EGAMES)&&-1!==i.indexOf(VideoGameCore.CONFIG_EGAMES)?VideoGameCore.ThirdGameStore.instance.loginGame(VideoGameCore.GAME_EGAMES):-1!==VideoGameCore.PCPlazaConfig.instance.navList.indexOf(VideoGameCore.CONFIG_FISH)&&-1!==i.indexOf(VideoGameCore.CONFIG_FISH)?VideoGameCore.ThirdGameStore.instance.loginGame(VideoGameCore.GAME_FISH):-1!==VideoGameCore.PCPlazaConfig.instance.navList.indexOf(VideoGameCore.CONFIG_SPORT)&&-1!==i.indexOf(VideoGameCore.CONFIG_SPORT)?VideoGameCore.ThirdGameStore.instance.loginGame(VideoGameCore.GAME_SPORT):-1!==VideoGameCore.PCPlazaConfig.instance.navList.indexOf(VideoGameCore.PLATFORM_COMP)&&-1!==i.indexOf(VideoGameCore.PLATFORM_COMP)?r.RootPageStore.instance.changeGame(VideoGameCore.GAME_COMP):"USERPOINT"===i?r.RootPageStore.instance.openLevelDescriptPage():Core.openUrl(i))},e.prototype.dataChanged=function(){this.config=this.data;var t=["","2","3"];if(this.config&&this.langConfig){this.bgImg.refresh();for(var e=0;e<this.btnImgArr.length;e++){var i=t[e];if(null!=this["btnImg"+i]&&(this["btnImg"+i].refresh(),this["btnImgBg"+i].refresh(),this.langConfig.buttonPos&&this.langConfig.buttonPos[e])){var r=this.langConfig.buttonPos[e].split(","),s=this.langConfig.buttonScale;null!=this["btnGrp"+i]&&r&&(this["btnGrp"+i].x=parseInt(r[0]),this["btnGrp"+i].y=parseInt(r[1]),s&&(this["btnGrp"+i].scaleX=this["btnGrp"+i].scaleY=Number(s)),this["btn"+i].mask=this["btnImgBg"+i])}}}},e}(eui.ItemRenderer);r.AdItemRenderer=t,__reflect(t.prototype,"PCPlaza.AdItemRenderer")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(s){var t=function(r){function t(t){var e=r.call(this)||this;e.skinName="PCPlaza.AdItemViewSkin",e.type=t,e.adData=new eui.ArrayCollection([]),e.adList.dataProvider=e.adData,e.adList.itemRenderer=s.AdItemRenderer,[s.ITEM_FULL_VIDEO,s.ITEM_AD_VIDEO].indexOf(e.type)>=0&&(e.videoPanel=new s.AdVideoPanel(s.AD_ROOT_ID),e.videoPanel.width=847,e.videoPanel.height=476,e.videoPanel.mask=e.videoMask,e.videoPanelHolder.addChild(e.videoPanel));var i=VideoGameCore.PCPlazaConfig.instance.mapConfig;return i.enable&&i.platform.indexOf(s.RootPageStore.instance.platform)>=0?(e.liveAddress=i.address,e.phoneLbl.text=i.tel,e.contactGrp.visible=!0):e.contactGrp.visible=!1,egret.callLater(function(){e.scrollView.items=e.adList.numChildren},e),e.scrollView.addEventListener(s.ScrollView.EVENT_INDEX_CHANGE,function(){e.setUpdateTimer(),e.pagination.selectedIndex=e.scrollView.scrollIndex},e),e.btnZoom.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClickBtnZoom,e),e.btnUpdate.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.playVideo()},e),e.pagination.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.onChangePage,e),e.tabList.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.onSelectTab,e),e}return __extends(t,r),t.prototype.onRemoveFromStage=function(){r.prototype.onRemoveFromStage.call(this),this.clearUpdateTimer(),this.stopVideo()},t.prototype.getStoreList=function(){return[Core.LocalizeStore.instance,s.RootPageStore.instance,Core.globalStore]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:case s.oh:var r=VideoGameCore.PCAdConfig.instance.getAdConfigListByPlatform(s.RootPageStore.instance.platform);this.adData.replaceAll(r),this.pagination.dataProvider=new eui.ArrayCollection(new Array(r.length)),this.scrollView.moveTo(0),this.type===s.ITEM_AD_VIDEO&&(this.tabGrp.visible=!0,this.tabList.selectedIndex=0),this.updateUI(),s.RootPageStore.instance.platform===VideoGameCore.PLATFORM_VIP&&this.tabArrayCollection.length>=2?this.tabArrayCollection.removeItemAt(1):s.RootPageStore.instance.platform!==VideoGameCore.PLATFORM_VIP&&this.tabArrayCollection.length<2&&this.tabArrayCollection.addItem({text:"PCPlaza.nav.live_video"}),this.updateBanner();break;case Core.q:this.updateUI();break;case VideoGameCore.oc:this.updateBanner()}},t.prototype.updateBanner=function(){var i=VideoGameCore.VideoPlazaStore.instance.showPlatformList,t=VideoGameCore.PCAdConfig.instance.getAdConfigListByPlatform(s.RootPageStore.instance.platform),r=new Array;t.map(function(t,e){-1==t.hidePID.indexOf(Core.ExternalData.pid)&&(1==t.onlyPID.length&&""==t.onlyPID[0]?(""==t.showbannerId||i.indexOf(t.showbannerId)>=0)&&r.push(t):t.onlyPID.indexOf(Core.ExternalData.pid)>=0&&(""==t.showbannerId||i.indexOf(t.showbannerId)>=0)&&r.push(t))}),this.adData.replaceAll(r),this.pagination.dataProvider=new eui.ArrayCollection(new Array(r.length))},t.prototype.onChangePage=function(t){this.scrollView.moveTo(t.itemIndex)},t.prototype.onSelectTab=function(t){this.updateUI()},t.prototype.updateUI=function(){var t;if(this.type===s.ITEM_AD||0===this.tabList.selectedIndex?(this.setUpdateTimer(),this.stopVideo(),this.videoPanelHolder.visible=!1,this.adGrp.visible=!0,t=!1):(this.type===s.ITEM_FULL_VIDEO||1===this.tabList.selectedIndex)&&(this.playVideo(),this.clearUpdateTimer(),this.adGrp.visible=!1,this.videoPanelHolder.visible=!0,t=!0),this.liveAddress){var e=t?590:660,i=this.liveTitleLbl.width>0?this.liveTitleLbl.width+42:100;this.liveAddrLbl.width=e-i,this.liveAddrLbl.setFixSizeText(this.liveAddress,this.liveAddrLbl.width),this.contactGrp.visible=this.type!==s.ITEM_AD}this.btnGrp.visible=t},t.prototype.updateAd=function(){this.pagination.selectedIndex===this.adData.length-1?this.scrollView.moveTo(0):this.scrollView.nextItem()},t.prototype.setUpdateTimer=function(){var t=VideoGameCore.PCAdConfig.instance.lobbyBannerConfig.refreshTime;this.clearUpdateTimer(),this.updateTimer=egret.setInterval(this.updateAd,this,t)},t.prototype.clearUpdateTimer=function(){this.updateTimer&&(egret.clearInterval(this.updateTimer),this.updateTimer=null)},t.prototype.playVideo=function(){var t=s.RootPageStore.instance.platform,e=VideoGameCore.VideoConfig.instance.getLiveAddress(t);if(e&&e.url){var i=VideoGameCore.VideoFactory.instance.getVideoStoreById(s.AD_ROOT_ID);this.videoPanelHolder.visible=!0,i.isOpen&&VideoGameCore.VideoFactory.instance.stopPlayer(s.AD_ROOT_ID),i.setStreamList([{src:e.url+VideoGameCore.VideoPlazaStore.instance.getLiveStreamParamsByPlat(t),type:VideoGameCore.VIDEO_TYPE.FLV}]),i.vid=t,VideoGameCore.VideoFactory.instance.openPlayer(s.AD_ROOT_ID)}this.btnZoom.selected=!1},t.prototype.stopVideo=function(){VideoGameCore.VideoFactory.instance.stopPlayer(s.AD_ROOT_ID),this.videoPanelHolder.visible=!1},t.prototype.onClickBtnZoom=function(){Core.pageNavigator.getTopPage().hasPopup(s.PlazaVideoPopup)||Core.globalStore.dispatchGlobal(Core.Ko,new s.PlazaVideoPopup)},t}(Core.StoreView);s.AdItemView=t,__reflect(t.prototype,"PCPlaza.AdItemView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.renderMode=VideoGameCore.VIDEO_RENDER_MODE.BITMAP,e.skinName="PCPlaza.AdVideoPanelSkin",e}return __extends(t,i),t}(VideoGameCore.PCVideoPanelBase);t.AdVideoPanel=e,__reflect(e.prototype,"PCPlaza.AdVideoPanel")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.anchorName="",e.vid="",e.skinName="PCPlaza.AnchorInfoViewSkin",e.infoMoreBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){if(e.hasInfo){var t=VideoGameCore.LiveAnchorConfig.instance.anchorInfoMap.get(e.anchorName);t&&Core.openUrl(t.infoURL,t.nameEn,VideoGameCore.LiveAnchorConfig.instance.width,VideoGameCore.LiveAnchorConfig.instance.height)}},e),e}return __extends(e,t),Object.defineProperty(e.prototype,"hasInfo",{get:function(){return""!==this.anchorName},enumerable:!0,configurable:!0}),e.prototype.getStoreList=function(){return[VideoGameCore.VideoPlazaStore.instance,Core.LocalizeStore.instance]},e.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.updateAnchorInfo();break;case Core.q:this.updateAnchorInfo();break;case VideoGameCore.st:i&&i!==this.vid||this.updateAnchorInfo()}},e.prototype.updateAnchorInfo=function(){if(""!==this.vid){var t=VideoGameCore.VideoPlazaStore.instance.getMicDealerInfo(this.vid);if(t){if(this.anchorName=t.name,""!==this.anchorName){var e=VideoGameCore.AnchorConfig.instance.findById(this.anchorName);if(e){var i=e.birthday.split("-");this.birthdayLabel.text=Core.LocalizeStore.instance.substitute("PCPlaza.anchor.birthday",i[0],i[1]),this.heightLabel.text=e.height,this.weightLabel.text=e.weight,this.bodyLabel.text=e.bwh,this.interestLabel.text=e.interest[Core.LocalizeStore.instance.lang]}else this.anchorName=""}}else this.anchorName=""}},e}(Core.StoreView);t.AnchorInfoView=e,__reflect(e.prototype,"PCPlaza.AnchorInfoView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(r){function t(t){var e=r.call(this,t)||this;return e.skinName="PCPlaza.BJRoomItemViewSkin",e.sideBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onSideBtnTap,e),e}return __extends(t,r),t.prototype.setupRoadPaper=function(){},t.prototype.updateRoadPaper=function(){var t=VideoGameCore.PlazaRoadStore.instance.getBjRoadDataMap(this.vid);this.roadmapPanel.setDataList(t)},t.prototype.onEnterGameTap=function(){this.isMaintaining||e.RootPageStore.instance.enterGameByVid(this.vid,2)},t.prototype.onSideBtnTap=function(){e.RootPageStore.instance.enterGameByVid(this.vid,1)},t.prototype.onRoadMapTap=function(){this.enterBtn.enabled?this.onEnterGameTap():this.sideBtn.enabled&&this.onSideBtnTap()},t.prototype.onStoreChange=function(t,e,i){switch(r.prototype.onStoreChange.call(this,t,e,i),e){case Core.t:}},t.prototype.updateStatistics=function(){r.prototype.updateStatistics.call(this);var t="side_game",e=VideoGameCore.PlazaRoadStore.instance.getRealtimeInfo(this.vid);e?(e.seated<VideoGameCore.MAX_TABLE_SEAT?(this.enterBtn.enabled=!0,this.sideBtn.enabled=!0,Core.LoginStore.instance.isDemoAc||(t="select_seat")):(this.enterBtn.enabled=!1,this.sideBtn.enabled=!0),Core.LoginStore.instance.isDemoAc&&(this.enterBtn.enabled=!1)):(this.enterBtn.enabled=!1,this.sideBtn.enabled=!1),this.sideBtn.localeKey="PCPlaza.room."+t,this.sideBtn.refresh(),this.updateBtnStatus()},t.prototype.checkMaintain=function(){var t=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.vid),e=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(t.platformtype,this.vid),i=VideoGameCore.PlazaRoadStore.instance.getVideoStatusInfo(this.vid);if(null!=i){var r=11==i.status;this.msgGrp.visible=r,r&&(this.lblPopupMsg.text=Core.LocalizeStore.instance.translate("PCPlaza.room.shuffle"))}e&&(this.msgGrp.visible=e,this.lblPopupMsg.text=Core.LocalizeStore.instance.translate("PCPlaza.room.maintain"),this.enterBtn.enabled=!1,this.enterBtn.touchEnabled=!1,this.sideBtn.enabled=!1,this.updateBtnStatus())},t.prototype.updateBtnStatus=function(){VideoGameCore.setDark(this.enterBtn,!this.enterBtn.enabled),VideoGameCore.setDark(this.sideBtn,!this.sideBtn.enabled)},t}(e.RoomItemViewBase);e.BJRoomItemView=t,__reflect(t.prototype,"PCPlaza.BJRoomItemView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(r){function t(t){var e=r.call(this,t)||this;return e.skinName="PCPlaza.DTRoomItemViewSkin",e.chartBtn.currentState="off",e.chartBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onChartBtnTap,e),e}return __extends(t,r),t.prototype.setupRoadPaper=function(){this.zhuZaiLuPaper||(this.zhuZaiLuPaper=new VideoGameCore.RoadPaper.RoadZhuZaiPaper(250,150,["PCPlaza.room.roadmap_dragon","PCPlaza.room.roadmap_tiger","PCPlaza.room.roadmap_tie"]),this.zhuZaiLuPaper.x=0,this.zhuZaiLuPaper.y=0,this.roadMapArea.addChild(this.zhuZaiLuPaper),this.daLuPaper=new VideoGameCore.RoadPaper.RoadDaLuPaper(450,75),this.daLuPaper.x=250,this.daLuPaper.y=0,this.roadMapArea.addChild(this.daLuPaper),this.xiaoLuPaper=new VideoGameCore.RoadPaper.RoadXiaoLuPaper(225,37.5),this.xiaoLuPaper.x=250,this.xiaoLuPaper.y=112.5,this.roadMapArea.addChild(this.xiaoLuPaper),this.daYanLuPaper=new VideoGameCore.RoadPaper.RoadDaYanLuPaper(450,37.5),this.daYanLuPaper.x=250,this.daYanLuPaper.y=75,this.roadMapArea.addChild(this.daYanLuPaper),this.xiaoQiangLuPaper=new VideoGameCore.RoadPaper.RoadXiaoQiangLuPaper(225,37.5),this.xiaoQiangLuPaper.x=475,this.xiaoQiangLuPaper.y=112.5,this.roadMapArea.addChild(this.xiaoQiangLuPaper))},t.prototype.updateRoadPaper=function(){var t;if(t=VideoGameCore.PlazaRoadStore.instance.getRoadData(this.vid)){this.zhuZaiLuPaper.setListData(t.zhuZaiLuData),this.daLuPaper.setMapData(t.daLuData),this.xiaoLuPaper.setMapData(t.xiaoLuData),this.daYanLuPaper.setMapData(t.daYanLuData),this.xiaoQiangLuPaper.setMapData(t.xiaoQiangLuData),this.chartRedLbl.text=""+t.redCount,this.chartBlueLbl.text=""+t.blueCount,this.chartTieLbl.text=""+t.tieCount;var e=0==t.totalCount?1:t.totalCount,i=Math.floor(100*t.redCount/e);this.chartRedPctLbl.text=0==i?"":i+"%",i>0&&5>i&&(i=5),this.chartRedPctLbl.parent.percentWidth=i,i=Math.floor(100*t.blueCount/e),this.chartBluePctLbl.text=0==i?"":i+"%",i>0&&5>i&&(i=5),this.chartBluePctLbl.parent.percentWidth=i,i=Math.floor(100*t.tieCount/e),this.chartTiePctLbl.text=4>=i?"":i+"%",i>0&&5>i&&(i=5),this.chartTiePctLbl.parent.percentWidth=i}},t.prototype.onEnterGameTap=function(){this.isMaintaining||e.RootPageStore.instance.enterGameByVid(this.vid)},t.prototype.onStoreChange=function(t,e,i){switch(r.prototype.onStoreChange.call(this,t,e,i),e){case Core.t:this.chartBtn.visible=VideoGameCore.PCGameConfig.instance.statConfig.showRound}},t.prototype.updateStatistics=function(){r.prototype.updateStatistics.call(this);var t=VideoGameCore.PlazaRoadStore.instance.getRealtimeInfo(this.vid);this.redLbl.text=t?Core.getStringShortNum(t.credit1)+" / "+t.n1:"0 / 0",this.blueLbl.text=t?Core.getStringShortNum(t.credit2)+" / "+t.n2:"0 / 0",this.tieLbl.text=t?Core.getStringShortNum(t.credit3)+" / "+t.n3:"0 / 0"},t.prototype.onChartBtnTap=function(){this.roadMapArea.visible=!this.roadMapArea.visible,this.chartGrp.visible=!this.chartGrp.visible,"off"===this.chartBtn.currentState?this.chartBtn.currentState="on":this.chartBtn.currentState="off"},t}(e.RoomItemViewBase);e.DTRoomItemView=t,__reflect(t.prototype,"PCPlaza.DTRoomItemView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(s){function t(t){var e=s.call(this,t)||this;return e.anchorInfoState=0,e.moveOutTimer=0,e.maxBtnWidth=100,e.skinName="PCPlaza.LBACRoomItemViewSkin",e.updateVideoLimit(),e.chartBtn.currentState="off",e.anchorInfoView.vid=e.vid,e.anchorInfoGrp.mask=e.anchorInfoMask,e.anchorInfoGrp.touchEnabled=!1,e.anchorInfoGrp.touchChildren=!1,e.anchorInfoGrp.left=2e3,egret.callLater(function(){e.anchorInfoGrp.touchEnabled=!1,e.anchorInfoGrp.touchChildren=!1,e.anchorInfoGrp.left=130-e.anchorInfoGrp.width},e),e}return __extends(t,s),t.prototype.onAddToStage=function(){s.prototype.onAddToStage.call(this),this.chartBtn.visible=VideoGameCore.PCGameConfig.instance.statConfig.showRound,this.chartBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onChartBtnTap,this),this.btnBeadType.visible=VideoGameCore.PCGameConfig.instance.showRoadMapNum,this.btnBeadType.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapBeadType,this),mouse.setButtonMode(this.btnBeadType,!0),this.sideBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSideGameTap,this),this.micDealerGrp.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseAnchorOver,this),this.micDealerGrp.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseAnchorOut,this),this.micDealerGrp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGameTap,this),mouse.setButtonMode(this.micDealerGrp,!0),this.micDealerGrp.touchChildren=!1,this.anchorInfoGrp.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseAnchorInfoOver,this),this.anchorInfoGrp.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseAnchorInfoOut,this),this.reduceBtnLableSize(this.sideBtn)},t.prototype.reduceBtnLableSize=function(t,e){if(void 0===e&&(e=12),!(t.width<=this.maxBtnWidth)){t.width=t.minWidth;var i=t.label.split(" ");t.label=1==i.length?i[0]:i[0]+"\n"+i[1];var r=t.getChildAt(1);r&&(r.top=0,r.bottom=0,r.left=0,r.right=0,r.size=e),t.height=t.maxHeight}},t.prototype.onRemoveFromStage=function(){s.prototype.onRemoveFromStage.call(this),this.chartBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onChartBtnTap,this),mouse.setButtonMode(this.btnBeadType,!1),this.btnBeadType.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapBeadType,this),this.sideBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSideGameTap,this),this.micDealerGrp.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseAnchorOver,this),this.micDealerGrp.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseAnchorOut,this),this.micDealerGrp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGameTap,this),mouse.setButtonMode(this.micDealerGrp,!1),this.anchorInfoGrp.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMouseAnchorInfoOver,this),this.anchorInfoGrp.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMouseAnchorInfoOut,this)},t.prototype.onMouseAnchorOver=function(t){Core.NonstopTimer.instance.clearTimeout(this.moveOutTimer),(0===this.anchorInfoState||3===this.anchorInfoState)&&this.toggleAnchor()},t.prototype.onMouseAnchorOut=function(t){this.moveOutTimer=Core.NonstopTimer.instance.setTimeout(function(){(1===this.anchorInfoState||2===this.anchorInfoState)&&this.toggleAnchor()},this,5)},t.prototype.onMouseAnchorInfoOver=function(t){Core.NonstopTimer.instance.clearTimeout(this.moveOutTimer),3===this.anchorInfoState&&this.toggleAnchor()},t.prototype.onMouseAnchorInfoOut=function(t){this.moveOutTimer=Core.NonstopTimer.instance.setTimeout(function(){(1===this.anchorInfoState||2===this.anchorInfoState)&&this.toggleAnchor()},this,5)},t.prototype.toggleAnchor=function(){if(egret.Tween.removeTweens(this.anchorInfoGrp),this.anchorInfoView.hasInfo)switch(this.anchorInfoState){case 0:case 3:this.anchorInfoState=1,Core.NonstopTimer.instance.clearTimeout(this.moveOutTimer),egret.Tween.get(this.anchorInfoGrp).to({left:130},300).call(function(){this.anchorInfoGrp.touchEnabled=!0,this.anchorInfoGrp.touchChildren=!0,this.anchorInfoState=2},this);break;case 1:case 2:this.anchorInfoState=3,this.anchorInfoGrp.touchEnabled=!1,this.anchorInfoGrp.touchChildren=!1,egret.Tween.get(this.anchorInfoGrp).to({left:130-this.anchorInfoGrp.width},300).call(function(){this.anchorInfoState=0},this)}},t.prototype.closeAnchorInfo=function(){var t=this;egret.callLater(function(){t.anchorInfoGrp.left=130-t.anchorInfoGrp.width,t.anchorInfoState=0},this)},t.prototype.setupRoadPaper=function(){var t=!1,e=VideoGameCore.VideoPlazaStore.instance.getMicDealerInfo(this.vid);e&&(t=e.offWork),this.zhuZaiLuPaper&&225==this.zhuZaiLuPaper.width&&!t||this.zhuZaiLuPaper&&250==this.zhuZaiLuPaper.width&&t||(this.zhuZaiLuPaper&&this.roadMapArea.removeChild(this.zhuZaiLuPaper),this.zhuZaiLuPaper=new VideoGameCore.RoadPaper.RoadZhuZaiPaper(t?250:225,150,["PCPlaza.room.roadmap_banker","PCPlaza.room.roadmap_player","PCPlaza.room.roadmap_tie"]),this.zhuZaiLuPaper.x=0,this.zhuZaiLuPaper.y=0,this.zhuZaiLuPaper.beadType=this.btnBeadType.selected?1:0,this.roadMapArea.addChild(this.zhuZaiLuPaper),this.daLuPaper&&this.roadMapArea.removeChild(this.daLuPaper),this.daLuPaper=new VideoGameCore.RoadPaper.RoadDaLuPaper(t?450:350,75),this.daLuPaper.x=t?250:225,this.daLuPaper.y=0,this.roadMapArea.addChild(this.daLuPaper),this.xiaoLuPaper&&this.roadMapArea.removeChild(this.xiaoLuPaper),this.xiaoLuPaper=new VideoGameCore.RoadPaper.RoadXiaoLuPaper(t?225:175,37.5),this.xiaoLuPaper.x=t?250:225,this.xiaoLuPaper.y=112.5,this.roadMapArea.addChild(this.xiaoLuPaper),this.daYanLuPaper&&this.roadMapArea.removeChild(this.daYanLuPaper),this.daYanLuPaper=new VideoGameCore.RoadPaper.RoadDaYanLuPaper(t?450:350,37.5),this.daYanLuPaper.x=t?250:225,this.daYanLuPaper.y=75,this.roadMapArea.addChild(this.daYanLuPaper),this.xiaoQiangLuPaper&&this.roadMapArea.removeChild(this.xiaoQiangLuPaper),this.xiaoQiangLuPaper=new VideoGameCore.RoadPaper.RoadXiaoQiangLuPaper(t?225:175,37.5),this.xiaoQiangLuPaper.x=t?475:400,this.xiaoQiangLuPaper.y=112.5,this.roadMapArea.addChild(this.xiaoQiangLuPaper))},t.prototype.updateRoadPaper=function(){var t;if(t=VideoGameCore.PlazaRoadStore.instance.getRoadData(this.vid)){this.zhuZaiLuPaper.setListData(t.zhuZaiLuData),this.daLuPaper.setMapData(t.daLuData),this.xiaoLuPaper.setMapData(t.xiaoLuData),this.daYanLuPaper.setMapData(t.daYanLuData),this.xiaoQiangLuPaper.setMapData(t.xiaoQiangLuData),this.chartBankerLbl.text=""+t.redCount,this.chartPlayerLbl.text=""+t.blueCount,this.chartTieLbl.text=""+t.tieCount;var e=0==t.totalCount?1:t.totalCount,i=Math.floor(100*t.redCount/e);this.chartBankerPctLbl.text=0==i?"":i+"%",i>0&&5>i&&(i=5),this.chartBankerPctLbl.parent.percentWidth=i,i=Math.floor(100*t.blueCount/e),this.chartPlayerPctLbl.text=0==i?"":i+"%",i>0&&5>i&&(i=5),this.chartPlayerPctLbl.parent.percentWidth=i,i=Math.floor(100*t.tieCount/e),this.chartTiePctLbl.text=4>=i?"":i+"%",i>0&&5>i&&(i=5),this.chartTiePctLbl.parent.percentWidth=i}},t.prototype.onEnterGameTap=function(){if(!this.isMaintaining){var t=VideoGameCore.VideoPlazaStore.instance.getVipVideoInfo(this.vid),e=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.vid);if(t){var i=t.minCredit;e&&e.gmtype===VideoGameCore.GAME_LBAC&&(i/=2),VideoGameCore.UserStore.instance.balance<i?Core.globalStore.dispatchGlobal(VideoGameCore.sh,{vid:this.vid,amount:t.minCredit,enterEnabled:this.sideBtn.enabled}):t.canEnter&&this.enterBtn.enabled?r.RootPageStore.instance.enterGameByVid(this.vid,2):r.RootPageStore.instance.enterGameByVid(this.vid,1)}else Core.globalStore.dispatchGlobal(VideoGameCore.sh,{vid:this.vid,amount:1e4,enterEnabled:this.sideBtn.enabled})}},t.prototype.onSideGameTap=function(){this.isMaintaining||r.RootPageStore.instance.enterGameByVid(this.vid,1)},t.prototype.onRoadMapTap=function(){this.enterBtn.enabled?this.onEnterGameTap():this.sideBtn.enabled&&this.onSideGameTap()},t.prototype.onStoreChange=function(t,e,i){switch(s.prototype.onStoreChange.call(this,t,e,i),e){case Core.t:break;case VideoGameCore.hc:this.updateVideoLimit(),this.updateStatistics();break;case Core.q:this.updateDealerInfo(),this.closeAnchorInfo()}},t.prototype.updateStatistics=function(){s.prototype.updateStatistics.call(this);var t=VideoGameCore.PlazaRoadStore.instance.getRealtimeInfo(this.vid);this.bankerLbl.localeKey=t?Core.getStringShortNum(t.credit2)+" / "+t.n2:"0 / 0",this.playerLbl.localeKey=t?Core.getStringShortNum(t.credit1)+" / "+t.n1:"0 / 0",this.tieLbl.localeKey=t?Core.getStringShortNum(t.credit3)+" / "+t.n3:"0 / 0";var e=VideoGameCore.VideoPlazaStore.instance.getLedSeatStatusInfo(this.vid),i=VideoGameCore.VideoPlazaStore.instance.getVipVideoInfo(this.vid);e&&i?0===e.playerNum?(i.canEnter?this.enterBtn.enabled=!0:this.enterBtn.enabled=!1,this.sideBtn.enabled=!1):e.playerNum<7?(i.canEnter?this.enterBtn.enabled=!0:this.enterBtn.enabled=!1,i.canVisit?this.sideBtn.enabled=!0:this.sideBtn.enabled=!1):(this.enterBtn.enabled=!1,i.canVisit?this.sideBtn.enabled=!0:this.sideBtn.enabled=!1):(this.enterBtn.enabled=!1,this.sideBtn.enabled=!1),(Core.LoginStore.instance.isDemoAc||!VideoGameCore.PCGameConfig.instance.ledConfig.canJoin)&&(this.enterBtn.enabled=!1),this.updateBtnStatus()},t.prototype.updateVideoLimit=function(){var t=VideoGameCore.VideoPlazaStore.instance.getVipVideoInfo(this.vid);t&&(this.limitLabel.text=t.minLimit+"-"+t.maxLimit)},t.prototype.onChartBtnTap=function(){this.roadMapArea.visible=!this.roadMapArea.visible,this.chartGrp.visible=!this.chartGrp.visible,"off"===this.chartBtn.currentState?this.chartBtn.currentState="on":this.chartBtn.currentState="off"},t.prototype.onTapBeadType=function(){this.zhuZaiLuPaper.beadType=this.btnBeadType.selected?1:0,this.zhuZaiLuPaper.refresh()},t.prototype.updateDealerInfo=function(){s.prototype.updateDealerInfo.call(this);var t=VideoGameCore.VideoPlazaStore.instance.getMicDealerInfo(this.vid);if(t){var e=VideoGameCore.AnchorConfig.instance.findById(t.name),i=t.getPhotoUrl(this.roomItemStore.gmtype,this.roomItemStore.platform);if(""===i)this.micDealerName.text="",i="nav_asset_json.lobby_dealer_loading",this.langFlag.source="flag_json.GBP",this.closeAnchorInfo();else if(e){var r=null!=e.name[Core.LocalizeStore.instance.lang]?e.name[Core.LocalizeStore.instance.lang]:e.name.en;this.micDealerName.text!==r&&this.closeAnchorInfo(),this.micDealerName.text=r,this.langFlag.source="flag_json.CNY"}else this.micDealerName.text=t.name,this.langFlag.source="flag_json.GBP",this.closeAnchorInfo();i!==this.micDealerImage.source&&(this.micDealerImage.source=i),this.checkAndUpdateState(t.offWork)}else this.closeAnchorInfo()},t.prototype.checkAndUpdateState=function(t){var e=t&&"offWork"!==this.currentState||!t&&"normal"!==this.currentState;e&&(this.currentState=t?"offWork":"normal",this.closeAnchorInfo(),this.setupRoadPaper(),this.updateRoadPaper())},t.prototype.checkMaintain=function(){var t=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.vid),e=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(t.platformtype,this.vid);this.isMaintaining=e;var i=VideoGameCore.PlazaRoadStore.instance.getVipVideoStatusInfo(this.vid);if(null!=i){var r=11==i.status;this.msgGrp.visible=r,r&&(this.lblPopupMsg.text=Core.LocalizeStore.instance.translate("PCPlaza.room.shuffle"))}e&&(this.msgGrp.visible=e,this.lblPopupMsg.text=Core.LocalizeStore.instance.translate("PCPlaza.room.maintain"),this.enterBtn.enabled=!1,this.sideBtn.enabled=!1,this.updateBtnStatus())},t.prototype.updateBtnStatus=function(){VideoGameCore.setDark(this.enterBtn,!this.enterBtn.enabled),VideoGameCore.setDark(this.sideBtn,!this.sideBtn.enabled)},t.prototype.updateTimer=function(){var t=VideoGameCore.PlazaRoadStore.instance.getVipVideoStatusInfo(this.vid);if(null!=t&&1===t.status)s.prototype.updateTimer.call(this);else{if(!this.timerLabel)return;this.timerLabel.textColor=16711680,this.timerLabel.text="0"}},t}(r.RoomItemViewBase);r.LBACRoomItemView=t,__reflect(t.prototype,"PCPlaza.LBACRoomItemView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.EmptySkin",t.width=840,t.height=238,t}return __extends(t,e),t.prototype.handleAdItem=function(){if(this.adItemView&&this.adItemView.parent===this){if(this.adItemView.type===this.data)return;this.removeChild(this.adItemView),Core.releaseAllChildren(this.adItemView),this.adItemView=null}this.roomItemView&&this.roomItemView.parent===this&&(this.removeChild(this.roomItemView),Core.releaseAllChildren(this.roomItemView),this.roomItemView=null),this.adItemView=new i.AdItemView(this.data),this.addChild(this.adItemView)},t.prototype.handleRoomItem=function(){var t=this,e=VideoGameCore.RoomItemStore.storeVidMap.get(this.data);if(this.roomItemView&&this.roomItemView.parent===this){if(this.roomItemView.checkSameViewData(e))return;this.removeChild(this.roomItemView),Core.releaseAllChildren(this.roomItemView),this.roomItemView=null}switch(this.adItemView&&this.adItemView.parent===this&&(this.removeChild(this.adItemView),Core.releaseAllChildren(this.adItemView),this.adItemView=null),e.gmtype){case VideoGameCore.GAME_BAC:this.roomItemView=new i.BACRoomItemView(e);break;case VideoGameCore.GAME_DT:this.roomItemView=new i.DTRoomItemView(e);break;case VideoGameCore.GAME_NN:this.roomItemView=new i.NNRoomItemView(e);break;case VideoGameCore.GAME_ROU:this.roomItemView=new i.ROURoomItemView(e);break;case VideoGameCore.GAME_LBAC:this.roomItemView=new i.LBACRoomItemView(e);break;case VideoGameCore.GAME_SHB:this.roomItemView=new i.SHBRoomItemView(e);break;case VideoGameCore.GAME_BJ:this.roomItemView=new i.BJRoomItemView(e);break;case VideoGameCore.GAME_SBAC:this.roomItemView=new i.SBACRoomItemView(e);break;case VideoGameCore.GAME_CBAC:case VideoGameCore.GAME_ABAC:this.roomItemView=new i.VipBacRoomItemView(e);break;case VideoGameCore.GAME_ZJH:this.roomItemView=new i.ZJHRoomItemView(e);break;default:console.error("missing "+e.gmtype)}this.roomItemView&&egret.callLater(function(){t.addChild(t.roomItemView)},this)},t.prototype.dataChanged=function(){[i.ITEM_AD,i.ITEM_FULL_VIDEO,i.ITEM_AD_VIDEO].indexOf(this.data)>=0?this.handleAdItem():this.handleRoomItem()},t}(eui.ItemRenderer);i.RoomItemContainer=t,__reflect(t.prototype,"PCPlaza.RoomItemContainer")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(s){var t=function(i){function t(t){var e=i.call(this)||this;return e.skinName="PCPlaza.RoomListPageSkin",e.listCollection=new eui.ArrayCollection,e.roomListView.itemRenderer=s.RoomItemContainer,e.roomListView.dataProvider=e.listCollection,e.setPlatform(t),e.scrollbar.addEventListener(egret.Event.CHANGE,e.onScrollBarChange,e),e}return __extends(t,i),t.prototype.setPlatform=function(t){if(!(VideoGameCore.PLATFORM_LIST.indexOf(t)<0)){this.scrollbar.reset(),this.curPlatform=t;var e=VideoGameCore.PCAdConfig.instance.getAdConfigListByPlatform(t);if(e.length>0){var i=[],r=-1!=VideoGameCore.PCPlazaConfig.instance.liveCameraVideo.indexOf(t);i=r&&Core.isFlvSupported()?VideoGameCore.PCAdConfig.instance.lobbyBannerConfig.splitLiveCam.indexOf(t)>=0?[s.ITEM_AD,s.ITEM_FULL_VIDEO]:[s.ITEM_AD_VIDEO]:[s.ITEM_AD],this.listCollection.replaceAll(i.concat(this.priorityOperation(VideoGameCore.RoomItemStore.getVidListByPlatform(t))))}else this.listCollection.replaceAll(this.priorityOperation(VideoGameCore.RoomItemStore.getVidListByPlatform(t)));this.maintainPanel.updatePlatform(this.curPlatform)}},t.prototype.getStoreList=function(){return[VideoGameCore.VideoPlazaStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.loadingGrp.visible=!1,this.maintainPanel.updatePlatform(this.curPlatform);break;case VideoGameCore.st:i||this.maintainPanel.updatePlatform(this.curPlatform)}},t.prototype.onReleaseRefs=function(){this.listCollection&&(this.listCollection.removeAll(),this.listCollection.refresh()),this.listCollection=null},t.prototype.priorityOperation=function(t){var e=this,s=this,n=t.slice();return t.sort(function(t,e){var i=s.getPriority(t,n),r=s.getPriority(e,n);return i-r}),t.filter(function(t){return!e.needHide(t)})},t.prototype.needHide=function(t){var e=VideoGameCore.PCGameConfig.instance.specialVidsConfig.hide;return e.indexOf(t)>=0},t.prototype.getPriority=function(t,e){var i=VideoGameCore.PCGameConfig.instance.specialVidsConfig.priority,r=VideoGameCore.PCGameConfig.instance.specialVidsConfig.putLast,s=VideoGameCore.RoomItemStore.storeVidMap.get(t),n=!1;if(s.gmtype==VideoGameCore.GAME_CBAC||s.gmtype==VideoGameCore.GAME_ABAC){var o=VideoGameCore.PlazaRoadStore.instance.getVipVideoStatusInfo(t);o&&(n=o&&o.isExculsive)}var a=(n?1e3:0)+(r.indexOf(t)>=0?999-r.indexOf(t):0);return a+=0==a?i.indexOf(t)>=0?i.indexOf(t)-50:0:a,a+=0==a?e.indexOf(t)>=0?100+e.indexOf(t):0:a},t.prototype.onScrollBarChange=function(){this.scrollbar.viewport.scrollV<0&&(this.scrollbar.viewport.scrollV=0)},t}(Core.PCPageBase);s.RoomListPage=t,__reflect(t.prototype,"PCPlaza.RoomListPage")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onAddToStage=function(){t.prototype.onAddToStage.call(this),this.slider.needMask.mask=this.slider.maskRect},Object.defineProperty(e.prototype,"defaultSkinName",{get:function(){return"PCPlaza.RoomListScrollerSkin"},enumerable:!0,configurable:!0}),e}(Core.SliderScrollerBase);t.RoomListScroller=e,__reflect(e.prototype,"PCPlaza.RoomListScroller")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.RoomSpecialPageSkin",t.curPlatform=VideoGameCore.PLATFORM_SPECIAL,t.roomListView.itemRenderer=i.RoomItemContainer,t.roomListView.dataProvider=new eui.ArrayCollection(VideoGameCore.RoomItemStore.getVidListByPlatform(t.curPlatform).filter(function(t){return VideoGameCore.PCGameConfig.instance.isSpecialTable(t)})),t.loadingGrp.visible=!1,t.maintainGrp.visible=!1,t}return __extends(t,e),t.prototype.initByConfig=function(){var t=VideoGameCore.PCGameConfig.instance.specialTablesConfig,e=t.tablePosition.split(",");this.roomListView.x=parseInt(e[0]),this.roomListView.y=parseInt(e[1])},t.prototype.loadImages=function(){var t=VideoGameCore.PCGameConfig.instance;t.specialBgMap.has(Core.LocalizeStore.instance.lang)?this.bgImg.source=t.specialBgMap.get(Core.LocalizeStore.instance.lang):this.bgImg.source=t.specialBgMap.get(Core.LANG_DEFAULT)},t.prototype.getStoreList=function(){return[VideoGameCore.VideoPlazaStore.instance,Core.LocalizeStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:this.loadingGrp.visible=!1,this.maintainGrp.visible=VideoGameCore.VideoPlazaStore.instance.isMaintaining(this.curPlatform),this.initByConfig(),this.loadImages();break;case VideoGameCore.st:i||(this.maintainGrp.visible=VideoGameCore.VideoPlazaStore.instance.isMaintaining(this.curPlatform));break;case Core.q:this.loadImages()}},t.prototype.onReleaseRefs=function(){var t=this.roomListView.dataProvider;t&&(t.removeAll(),t.refresh()),this.roomListView.dataProvider=null},t}(Core.PCPageBase);i.RoomSpecialPage=t,__reflect(t.prototype,"PCPlaza.RoomSpecialPage")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.roundColor=14619414,t.localKey="",t.skinName="PCPlaza.RoundLabelViewSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.round.fillColor=this.roundColor,this.round.strokeColor=this.roundColor,this.label.localeKey=this.localKey},t.prototype.refresh=function(){this.label.localeKey=this.localKey,this.label.refresh()},t}(eui.Component);t.RoundLabelView=e,__reflect(e.prototype,"PCPlaza.RoundLabelView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(r){function t(t){var e=r.call(this,t)||this;return e.skinName="PCPlaza.ROURoomItemViewSkin",e.chartBtn.currentState="off",e.chartBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onChartBtnTap,e),e}return __extends(t,r),t.prototype.setupRoadPaper=function(){this.rouMainPaper||(this.rouMainPaper=new VideoGameCore.RoadPaper.RoadRouMainPaper(690,150,5),this.roadMapArea.addChildAt(this.rouMainPaper,1))},t.prototype.updateRoadPaper=function(){var t;if(t=VideoGameCore.PlazaRoadStore.instance.getRouRoadData(this.vid),t&&0!==t.roadData.length){var e=t.resultList,i=t.bigCount,r=t.smallCount,s=t.zeroCount,n=t.oddCount,o=t.evenCount;this.rouMainPaper.setListData(e);var a=s+i+r;0===a&&(a=1);var h=Math.floor(i/a*100);this.chartBigPctLbl.text=0==h?"":h+"%",h>0&&5>h&&(h=5),this.chartBigPctLbl.parent.percentWidth=h,h=Math.floor(r/a*100),this.chartSmallPctLbl.text=0==h?"":h+"%",h>0&&5>h&&(h=5),this.chartSmallPctLbl.parent.percentWidth=h,h=Math.floor(s/a*100),this.chartZeroPctLbl.text="",h>0&&5>h&&(h=5),this.chartZeroPctLbl.parent.percentWidth=h,a=n+o+s,h=Math.floor(n/a*100),this.chartOddPctLbl.text=0==h?"":h+"%",h>0&&5>h&&(h=5),this.chartOddPctLbl.parent.percentWidth=h,h=Math.floor(o/a*100),this.chartEvenPctLbl.text=0==h?"":h+"%",h>0&&5>h&&(h=5),this.chartEvenPctLbl.parent.percentWidth=h,this.chartBigLbl.text=i.toString(),this.chartSmallLbl.text=r.toString(),this.chartZeroLbl.text=s.toString(),this.chartOddLbl.text=n.toString(),this.chartEvenLbl.text=o.toString()}},t.prototype.onEnterGameTap=function(){this.isMaintaining||e.RootPageStore.instance.enterGameByVid(this.vid)},t.prototype.onStoreChange=function(t,e,i){switch(r.prototype.onStoreChange.call(this,t,e,i),e){case Core.t:this.chartBtn.visible=VideoGameCore.PCGameConfig.instance.statConfig.showRound}},t.prototype.updateStatistics=function(){r.prototype.updateStatistics.call(this);var t=VideoGameCore.PlazaRoadStore.instance.getRealtimeInfo(this.vid);this.bigLbl.localeKey=t?Core.getStringShortNum(t.creditBig)+"/"+t.big:"0 / 0",this.smallLbl.localeKey=t?Core.getStringShortNum(t.creditSamll)+"/"+t.small:"0 / 0",this.oddLbl.localeKey=t?Core.getStringShortNum(t.creditOdd)+"/"+t.odd:"0 / 0",this.evenLbl.localeKey=t?Core.getStringShortNum(t.creditEven)+"/"+t.even:"0 / 0"},t.prototype.onChartBtnTap=function(){this.roadMapArea.visible=!this.roadMapArea.visible,this.chartGrp.visible=!this.chartGrp.visible,"off"===this.chartBtn.currentState?this.chartBtn.currentState="on":this.chartBtn.currentState="off"},t}(e.RoomItemViewBase);e.ROURoomItemView=t,__reflect(t.prototype,"PCPlaza.ROURoomItemView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.skinName="PCPlaza.SBACRoomItemViewSkin",e}return __extends(t,i),t}(t.BACRoomItemView);t.SBACRoomItemView=e,__reflect(e.prototype,"PCPlaza.SBACRoomItemView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(n){function t(t){var e=n.call(this,t)||this;return e.skinName="PCPlaza.SHBRoomItemViewSkin",e.chartBtn.currentState="off",e.chartBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onChartBtnTap,e),e}return __extends(t,n),t.prototype.setupRoadPaper=function(){this.shbResultPanel.setDataList([])},t.prototype.updateRoadPaper=function(){var t;if(t=VideoGameCore.PlazaRoadStore.instance.getShbRoadData(this.vid)){var e=t.resultList,i=t.bigCount,r=t.smallCount,s=t.zeroCount,n=t.oddCount,o=t.evenCount;this.shbResultPanel.setDataList(e);var a=s+i+r;0===a&&(a=1);var h=Math.floor(i/a*100);this.chartBigPctLbl.text=0==h?"":h+"%",h>0&&5>h&&(h=5),this.chartBigPctLbl.parent.percentWidth=h,h=Math.floor(r/a*100),this.chartSmallPctLbl.text=0==h?"":h+"%",h>0&&5>h&&(h=5),this.chartSmallPctLbl.parent.percentWidth=h,h=Math.floor(s/a*100),this.chartZeroPctLbl.text="",h>0&&5>h&&(h=5),this.chartZeroPctLbl.parent.percentWidth=h,a=n+o+s,h=Math.floor(n/a*100),this.chartOddPctLbl.text=0==h?"":h+"%",h>0&&5>h&&(h=5),this.chartOddPctLbl.parent.percentWidth=h,h=Math.floor(o/a*100),this.chartEvenPctLbl.text=0==h?"":h+"%",h>0&&5>h&&(h=5),this.chartEvenPctLbl.parent.percentWidth=h,this.chartBigLbl.text=i.toString(),this.chartSmallLbl.text=r.toString(),this.chartZeroLbl.text=s.toString(),this.chartOddLbl.text=n.toString(),this.chartEvenLbl.text=o.toString()}},t.prototype.onEnterGameTap=function(){this.isMaintaining||e.RootPageStore.instance.enterGameByVid(this.vid)},t.prototype.onStoreChange=function(t,e,i){switch(n.prototype.onStoreChange.call(this,t,e,i),e){case Core.t:this.chartBtn.visible=VideoGameCore.PCGameConfig.instance.statConfig.showRound}},t.prototype.updateStatistics=function(){n.prototype.updateStatistics.call(this);var t,e,i,r,s=VideoGameCore.PlazaRoadStore.instance.getRealtimeInfo(this.vid);s&&(t=s.betInfos.get(VideoGameCore.PLAYTYPE_SHB_BIG),e=s.betInfos.get(VideoGameCore.PLAYTYPE_SHB_SMALL),i=s.betInfos.get(VideoGameCore.PLAYTYPE_SHB_ODD),r=s.betInfos.get(VideoGameCore.PLAYTYPE_SHB_EVEN)),this.bigLbl.localeKey=t?Core.getStringShortNum(t.amount)+"/"+t.count:"0 / 0",this.smallLbl.localeKey=e?Core.getStringShortNum(e.amount)+"/"+e.count:"0 / 0",this.oddLbl.localeKey=i?Core.getStringShortNum(i.amount)+"/"+i.count:"0 / 0",this.evenLbl.localeKey=r?Core.getStringShortNum(r.amount)+"/"+r.count:"0 / 0"},t.prototype.onChartBtnTap=function(){this.roadMapArea.visible=!this.roadMapArea.visible,this.chartGrp.visible=!this.chartGrp.visible,"off"===this.chartBtn.currentState?this.chartBtn.currentState="on":this.chartBtn.currentState="off"},t}(e.RoomItemViewBase);e.SHBRoomItemView=t,__reflect(t.prototype,"PCPlaza.SHBRoomItemView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(s){function t(t){var e=s.call(this,t)||this;return e.skinName="PCPlaza.VipBacRoomItemViewSkin",e}return __extends(t,s),t.prototype.onAddToStage=function(){s.prototype.onAddToStage.call(this),this.updateVideoLimit(),this.sideBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSideGameTap,this),this.seatBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSeatGameTap,this),this.viewBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSideGameTap,this);var t=this.roomItemStore.gmtype==VideoGameCore.GAME_CBAC&&!VideoGameCore.PCGameConfig.instance.checkCanSideBet();this.sideBtn.visible=!t,this.viewBtn.visible=t},t.prototype.onRemoveFromStage=function(){s.prototype.onRemoveFromStage.call(this),this.sideBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSideGameTap,this),this.seatBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSeatGameTap,this),this.viewBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSideGameTap,this)},t.prototype.onEnterGameTap=function(){if(!this.isMaintaining){var t=VideoGameCore.VideoPlazaStore.instance.getVipVideoInfo(this.vid);t?VideoGameCore.UserStore.instance.balance<t.minCredit?this.dispatchBalanceBelowCredit(t.minCredit):t.canEnter&&this.enterBtn.enabled?this.enterGame():this.seatBtn.enabled?this.onSeatGameTap():(this.sideBtn.enabled||this.viewBtn.enabled)&&this.onSideGameTap():this.dispatchBalanceBelowCredit(1e4)}},t.prototype.onSideGameTap=function(){i.RootPageStore.instance.enterGameByVid(this.vid,1)},t.prototype.onSeatGameTap=function(){var t=VideoGameCore.VideoPlazaStore.instance.getVipVideoInfo(this.vid);if(t)if(VideoGameCore.UserStore.instance.balance<t.minCredit)this.dispatchBalanceBelowCredit(t.minCredit);else{var e=VideoGameCore.PlazaRoadStore.instance.getVipVideoStatusInfo(this.vid);e&&e.isPwd?Core.globalStore.dispatchGlobal(VideoGameCore.cc,{vid:this.vid,loginType:2}):i.RootPageStore.instance.enterGameByVid(this.vid,2)}},t.prototype.enterGame=function(){i.RootPageStore.instance.enterGameByVid(this.vid,3)},t.prototype.onRoadMapTap=function(){if(this.enterBtn.enabled)this.onEnterGameTap();else if(this.seatBtn.enabled)this.onSeatGameTap();else if(this.sideBtn.enabled||this.viewBtn.enabled)this.onSideGameTap();else{var t=VideoGameCore.PlazaRoadStore.instance.getVipVideoStatusInfo(this.vid);t&&t.isExculsive&&i.RootPageStore.instance.enterExculsiveTable()}},t.prototype.onStoreChange=function(t,e,i){switch(s.prototype.onStoreChange.call(this,t,e,i),e){case VideoGameCore.hc:this.updateVideoLimit()}},t.prototype.updateStatistics=function(){s.prototype.updateStatistics.call(this),this.updateBetAmountWidth();var t=VideoGameCore.PlazaRoadStore.instance.getVipVideoStatusInfo(this.vid),e=VideoGameCore.VideoPlazaStore.instance.getLedSeatStatusInfo(this.vid),i=VideoGameCore.VideoPlazaStore.instance.getVipVideoInfo(this.vid),r=e?e.playerNum:0;this.exculsiveLabel&&(this.exculsiveLabel.visible=t&&t.isOtherReserved),i&&t?t.isExculsive?(this.enterBtn.enabled=!1,this.sideBtn.enabled=!1,this.seatBtn.enabled=!1,this.viewBtn.enabled=!1,this.totalPlayerLbl&&(this.totalPlayerLbl.text="1")):(this.enterBtn.enabled=this.updateConfig("enterBtn",i.canSubscribe&&!t.isSubscribe&&7!=t.vipStatus),this.seatBtn.enabled=this.updateConfig("seatBtn",t.isSubscribe&&7>r&&i.canEnter&&!this.enterBtn.enabled&&7!=t.vipStatus),this.sideBtn.enabled=this.updateConfig("sideBtn",t.isSubscribe&&i.canVisit&&!this.enterBtn.enabled&&7!=t.vipStatus),this.viewBtn.enabled=this.updateConfig("viewBtn",t.isSubscribe&&i.canVisit&&!this.enterBtn.enabled&&7!=t.vipStatus)):(this.enterBtn.enabled=!1,this.sideBtn.enabled=!1,this.seatBtn.enabled=!1,this.viewBtn.enabled=!1),Core.LoginStore.instance.isDemoAc&&(this.enterBtn.enabled=!1,this.seatBtn.enabled=!1),this.updateBtnStatus()},t.prototype.updateBetAmountWidth=function(){this.bankerLbl.size=14,this.playerLbl.size=14,this.tieLbl.size=14;var t=VideoGameCore.PlazaRoadStore.instance.getRealtimeInfo(this.vid);this.bankerLbl.localeKey=t?Core.getStringShortNum(t.credit2)+" / "+t.n2:"0 / 0",this.playerLbl.localeKey=t?Core.getStringShortNum(t.credit1)+" / "+t.n1:"0 / 0",this.tieLbl.localeKey=t?Core.getStringShortNum(t.credit3)+" / "+t.n3:"0 / 0";var e=this.bankerLbl.width+this.playerLbl.width+this.tieLbl.width,i=this.leftBottomGrp.width-this.lblPlayerTitle.width-this.totalPlayerLbl.width-75-20;if(!(i>=e)){var r=Math.floor(i*(this.bankerLbl.width/e)),s=Math.floor(i*(this.playerLbl.width/e)),n=Math.floor(i*(this.tieLbl.width/e));this.bankerLbl.setFitSizeText(this.bankerLbl.localeKey,r),this.playerLbl.setFitSizeText(this.playerLbl.localeKey,s),this.tieLbl.setFitSizeText(this.tieLbl.localeKey,n)}},t.prototype.updateVideoLimit=function(){var t=VideoGameCore.VideoPlazaStore.instance.getVipVideoInfo(this.vid);t&&(this.limitLabel.text=t.minLimit+"-"+t.maxLimit)},t.prototype.checkMaintain=function(){var t=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.vid),e=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(t.platformtype,this.vid),i=VideoGameCore.PlazaRoadStore.instance.getVipVideoStatusInfo(this.vid);if(null!=i){var r=11==i.status;this.msgGrp.visible=r,r&&(this.lblPopupMsg.text=Core.LocalizeStore.instance.translate("PCPlaza.room.shuffle"))}e&&(this.msgGrp.visible=e,this.lblPopupMsg.text=Core.LocalizeStore.instance.translate("PCPlaza.room.maintain"),this.enterBtn.enabled=!1,this.sideBtn.enabled=!1,this.seatBtn.enabled=!1,this.viewBtn.enabled=!1),this.updateBtnStatus(),this.updateExculsivePos(r||e)},t.prototype.updateBtnStatus=function(){VideoGameCore.setDark(this.enterBtn,!this.enterBtn.enabled),VideoGameCore.setDark(this.sideBtn,!this.sideBtn.enabled),VideoGameCore.setDark(this.seatBtn,!this.seatBtn.enabled),VideoGameCore.setDark(this.viewBtn,!this.viewBtn.enabled)},t.prototype.updateExculsivePos=function(t){t?(this.exculsiveLabel.textAlign="right",this.exculsiveLabel.verticalAlign="top",this.exculsiveLabel.right=2):(this.exculsiveLabel.textAlign="center",this.exculsiveLabel.verticalAlign="middle",this.exculsiveLabel.right=0)},t.prototype.updateConfig=function(t,e){switch(t){case"enterBtn":return VideoGameCore.PCGameConfig.instance.checkCanReserve()?e:!1;case"sideBtn":return VideoGameCore.PCGameConfig.instance.checkCanSideBet()?e:!1;case"seatBtn":return VideoGameCore.PCGameConfig.instance.checkCanJoin()?e:!1;case"viewBtn":return this.roomItemStore.gmtype!=VideoGameCore.GAME_CBAC||VideoGameCore.PCGameConfig.instance.checkCanSideBet()?!1:e;default:return!1}},t.prototype.dispatchBalanceBelowCredit=function(t){void 0===t&&(t=1e4),Core.globalStore.dispatchGlobal(VideoGameCore.sh,{vid:this.vid,amount:t,enterEnabled:this.sideBtn.visible&&this.sideBtn.enabled||this.viewBtn.visible&&this.viewBtn.enabled,isVisit:this.roomItemStore.gmtype===VideoGameCore.GAME_CBAC&&!VideoGameCore.PCGameConfig.instance.checkCanSideBet()})},t}(i.BACRoomItemView);i.VipBacRoomItemView=t,__reflect(t.prototype,"PCPlaza.VipBacRoomItemView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(r){function t(t){var e=r.call(this,t)||this;return e.skinName="PCPlaza.ZJHRoomItemViewSkin",e}return __extends(t,r),t.prototype.childrenCreated=function(){r.prototype.childrenCreated.call(this)},t.prototype.setupRoadPaper=function(){this.daLuPaper||(this.daLuPaper=new VideoGameCore.RoadPaper.RoadDaLuPaper(700,150,3),this.daLuPaper.x=0,this.daLuPaper.y=0,this.roadMapArea.addChild(this.daLuPaper))},t.prototype.updateRoadPaper=function(){var t;t=VideoGameCore.PlazaRoadStore.instance.getRoadData(this.vid),t&&this.daLuPaper.setMapData(t.daLuData)},t.prototype.onEnterGameTap=function(){this.isMaintaining||e.RootPageStore.instance.enterGameByVid(this.vid)},t.prototype.onStoreChange=function(t,e,i){switch(r.prototype.onStoreChange.call(this,t,e,i),e){case Core.t:}},t.prototype.updateStatistics=function(){var t=VideoGameCore.PlazaRoadStore.instance.getZjhRealtimeInfo(this.vid);if(t){this.betAmountLabel&&t.credit_sum_amount>=0?this.betAmountLabel.text=Core.getStringShortNum(t.credit_sum_amount):this.betAmountLabel.text="0",this.totalPlayerLbl?this.totalPlayerLbl.text=""+t.num:this.totalPlayerLbl.text="0",this.dragonLbl.text="0 / 0",this.phoenixLbl.text="0 / 0";for(var e=void 0,i=0;i<t.betInfos.length;i++)switch(e=t.betInfos[i],e.playType){case VideoGameCore.PLAYTYPE_ZJH_DRAGON:this.dragonLbl.text=Core.getStringShortNum(e.amount)+" / "+e.count;break;case VideoGameCore.PLAYTYPE_ZJH_PHOENIX:this.phoenixLbl.text=Core.getStringShortNum(e.amount)+" / "+e.count}}},t}(e.RoomItemViewBase);e.ZJHRoomItemView=t,__reflect(t.prototype,"PCPlaza.ZJHRoomItemView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(r){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.skinName="PCPlaza.NNRoomItemViewSkin",e.dataSource=new eui.ArrayCollection,e.tableView.itemRenderer=r.NNTableViewItemRenderer,e.tableView.dataProvider=e.dataSource,e}return __extends(t,i),t.prototype.setupRoadPaper=function(){},t.prototype.updateRoadPaper=function(){var t=VideoGameCore.PlazaRoadStore.instance.getBullRoadData(this.vid);this.dataSource.replaceAll(t)},t.prototype.onEnterGameTap=function(){this.isMaintaining||r.RootPageStore.instance.enterGameByVid(this.vid)},t.prototype.updateStatistics=function(){var t=VideoGameCore.PlazaRoadStore.instance.getRealtimeInfoExt(this.vid);t&&(this.betAmountLabel&&t.total_balance>=0?this.betAmountLabel.text=Core.getStringShortNum(t.total_balance):this.betAmountLabel.text="0",this.totalPlayerLbl?this.totalPlayerLbl.text=""+t.total_join_player:this.totalPlayerLbl.text="0")},t}(r.RoomItemViewBase);r.NNRoomItemView=t,__reflect(t.prototype,"PCPlaza.NNRoomItemView")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(s){var t=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.dataChanged=function(){var t=this.data;this.textLabel.setFitSizeText(s.outputNnCardType(t.banker_point),0,!1);var e=12632256,i=15329769;this.bgRect.fillColor=e,this.bgRect_2.fillColor=e,this.bgRect_1.fillColor=i,this.bgRect_3.fillColor=i;for(var r=1;3>=r;r++)this["textLabel_"+r].setFitSizeText(s.outputNnCardType(t["player_"+r+"_point"]),0,!1),this["winGroup_"+r].visible=!1,1===t["player_"+r+"_win"]&&(this["winGroup_"+r].visible=!0)},e}(eui.ItemRenderer);s.NNTableViewItemRenderer=t,__reflect(t.prototype,"PCPlaza.NNTableViewItemRenderer");var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.dataChanged=function(){var t=this.data;this.textLabel.setFitSizeText(s.outputNnCardType(t.banker_point,!0),0,!1);var e=12632256,i=15329769;this.bgRect.fillColor=e,this.bgRect_2.fillColor=e,this.bgRect_1.fillColor=i,this.bgRect_3.fillColor=i;for(var r=1;3>=r;r++)this["textLabel_"+r].setFitSizeText(s.outputNnCardType(t["player_"+r+"_point"],!0),0,!1),this["winGroup_"+r].visible=!1,1===t["player_"+r+"_win"]&&(this["winGroup_"+r].visible=!0)},e}(eui.ItemRenderer);s.NNTableSmallViewItemRenderer=e,__reflect(e.prototype,"PCPlaza.NNTableSmallViewItemRenderer")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.GameInfoItemSkin",t}return __extends(t,e),Object.defineProperty(t.prototype,"titleText",{set:function(t){this.lblTitle.localeKey=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueText",{set:function(t){this.lblValue.localeKey=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueTextColor",{set:function(t){this.lblValue.textColor=t},enumerable:!0,configurable:!0}),t}(eui.Component);t.GameInfoItem=e,__reflect(e.prototype,"PCPlaza.GameInfoItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(m){var d=550,t=function(e){function t(){var t=e.call(this)||this;return t.thirdGameList=["SPLZ","AGFH","SPTA","YPLZ"],t.userInfoState=0,t.tweenCount=1,t.tweenAmount=88,t.defaultX=25,t.rightAfterLogin=!0,t.spliced=!1,t.skinName="PCPlaza.LeftNavBarSkin",t.versionLabel.text="V "+Core.ExternalData.version,t}return __extends(t,e),t.prototype.getStoreList=function(){return[VideoGameCore.VideoPlazaStore.instance,VideoGameCore.UserStore.instance,VideoGameCore.ThirdGameStore.instance,m.RootPageStore.instance,Core.LocalizeStore.instance,Core.GlobalStore.instance]},t.prototype.onTapAccount=function(){Core.openUrl(m.RootPageStore.instance.getUrlByMethod("rg"))},t.prototype.onSavingAccount=function(){Core.openUrl(m.RootPageStore.instance.getUrlByMethod("dp"))},t.prototype.onStoreChange=function(t,e,i){var r=this;switch(e){case Core.t:if(this.topLogo.source=m.getLobbyLogo(),VideoGameCore.PCPlazaConfig.instance.showInfoCurrency||(this.currencyGrp&&this.currencyGrp.parent&&this.currencyGrp.stage&&this.currencyGrp.parent.removeChild(this.currencyGrp),this.currencyRect&&this.currencyRect.parent&&this.currencyRect.stage&&this.currencyRect.parent.removeChild(this.currencyRect)),Core.LoginStore.instance.isDemoAc&&(this.openAc.visible=!0),this.profileIconBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickProfileIconBtn,this),this.profileIconBtn.iconDisplay.source=this.getIconSource(Core.StorageManager.instance.getItem("PCPlaza_profile_icon")),this.nickNameBtn.labelDisplay.setFixSizeText(Core.LoginStore.instance.nickName,0,!0),this.nickNameLabel.text=Core.LoginStore.instance.userName,this.balanceLabel.setFitSizeText(""+Core.getStringFixed2(VideoGameCore.UserStore.instance.balance),0,!0),this.liveGameNav=VideoGameCore.PCPlazaConfig.instance.navList.map(function(t){var e=VideoGameCore.PCPlazaConfig.instance.getGameType(t);return{platform:t,key:e,nameKey:"PCPlaza.nav."+e.toLowerCase()}}),VideoGameCore.PCPlazaConfig.instance.isEgameSpecial){for(var s,n,o=0;o<this.liveGameNav.length;o++)if(this.liveGameNav[o].key==VideoGameCore.GAME_EGAMES){s=this.liveGameNav[o],n=o;break}this.liveGameNav.splice(n,1),this.liveGameNav.push(s)}if(VideoGameCore.VideoPlazaStore.instance.showPlatformList=this.liveGameNav.map(function(t){return t.platform}),Core.globalStore.dispatchGlobal(VideoGameCore.oc),this.liveGameList.dataProvider=new eui.ArrayCollection(this.liveGameNav),this.liveGameList.itemRenderer=m.LiveGameTabBtn,this.liveGameList.selectedIndex=0,this.prePlatform=this.liveGameNav[0].key,this.liveGameList.height>d){var a=70;this.profilePicGrp.visible=!1,this.userInfo.y-=a,this.mainListGrp.top-=a,this.infoBtn.top+=a+2,this.infoBtn.right=0}this.liveGameGrp.visible=this.liveGameList.dataProvider&&0!=this.liveGameList.dataProvider.length,this.liveGameList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onNavListClick,this),this.infoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInfo,this),this.nickNameBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickChangeNicknameBtn,this),this.openAc.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapAccount,this);var h=VideoGameCore.PCPlazaConfig.instance.services;h.deposit?this.savingBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSavingAccount,this):this.savingBtn.stage&&this.savingBtn.parent.removeChild(this.savingBtn),this.recordBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBetHistory,this),this.userInfoDetailsGrp.addEventListener(Core.EVENT_TOUCH_OUTSIDE,function(){(1==r.userInfoState||2==r.userInfoState)&&r.clickInfo()},this),this.infoMoreBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){m.RootPageStore.instance.openLevelDescriptPage(),r.clickInfo()},this),this.checkNoMoneyMsg();var u=1==VideoGameCore.PCPlazaConfig.instance.mobileConfig.enable;this.mobileBtn.visible=u,u&&(this.mobileBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){Core.pageNavigator.getTopPage().hasPopup(m.PopupMobileAccount)||Core.globalStore.dispatchGlobal(Core.Ko,new m.PopupMobileAccount)},this),this.tweenImageHolder.mask=this.tweenMask,egret.setTimeout(function(){r.tweenMobileImage()},this,5e3));break;case VideoGameCore.ke:if(""!=VideoGameCore.VideoPlazaStore.instance.currencyCode&&VideoGameCore.VideoPlazaStore.instance.currencyCode!=VideoGameCore.CURRENCY_CNY&&this.spliced===!1){var c=VideoGameCore.PCPlazaConfig.instance.navList,n=c.indexOf(VideoGameCore.CONFIG_FISH);-1!=n&&c.splice(n,1),n=c.indexOf(VideoGameCore.CONFIG_YOPLAY),-1!=n&&c.splice(n,1),this.liveGameNav=c.map(function(t){var e=VideoGameCore.PCPlazaConfig.instance.getGameType(t);return{platform:t,key:e,nameKey:"PCPlaza.nav."+e.toLowerCase()}}),this.liveGameList.dataProvider=new eui.ArrayCollection(this.liveGameNav),this.spliced=!0}var f=this.getIconSource(Core.StorageManager.instance.getItem("PCPlaza_profile_icon"));this.profileIconBtn.iconDisplay.source!==f&&(this.profileIconBtn.iconDisplay.source=this.getIconSource(Core.StorageManager.instance.getItem("PCPlaza_profile_icon"))),this.playerCountLabel.text=""+VideoGameCore.VideoPlazaStore.instance.onlinePlayerCountInt,""!==VideoGameCore.VideoPlazaStore.instance.currencyCode&&VideoGameCore.PCPlazaConfig.instance.showInfoCurrency&&(this.currencyLabel.text=Core.LocalizeStore.instance.translate("PCPlaza.nav.info_currency_"+VideoGameCore.VideoPlazaStore.instance.currencyCode),this.currencyFlag.source="flag_json."+VideoGameCore.VideoPlazaStore.instance.currencyCode),this.betLabel.text=""+Core.getStringFixed2(VideoGameCore.VideoPlazaStore.instance.dayValidBetNum),this.updateUserPoint(),this.timeLabel.text=this.getTimeStr(VideoGameCore.VideoPlazaStore.instance.loginLongNum);var C=VideoGameCore.UserStore.instance,l=C.getBetLimitByPlayType(VideoGameCore.PLAYTYPE_BANKER);this.limitLabel.text=l.min+"-"+l.max,this.effectiveLabel.text=""+Math.floor(VideoGameCore.VideoPlazaStore.instance.totalBetNum),VideoGameCore.VideoPlazaStore.instance.showPlatformList=this.liveGameNav.map(function(t){return t.platform}),Core.globalStore.dispatchGlobal(VideoGameCore.oc);break;case VideoGameCore.Wa:this.updateUserPoint();break;case VideoGameCore.ei:this.balanceLabel.localeFunc=function(){return VideoGameCore.UserStore.instance.balance>0?Core.getStringFixed2(VideoGameCore.UserStore.instance.balance):"0"},this.balanceLabel.refresh(),this.checkNoMoneyMsg();break;case Core.q:this.timeLabel.text=this.getTimeStr(VideoGameCore.VideoPlazaStore.instance.loginLongNum);break;case VideoGameCore.lc:this.selectPlatformByVid(i),this.checkNoMoneyMsg();break;case m.oh:this.prePlatform=this.platformType=i,this.checkNoMoneyMsg(),this.updateListHighlight();break;case m.nt:this.updateListHighlight(),this.revertBgmEnable();break;case m.qh:this.checkNoMoneyMsg(),this.updateListHighlight();break;case m.ii:this.updateListHighlight(),this.checkNoMoneyMsg();break;case VideoGameCore.mc:;m.RootPageStore.instance.changeGame(VideoGameCore.GAME_THIRD);break;case VideoGameCore.Ja:this.rightAfterLogin&&(this.selectPlatformExcludeMaintain(),this.initPlatformBgm(),this.rightAfterLogin=!1)}},t.prototype.updateUserPoint=function(){this.pointLabel.text=""+VideoGameCore.VideoPlazaStore.instance.getUserPoint()},t.prototype.selectPlatformExcludeMaintain=function(){for(var t="",e=this.liveGameList.selectedIndex;e<this.liveGameNav.length;e++){var i=this.liveGameNav[e];if(!VideoGameCore.VideoPlazaStore.instance.isMaintaining(i.platform)){this.liveGameList.selectedIndex=e,t=i.platform;break}}""!=t&&0!=this.liveGameList.selectedIndex&&m.RootPageStore.instance.changePlatform(t,!1)},t.prototype.selectPlatformByVid=function(t){var e=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(t);if(e){var i=e.platformtype,r=-1;this.liveGameNav.forEach(function(t,e){t.platform===i&&(r=e)},this),r>=0&&(this.liveGameList.selectedIndex=r),m.RootPageStore.instance.changePlatform(i,!1)}},t.prototype.clickProfileIconBtn=function(){this.checkPageHasClass("PCPlaza.ChangeProfileIconPopup")||Core.pageNavigator.getTopPage().addPopup(new m.ChangeProfileIconPopup,!0)},t.prototype.clickChangeNicknameBtn=function(){m.RootPageStore.instance.isInPlaza&&!this.checkPageHasClass("PCPlaza.ChangeNicknamePopup")&&Core.pageNavigator.getTopPage().addPopup(new m.ChangeNicknamePopup,!0)},t.prototype.clickBetHistory=function(){this.checkPageHasClass("PCPlaza.BetHistoryPopup")||m.RootPageStore.instance.openBetHistory()},t.prototype.getIconSource=function(t){t&&""!==t||(t="0");var e=parseInt(t);return 10>e?"profile_asset_json."+(e+1):"profile_asset_json.f_"+(e-10+1)},t.prototype.getTimeStr=function(t){var e=0,i=Math.floor(24*(t-e)),r=Math.floor(60*(24*(t-e)-i)),s="";return i>0&&(s+=i+Core.translate("PCPlaza.common.hour")),r>=0&&(s+=r+Core.translate("PCPlaza.common.min")),s},t.prototype.revertBgmEnable=function(){var t=this.liveGameNav[this.liveGameList.selectedIndex].key;t&&(VideoGameCore.PLATFORM_LIST.indexOf(t)>=0?VideoGameCore.SettingStore.instance.getBGMEnable()!=VideoGameCore.SettingStore.instance.getGlobalBGMEnable()&&VideoGameCore.SettingStore.instance.resetBGMEnable():VideoGameCore.THIRD_GAME_LIST.indexOf(t)>=0?1==VideoGameCore.SettingStore.instance.getBGMEnable()&&VideoGameCore.SettingStore.instance.setBGMEnable(!1):(t==VideoGameCore.GAME_LIVE&&1==VideoGameCore.SettingStore.instance.getBGMEnable()&&VideoGameCore.SettingStore.instance.setBGMEnable(!1),t==VideoGameCore.GAME_LINK&&VideoGameCore.SettingStore.instance.getBGMEnable()!=VideoGameCore.SettingStore.instance.getGlobalBGMEnable()&&VideoGameCore.SettingStore.instance.resetBGMEnable()))},t.prototype.checkCanLeave=function(t){switch(t.item.key){case VideoGameCore.GAME_LINK:if(this.prePlatform===VideoGameCore.GAME_LINK)return!1;break;default:var e=Core.pageNavigator.getPageCount();if(1>=e){if(this.prePlatform===t.item.key)return!1}else if(2>=e&&(t.item.key===VideoGameCore.GAME_LIVE||t.item.key===VideoGameCore.PLATFORM_COMP)&&this.prePlatform===t.item.key)return!1}return!0},t.prototype.onNavListClick=function(t){var e=this;if(this.checkCanLeave(t)){m.checkPCEvent()&&PCEvent.EventStore.instance.hidePopup();var i=t.item.key;VideoGameCore.PLATFORM_LIST.indexOf(i)>=0&&i!=VideoGameCore.PLATFORM_EMA?(this.prePlatform=i,VideoGameCore.SettingStore.instance.getBGMEnable()!=VideoGameCore.SettingStore.instance.getGlobalBGMEnable()&&VideoGameCore.SettingStore.instance.resetBGMEnable(),m.RootPageStore.instance.changePlatform(i)):VideoGameCore.THIRD_GAME_LIST.indexOf(i)>=0?(this.prePlatform=i,m.checkPCEvent()?(this.updateListHighlight(),PCEvent.EventStore.instance.doClickThirdGame(t.item.nameKey,{callback:function(){e.doLoginThirdGame(i)},thisArg:this})):this.doLoginThirdGame(i)):(i==VideoGameCore.GAME_LIVE&&(this.prePlatform=i,VideoGameCore.SettingStore.instance.setBGMEnable(!1)),i==VideoGameCore.GAME_LINK&&(this.prePlatform=i,(VideoGameCore.THIRD_GAME_LIST.indexOf(this.prePlatform)>=0||this.prePlatform==VideoGameCore.GAME_LIVE)&&VideoGameCore.SettingStore.instance.resetBGMEnable()),i==VideoGameCore.PLATFORM_EMA&&(this.prePlatform=i),i==VideoGameCore.PLATFORM_COMP&&(this.prePlatform=i,i=VideoGameCore.GAME_COMP),m.RootPageStore.instance.changeGame(i))}},t.prototype.doLoginThirdGame=function(t){(VideoGameCore.PLATFORM_LIST.indexOf(this.prePlatform)>=0||this.prePlatform==VideoGameCore.GAME_LINK)&&(this.prePlatform=t),VideoGameCore.SettingStore.instance.setBGMEnable(!1),VideoGameCore.ThirdGameStore.instance.loginGame(t),this.clickedGame=t,this.updateListHighlight()},t.prototype.clickInfo=function(){switch(3!=this.userInfoState&&egret.Tween.removeTweens(this.userInfoDetailsGrp),this.userInfoState){case 0:this.userInfoState=1,VideoGameCore.VideoPlazaStore.instance.requestUserPoint(),egret.Tween.get(this.userInfoDetailsGrp).to({right:-this.userInfoDetailsGrp.width},150).call(function(){this.userInfoState=2},this);break;case 1:case 2:this.userInfoState=3,egret.Tween.get(this.userInfoDetailsGrp).to({right:0},150).call(function(){this.userInfoState=0},this)}},t.prototype.updateListHighlight=function(){for(var r=this,s=0,t=0;t<this.liveGameNav.length;t++){var n=this.liveGameNav[t];if(n.platform===m.RootPageStore.instance.platform){s=t;break}if(m.RootPageStore.instance.platform===VideoGameCore.GAME_THIRD){this.liveGameList.numElements-this.thirdGameList.length;this.thirdGameList.forEach(function(t,e){if(r.clickedGame&&r.clickedGame===t||VideoGameCore.ThirdGameStore.instance&&VideoGameCore.ThirdGameStore.instance.gameType===t)for(var i=0;i<r.liveGameNav.length;i++)if(n=r.liveGameNav[i],t===n.key){s=i;break}},this);break}}this.liveGameList.selectedIndex=s},t.prototype.checkNoMoneyMsg=function(){var e=this;egret.callLater(function(){var t=VideoGameCore.UserStore.instance.balance<VideoGameCore.getMinBalance()&&(m.RootPageStore.instance.isInLiveGame||Core.pageNavigator.getTopPage()instanceof m.RoomListPage);e.noMoneyMsg.visible=t&&VideoGameCore.PCPlazaConfig.instance.lowCreditNotice},this)},t.prototype.checkPageHasClass=function(t){for(var e=Core.pageNavigator.getTopPage(),i=0;i<e.numChildren;i++){var r=egret.getQualifiedClassName(e.getChildAt(i));if(r==t)return!0}return!1},t.prototype.tweenMobileImage=function(){egret.Tween.get(this.tweenImageHolder).to({x:this.defaultX-this.tweenAmount},VideoGameCore.TIMEOUT.TWEEN).call(function(){var t=this;3==this.tweenCount?(this.tweenCount=1,this.defaultX=this.tweenImageHolder.x=25):(this.tweenCount++,this.defaultX-=this.tweenAmount),egret.setTimeout(function(){t.tweenMobileImage()},this,5e3)},this)},t.prototype.initPlatformBgm=function(){var t=this.liveGameNav[this.liveGameList.selectedIndex].key;t&&(VideoGameCore.PLATFORM_LIST.indexOf(t)>=0?this.prePlatform=t:VideoGameCore.THIRD_GAME_LIST.indexOf(t)>=0?((VideoGameCore.PLATFORM_LIST.indexOf(this.prePlatform)>=0||this.prePlatform==VideoGameCore.GAME_LINK)&&(this.prePlatform=t),VideoGameCore.SettingStore.instance.setBGMEnable(!1)):(t==VideoGameCore.GAME_LIVE&&(this.prePlatform=t,VideoGameCore.SettingStore.instance.setBGMEnable(!1)),t==VideoGameCore.GAME_LINK&&(VideoGameCore.THIRD_GAME_LIST.indexOf(this.prePlatform)>=0||this.prePlatform==VideoGameCore.GAME_LIVE)&&(this.prePlatform=t,VideoGameCore.SettingStore.instance.resetBGMEnable())))},t}(Core.StoreView);m.LeftNavBar=t,__reflect(t.prototype,"PCPlaza.LeftNavBar")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.LiveGameTabBtnSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t}return __extends(t,e),t.prototype.dataChanged=function(){this.data.key===VideoGameCore.GAME_SPORT?this.skinName="PCPlaza.AGSportTabBtnSkin":this.data.key===VideoGameCore.GAME_FISH?this.skinName="PCPlaza.FishHunterTabBtnSkin":this.data.key===VideoGameCore.GAME_EGAMES?VideoGameCore.PCPlazaConfig.instance.isEgameSpecial?this.skinName="PCPlaza.SlotGameSpecialTabBtnSkin":this.skinName="PCPlaza.SlotGameTabBtnSkin":this.data.key===VideoGameCore.GAME_YOPLAY?this.skinName="PCPlaza.YoplayTabBtnSkin":this.data.key===VideoGameCore.PLATFORM_COMP?this.skinName="PCPlaza.CompTabBtnSkin":this.data.key===VideoGameCore.PLATFORM_SPECIAL?this.gameName.localeFunc=function(){var t=VideoGameCore.PCGameConfig.instance.specialNameMap;return t.has(Core.LocalizeStore.instance.lang)?t.get(Core.LocalizeStore.instance.lang):t.get(Core.LANG_DEFAULT)}:this.gameName.localeKey=this.data.nameKey,VideoGameCore.PCPlazaConfig.instance.newList.indexOf(this.data.platform)>=0&&this.newIcon&&(this.newIcon.visible=!0),this.gameName.refresh()},t.prototype.onMouseOver=function(){this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(){this.selected||(this.skin.currentState="up")},t}(eui.ItemRenderer);t.LiveGameTabBtn=e,__reflect(e.prototype,"PCPlaza.LiveGameTabBtn")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(l){var t=function(i){function t(t){var e=i.call(this)||this;return e.payoutMeVid="",e.changeGameType="",e.skinName="PCPlaza.PlazaRootPageSkin",Core.pageNavigator=e.pageNavigator,Core.MouseTips.setTips(new Core.Tips("PCPlaza.TipsSkin")),e.warnNotifyView=new l.WarnNotifyView(e),e.warnNotifyView.viewHorizontalCenter=70,e.ledNoMoneyPopup=new l.LedNoMoneyPopup(e),e.passwordPopup=new l.PasswordPopup(e),e.exitPlazaPopup=new l.ExitPlazaPopup(e),e.maintainPopup=new l.MaintainPopup(e),e.initParam=t,e}return __extends(t,i),t.prototype.getStoreList=function(){return[Core.globalStore,l.RootPageStore.instance,VideoGameCore.VideoPlazaStore.instance]},t.prototype.onStoreChange=function(t,e,i){var r=this;switch(e){case Core.t:var s=this.initParam&&this.initParam.platform&&-1!=VideoGameCore.PCPlazaConfig.instance.navList.indexOf(this.initParam.platform)?this.initParam.platform:VideoGameCore.PCPlazaConfig.instance.navList[0];this.setPlatform(s);var n="1";if(n=Core.StorageManager.instance.getItem(Core.LOCALKEY_BGM_SOUND),null==n?l.soundBGM():"0"==n?l.stopBGM():l.soundBGM(),this.initParam&&"PCPlaza"!=this.initParam.moduleName){var o,a=0;null==this.initParam.vid||""==this.initParam.vid?o=VideoGameCore.RoomConfig.instance.getFirstRoomInfo(this.initParam.platform,this.initParam.gameType):(o=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.initParam.vid),this.initParam.gameType=o.gmtype,this.initParam.platform=o.platformtype),this.initParam.gameType===VideoGameCore.GAME_BJ&&(a=2),o&&egret.callLater(function(){l.RootPageStore.instance.enterGameByVid(o.vid,a)},this)}else l.RootPageStore.instance.changePlatform(s),-1==VideoGameCore.PLATFORM_LIST.indexOf(s)&&egret.callLater(function(){r.initParam&&VideoGameCore.THIRD_GAME_LIST.indexOf(r.initParam.gameType)>=0?VideoGameCore.ThirdGameStore.instance.loginGame(r.initParam.gameType):r.initParam&&r.initParam.gameType===VideoGameCore.GAME_EGAMES?VideoGameCore.ThirdGameStore.instance.openURLByGameType(r.initParam.gameType):l.RootPageStore.instance.changeGame(s)},this);break;case Core.Ko:this.addPopup(i,!0);break;case Core.Ge:this.removePopup(i,!0),this.hasPopup()||(Core.pageNavigator.getTopPage().visible=!0,Core.globalStore.dispatchGlobal(Core.Zo));break;case Core.Uo:i.horizontalCenter?i.horizontalCenter:0,i.verticalCenter?i.verticalCenter:0;this.addPopup(i.popup,i.isShape?i.isShape:!1,i.horizontalCenter,i.verticalCenter);break;case l.Yh:this.topNavBar.visible=i;break;case l.oh:this.topNavBar.visible=l.RootPageStore.instance.isInPlaza,this.setPlatform(i);break;case l.nt:l.RootPageStore.instance.isInLiveGame||l.RootPageStore.instance.isInVIPGame||this.warnNotifyView.showMsgKey("PCPlaza.common.quit_fail");break;case VideoGameCore.dc:this.warnNotifyView.showMsgKey("PCPlaza.notice.exculsive");break;case VideoGameCore.pn:var h="PCPlaza.common.enter_game_fail";switch(i){case VideoGameCore.ERROR_CODE.VIP_RESERVED:h="PCPlaza.error.msg_36";break;case VideoGameCore.ERROR_CODE.VIP_INVALID_PASSWORD:h="PCPlaza.error.msg_3";break;case VideoGameCore.ERROR_CODE.VIP_NOT_RESERVED:case VideoGameCore.ERROR_CODE.NO_TABLE_AVAILABLE:h="PCPlaza.error.msg_"+i;break;case VideoGameCore.ERROR_CODE.NO_SEAT_AVAILABLE:h="PCPlaza.error.msg_72"}this.warnNotifyView.showMsgKey(h),l.RootPageStore.instance.backLobby(),this.leftNavBar.enabled=!0;break;case VideoGameCore.Wn:this.warnNotifyView.showMsgKey("PCPlaza.notice.all_leave_table_warning"),l.RootPageStore.instance.backLobby();break;case VideoGameCore.sh:this.ledNoMoneyPopup.show(i.amount,i.vid,i.enterEnabled,i.isVisit);break;case VideoGameCore.cc:this.passwordPopup.show(i.vid,i.loginType);break;case VideoGameCore.ni:var u=new l.PopupBoard("PCPlaza.common.duplicate_login_warning",["PCPlaza.common.confirm"]);u.mainBtnSkinName="PCPlaza.ConfirmButtonSkin",u.btnSkinNameArray=["PCPlaza.ConfirmButtonSkin"],u.skinName="PCPlaza.DuplicateLoginPopupSkin",u.btnGrp.scaleX=1.5,u.btnGrp.scaleY=1.5,u.addEventListener(eui.ItemTapEvent.ITEM_TAP,function(t){l.RootPageStore.instance.backLogin()},this),Core.globalStore.dispatchGlobal(Core.Ko,u);break;case VideoGameCore.oe:var c=new l.PopupBoard("PCPlaza.common.game_socket_die",["PCPlaza.common.confirm"]);c.mainBtnSkinName="PCPlaza.ConfirmButtonSkin",c.btnSkinNameArray=["PCPlaza.ConfirmButtonSkin"],c.skinName="PCPlaza.DuplicateLoginPopupSkin",c.btnGrp.scaleX=1.5,c.btnGrp.scaleY=1.5,c.addEventListener(eui.ItemTapEvent.ITEM_TAP,function(t){r.curGameSocketDiePopup=null,l.RootPageStore.instance.backLobby()},this),this.curGameSocketDiePopup=c,Core.globalStore.dispatchGlobal(Core.Ko,c);break;case VideoGameCore.lc:if(l.RootPageStore.instance.isInPlaza&&""!=i||this.curGameSocketDiePopup&&""!=i){this.curGameSocketDiePopup&&this.curGameSocketDiePopup.dismiss(),this.curGameSocketDiePopup=null;var a=0,o=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(i);o.gmtype===VideoGameCore.GAME_BJ&&(a=2),l.RootPageStore.instance.enterGameByVid(i,a)}break;case l.qh:i?l.LoadingView.show(l.qh,this):l.LoadingView.hide(l.qh);break;case Core.su:i?l.LoadingView.show(l.qh,this):l.LoadingView.hide(l.qh);break;case l.Jh:this.exitPlazaPopup.show();break;case VideoGameCore.vc:if(i)switch(i.serviceKey){case 0:var f=[];l.checkPCEvent()&&(f=PCEvent.EventStore.instance.getBetHistoryNav()),Core.globalStore.dispatchGlobal(Core.Ko,new l.BetHistoryPopup(i.initPageKey,f))}break;case VideoGameCore.Fo:this.leftNavBar.enabled=!1;break;case VideoGameCore.zn:this.leftNavBar.enabled=!0;break;case Core.No:l.RootPageStore.instance.isInPlaza?l.RootPageStore.instance.changeGame(i.gmtype):i.callbackObject&&Core.callCallback(i.callbackObject);break;case Core.Do:this.payoutMeVid=l.RootPageStore.instance.isInLiveGame?VideoGameCore.GAME_LIVE:l.RootPageStore.instance.vid,this.changeGameType=i;break;case VideoGameCore.g:this.payoutMeVid&&this.payoutMeVid===i&&""!==this.changeGameType&&(console.warn("payout Me over change game",this.payoutMeVid,this.changeGameType),l.RootPageStore.instance.changeGame(this.changeGameType),this.payoutMeVid="",this.changeGameType="");break;case VideoGameCore.Gc:var C=VideoGameCore.VideoPlazaStore.instance.getPlazaMtStatus(this.curPlatform);null==C||1!=C.status||l.RootPageStore.instance.isInPlaza||this.maintainPopup.show(C.endTime)}},t.prototype.initRoomListPage=function(t){this.roomListPage||(this.roomListPage=new l.RoomListPage(t))},t.prototype.setPlatform=function(t){if(this.isPlatform(t)&&this.curPlatform!==t){var e=this.curPlatform;this.curPlatform=t,t===VideoGameCore.PLATFORM_SPECIAL?(this.pageNavigator.changePage(new l.RoomSpecialPage),this.roomListPage=null):e===VideoGameCore.PLATFORM_SPECIAL?(this.initRoomListPage(t),this.pageNavigator.changePage(this.roomListPage)):this.roomListPage?this.roomListPage.setPlatform(t):(this.roomListPage=new l.RoomListPage(t),this.pageNavigator.changePage(this.roomListPage))}else null==Core.pageNavigator.getTopPage()&&(this.initRoomListPage(this.getFirstNormalPlatform()),this.pageNavigator.changePage(this.roomListPage))},t.prototype.isPlatform=function(t){return VideoGameCore.PLATFORM_LIST.indexOf(t)>=0},t.prototype.getFirstNormalPlatform=function(){for(var t=VideoGameCore.PCPlazaConfig.instance.navList,e=0;e<t.length;e++){var i=t[e];if(this.isPlatform(i)&&i!==VideoGameCore.PLATFORM_SPECIAL)return i}return null},t.prototype.onReleaseRefs=function(){this.roomListPage&&!this.roomListPage.parent&&Core.releaseAllChildren(this.roomListPage),this.warnNotifyView&&!this.warnNotifyView.parent&&Core.releaseAllChildren(this.warnNotifyView)},t}(Core.PCPageBase);l.PlazaRootPage=t,__reflect(t.prototype,"PCPlaza.PlazaRootPage")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(r){function t(){var t=r.call(this)||this;return t.skinName="PCPlaza.RoomInfoViewSkin",t}return __extends(t,r),t.prototype.getBetStore=function(){return VideoGameCore.Abac.BetTableStore.instance},t.prototype.getRoomTimerStore=function(){return VideoGameCore.Abac.RoomTimerStore.instance},t.prototype.getBetLimit=function(){var t=VideoGameCore.UserStore.instance,e=VideoGameCore.Abac.AbacStore.instance;return t.getBetLimitByPlayType(VideoGameCore.PLAYTYPE_BANKER,e.tableCode,e.loginType,e.vid)},t.prototype.getStoreList=function(){var t=r.prototype.getStoreList.call(this);return t.push(VideoGameCore.Abac.AbacStore.instance),t},t.prototype.onStoreChange=function(t,e,i){switch(r.prototype.onStoreChange.call(this,t,e,i),e){case VideoGameCore.de:this.updateLimit()}},t}(t.RoomInfoViewBase);t.RoomInfoViewAbac=e,__reflect(e.prototype,"PCPlaza.RoomInfoViewAbac")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.RoomInfoViewSkin",t}return __extends(t,e),t.prototype.getBetStore=function(){return VideoGameCore.BetTableStore.instance},t.prototype.getRoomTimerStore=function(){return VideoGameCore.RoomTimerStore.instance},t}(t.RoomInfoViewBase);t.RoomInfoViewBac=e,__reflect(e.prototype,"PCPlaza.RoomInfoViewBac")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.RoomInfoViewSkin",t}return __extends(t,e),t.prototype.getBetStore=function(){return VideoGameCore.Bj.BetTableStore.instance},t.prototype.getRoomTimerStore=function(){return VideoGameCore.Bj.RoomTimerStore.instance},t.prototype.getBetLimit=function(){var t=VideoGameCore.UserStore.instance;return t.getBetLimitByPlayType(VideoGameCore.PLAYTYPE_BJ_ANTE)},t}(t.RoomInfoViewBase);t.RoomInfoViewBj=e,__reflect(e.prototype,"PCPlaza.RoomInfoViewBj")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.RoomInfoViewSkin",t}return __extends(t,e),t.prototype.getBetStore=function(){return VideoGameCore.Cbac.BetTableStore.instance},t.prototype.getRoomTimerStore=function(){return VideoGameCore.Cbac.RoomTimerStore.instance},t.prototype.getBetLimit=function(){var t=VideoGameCore.UserStore.instance,e=VideoGameCore.Cbac.CbacStore.instance;return t.getBetLimitByPlayType(VideoGameCore.PLAYTYPE_BANKER,e.tableCode,e.loginType,e.vid)},t}(t.RoomInfoViewBase);t.RoomInfoViewCbac=e,__reflect(e.prototype,"PCPlaza.RoomInfoViewCbac")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.RoomInfoViewSkin",t}return __extends(t,e),t.prototype.getBetStore=function(){return VideoGameCore.Dt.BetTableStore.instance},t.prototype.getRoomTimerStore=function(){return VideoGameCore.Dt.RoomTimerStore.instance},t.prototype.getBetLimit=function(){var t=VideoGameCore.UserStore.instance;return t.getBetLimitByPlayType(VideoGameCore.PLAYTYPE_DRAGON,VideoGameCore.DtStore.instance.tableCode)},t}(t.RoomInfoViewBase);t.RoomInfoViewDt=e,__reflect(e.prototype,"PCPlaza.RoomInfoViewDt")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.RoomInfoViewSkin",t}return __extends(t,e),t.prototype.getBetStore=function(){return VideoGameCore.Rou.BetTableStore.instance},t.prototype.getRoomTimerStore=function(){return VideoGameCore.Rou.RoomTimerStore.instance},t.prototype.getBetLimit=function(){var t=VideoGameCore.UserStore.instance;return t.getBetLimitByPlayType(VideoGameCore.PLAYTYPE_ROU_BIG,VideoGameCore.Rou.RouStore.instance.tableCode)},t}(t.RoomInfoViewBase);t.RoomInfoViewRou=e,__reflect(e.prototype,"PCPlaza.RoomInfoViewRou")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.RoomInfoViewSkin",t}return __extends(t,e),t.prototype.getBetStore=function(){return VideoGameCore.Sbac.BetTableStore.instance},t.prototype.getRoomTimerStore=function(){return VideoGameCore.Sbac.RoomTimerStore.instance},t.prototype.getBetLimit=function(){var t=VideoGameCore.UserStore.instance;return t.getBetLimitByPlayType(VideoGameCore.PLAYTYPE_BANKER,VideoGameCore.Sbac.SbacStore.instance.tableCode)},t}(t.RoomInfoViewBase);t.RoomInfoViewSbac=e,__reflect(e.prototype,"PCPlaza.RoomInfoViewSbac")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.RoomInfoViewSkin",t}return __extends(t,e),t.prototype.getBetStore=function(){return VideoGameCore.Shb.BetTableStore.instance},t.prototype.getRoomTimerStore=function(){return VideoGameCore.Shb.RoomTimerStore.instance},t.prototype.getBetLimit=function(){var t=VideoGameCore.UserStore.instance;return t.getBetLimitByPlayType(VideoGameCore.PLAYTYPE_SHB_BIG,VideoGameCore.Shb.ShbStore.instance.tableCode)},t}(t.RoomInfoViewBase);t.RoomInfoViewShb=e,__reflect(e.prototype,"PCPlaza.RoomInfoViewShb")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(r){function t(){var t=r.call(this)||this;return t.skinName="PCPlaza.RoomInfoViewSkin",t}return __extends(t,r),t.prototype.getBetStore=function(){return VideoGameCore.Zjh.BetTableStore.instance},t.prototype.getRoomTimerStore=function(){return VideoGameCore.Zjh.RoomTimerStore.instance},t.prototype.getBetLimit=function(){var t=VideoGameCore.UserStore.instance;return t.getBetLimitByPlayType(VideoGameCore.PLAYTYPE_ZJH_DRAGON)},t.prototype.onStoreChange=function(t,e,i){switch(r.prototype.onStoreChange.call(this,t,e,i),e){case VideoGameCore.k:Core.NonstopTimer.instance.setTimeout(this.updateTotalBet,this,3e3)}},t.prototype.onGameTablePool=function(){0!=VideoGameCore.Zjh.RoomTimerStore.instance.gameStatus&&this.updateTotalBet()},t}(t.RoomInfoViewBase);t.RoomInfoViewZjh=e,__reflect(e.prototype,"PCPlaza.RoomInfoViewZjh")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.ServiceTabBtnSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveFromStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){t.textLabels.set(this.textLabel.hashCode,this.textLabel)},t.prototype.onRemoveFromStage=function(){t.textLabels["delete"](this.textLabel.hashCode)},t.prototype.dataChanged=function(){this.icon.source=this.data.icon,this.textLabel.localeKey=this.data.nameKey,this.textLabel.refresh()},t.prototype.onMouseOver=function(){this.selected||(this.skin.hasState("over")?this.skin.currentState="over":this.skin.currentState="down")},t.prototype.onMouseOut=function(){this.selected||(this.skin.currentState="up")},t.textLabels=new Core.ArrayMap,t}(eui.ItemRenderer);t.ServiceTabBtn=e,__reflect(e.prototype,"PCPlaza.ServiceTabBtn")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(n){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="PCPlaza.TopNavBarSkin",t.initialBGM(),t.soundBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onSoundClick,t),t.soundOffBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onSoundClick,t),t.serviceBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onServiceBtnClick,t),t.settingBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onSettingBtnClick,t),t.fullScreenBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onFullScreenBtnClick,t),t.exitBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){Core.globalStore.dispatchGlobal(n.Jh)},t),t.serviceListGrp.addEventListener(Core.EVENT_TOUCH_OUTSIDE,t.closeAllList,t),t.serviceData=new eui.ArrayCollection,t.serviceList.dataProvider=t.serviceData,t.serviceList.itemRenderer=n.ServiceTabBtn,t.serviceList.addEventListener(eui.ItemTapEvent.ITEM_TAP,t.onServiceItemTap,t),t.closeAllList(),t}return __extends(t,e),t.prototype.fullScreenChange=function(){n.RootPageStore.instance.isFullScreen?(this.fullScreenBtn.mouseLocaleKey="PCPlaza.nav.window",this.fullScreenBtn.skinName='<?xml version="1.0" encoding="utf-8" ?><e:Skin states="up,down,disabled" xmlns:e="http://ns.egret.com/eui"><e:Image width="100%" height="100%" source="nav_asset_json.windowed" source.down="nav_asset_json.windowed_over"/><e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/> </e:Skin>'):(this.fullScreenBtn.mouseLocaleKey="PCPlaza.nav.full_screen",this.fullScreenBtn.skinName='<?xml version="1.0" encoding="utf-8" ?><e:Skin states="up,down,disabled" xmlns:e="http://ns.egret.com/eui"><e:Image width="100%" height="100%" source="nav_asset_json.full_screen" source.down="nav_asset_json.full_screen_over"/><e:Label id="labelDisplay" horizontalCenter="0" verticalCenter="0"/> </e:Skin>'),this.fullScreenBtn.refresh()},t.prototype.onSoundClick=function(){1==this.soundBtn.visible&&0==this.soundOffBtn.visible?(VideoGameCore.SettingStore.instance.setGlobalBGMEnable(!1),VideoGameCore.SettingStore.instance.setBGMEnable(!1)):0==this.soundBtn.visible&&1==this.soundOffBtn.visible&&(VideoGameCore.SettingStore.instance.setGlobalBGMEnable(!0),VideoGameCore.SettingStore.instance.setBGMEnable(!0))},t.prototype.onSoundUpdate=function(){VideoGameCore.SettingStore.instance.getBGMEnable()?(n.soundBGM(),this.soundBtn.visible=!0,this.soundOffBtn.visible=!1):(n.stopBGM(),this.soundBtn.visible=!1,this.soundOffBtn.visible=!0)},t.prototype.onSoundLedUpdate=function(){VideoGameCore.SettingStore.instance.getBGMEnable()?(this.soundBtn.visible=!0,this.soundOffBtn.visible=!1):(this.soundBtn.visible=!1,this.soundOffBtn.visible=!0)},t.prototype.onServiceBtnClick=function(){if(!this.serviceListGrp.visible){var e=28;n.ServiceTabBtn.textLabels.forEach(function(t){t&&t.size<e&&(e=t.size)},this),n.ServiceTabBtn.textLabels.forEach(function(t){t&&(t.size=e)},this),this.serviceListGrp.visible=!0,this.serviceList.selectedIndex=-1}},t.prototype.onServiceItemTap=function(t){n.RootPageStore.instance.onServiceItemTap(t.itemRenderer.data.nameKey),this.serviceListGrp.visible=!1},t.prototype.onSettingBtnClick=function(){Core.pageNavigator.getTopPage().hasPopup(n.BetHistoryReplayPopup)&&Core.globalStore.dispatchGlobal(n.ve),Core.pageNavigator.getTopPage().hasPopup(n.SettingPopup)||Core.pageNavigator.getTopPage().addPopup(new n.SettingPopup(""),!0)},t.prototype.onFullScreenBtnClick=function(){n.RootPageStore.instance.toggleFullScreen()},t.prototype.closeAllList=function(){this.serviceListGrp.visible=!1},t.prototype.getStoreList=function(){return[n.RootPageStore.instance,VideoGameCore.SettingStore.instance]},t.prototype.onStoreChange=function(t,e,i){switch(e){case Core.t:var r=[],s=VideoGameCore.PCPlazaConfig.instance.services;s.cs&&r.push({nameKey:"PCPlaza.nav.service_contacts",icon:"nav_asset_json.subPanel_service"}),s.record&&r.push({nameKey:"PCPlaza.nav.service_records",icon:"nav_asset_json.subPanel_record"}),s.rules&&r.push({nameKey:"PCPlaza.nav.service_rules",icon:"nav_asset_json.subPanel_rules"}),s.password&&r.push({nameKey:"PCPlaza.nav.service_password",icon:"nav_asset_json.subPanel_password"}),this.serviceData.replaceAll(r),VideoGameCore.PCPlazaConfig.instance.canQuit||null==this.exitBtn.stage||this.exitBtn.parent.removeChild(this.exitBtn),this.topLogo.source=n.getLobbyLogo(),0==VideoGameCore.PCPlazaConfig.instance.showFullScreenIcon&&this.fullScreenBtn.parent.removeChild(this.fullScreenBtn);break;case VideoGameCore._e:this.onSoundUpdate();break;case n.tt:this.fullScreenChange();break;case VideoGameCore.ge:this.onSoundLedUpdate()}},t.prototype.initialBGM=function(){var t;t=Core.StorageManager.instance.getItem(Core.LOCALKEY_BGM_SOUND),"0"==t?(this.soundOffBtn.visible=!0,this.soundBtn.visible=!1):"1"==t&&(this.soundOffBtn.visible=!1,this.soundBtn.visible=!0)},t}(Core.StoreView);n.TopNavBar=t,__reflect(t.prototype,"PCPlaza.TopNavBar")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(a){var t=function(e){function r(){var t=e.call(this)||this;return t.isFullScreen=!1,t.platform="",t.vid="",t.rulesDefaultParams=null,t.backLobbyLock=!1,t.isChatEnabled=!1,document.addEventListener("webkitfullscreenchange",function(){t.fullScreenChange()}),document.addEventListener("mozfullscreenchange",function(){t.fullScreenChange()}),document.addEventListener("fullscreenchange",function(){t.fullScreenChange()}),document.addEventListener("msfullscreenchange",function(){t.fullScreenChange()}),document.onwheel=t.onMouseWheel.bind(t),Core.globalStore.addActionListener(VideoGameCore.Tn,t.backLobby),t}return __extends(r,e),Object.defineProperty(r,"instance",{get:function(){return this.getInstance(this)},enumerable:!0,configurable:!0}),r.init=function(){return this.initInstance(this)},r.prototype.fullScreenChange=function(){this.isFullScreen?(this.isFullScreen=!1,this.dispatchAction(a.tt)):(this.isFullScreen=!0,this.dispatchAction(a.tt))},r.prototype.onServiceItemTap=function(t){switch(t){case"PCPlaza.nav.service_contacts":Core.openUrl(this.getUrlByMethod("cs"));break;case"PCPlaza.nav.service_records":this.openBetHistory();break;case"PCPlaza.nav.service_rules":var e=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.vid),i="INDEX";e&&(i=e.gmtype),this.openRulePage(i);break;case"PCPlaza.nav.service_password":Core.openUrl("https://"+Core.ExternalData.domainName+"/?loginname="+Core.LoginStore.instance.userName)}},r.prototype.openBetHistory=function(t){void 0===t&&(t=""),this.dispatchAction(VideoGameCore.vc,{serviceKey:0,initPageKey:t})},r.prototype.getUrlByMethod=function(t){var e=Date.now(),i="pid="+Core.ExternalData.pid+"@method="+t+"@loginname="+Core.LoginStore.instance.userName+"@stamp="+e+"@dm="+Core.ExternalData.domainName;return"../forwardPage.do?params="+i+"&key="+(new md5).hex_md5(i+"jhs#%!fde")},r.prototype.openRulePage=function(t){var e=VideoGameCore.LANG_RULE_LIST[Core.localizeStore.lang],i=VideoGameCore.RULE_INDEX_LIST[t];e||(e=VideoGameCore.LANG_RULE_LIST[Core.LANG_DEFAULT]);var r=new Date(Date.now()),s=this.rulesDefaultParams;if(!this.rulesDefaultParams){var n=[VideoGameCore.PLATFORM_DSP,VideoGameCore.PLATFORM_AGQ,VideoGameCore.PLATFORM_LED],o=-1!=n.indexOf(VideoGameCore.PLATFORM_LED),a=VideoGameCore.PCGameConfig.instance.hasDragonBonus(),h=VideoGameCore.PCGameConfig.instance.hasPairs(),u=VideoGameCore.RoomConfig.instance.getAllRoomInfoByFilter({gameType:[VideoGameCore.GAME_SBAC]}).length>0,c=VideoGameCore.RoomConfig.instance.getAllRoomInfoByFilter({gameType:[VideoGameCore.GAME_NN]}).length>0,f=VideoGameCore.RoomConfig.instance.getAllRoomInfoByFilter({gameType:[VideoGameCore.GAME_BJ]}).length>0,C=VideoGameCore.RoomConfig.instance.getAllRoomInfoByFilter({gameType:[VideoGameCore.GAME_ZJH]}).length>0;this.rulesDefaultParams={bid:o,bac_db:a,bac_pairs:h,bac_superSix:h,bac_in:u,nn:c,bj:f,zjh:C},s=this.rulesDefaultParams}s.stamp=Core.patternDate("yyMMdd",r)+"_"+Core.ExternalData.version+"_1",Core.openUrlWithProps(Core.urlWithParams(Core.ExternalData.ruleDomain+"new/"+e+"/"+i,s),"rules","status=0,toolbar=0,menubar=0,scrollbars=1,height=800,width=1200")},r.prototype.openLevelDescriptPage=function(){var t=Core.isChineseLang()?Core.localizeStore.lang:Core.LANG_EN,e=new Date(Date.now()),i=[];i.currency=VideoGameCore.VideoPlazaStore.instance.currencyCode,i.currencyRate=VideoGameCore.VideoPlazaStore.instance.currencyRate,i.stamp=Core.patternDate("yyMMdd",e)+"_"+Core.ExternalData.version+"_1",Core.openUrlWithProps(Core.urlWithParams(Core.ExternalData.ruleDomain+"userpoints/intro_"+Core.getConfigLang(t)+".html",i),"levelDescript","status=0,toolbar=0,menubar=0,scrollbars=1,height=700,width=1000")},r.prototype.toggleFullScreen=function(){Core.resetMouseCursor();var t=document.documentElement;this.isFullScreen?(t=document,t.cancelFullScreen?t.cancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.exitFullscreen&&t.exitFullscreen()):t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},r.prototype.setTopNavBarVisible=function(t){this.dispatchAction(a.Yh,t)},Object.defineProperty(r.prototype,"isInPlaza",{get:function(){return"PCPlaza"===Core.moduleNavigator.currentModuleName},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isInLiveGame",{get:function(){return this.platform==VideoGameCore.GAME_LIVE||this.platform==VideoGameCore.CONFIG_LIVE},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isInVIPGame",{get:function(){return"VIP"==this.platform},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isInEMAGame",{get:function(){return this.platform==VideoGameCore.PLATFORM_EMA},enumerable:!0,configurable:!0}),r.prototype.enterGameByVid=function(t,e){void 0===e&&(e=0);var i=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(t);i||this.enterGame(t,e),VideoGameCore.PLATFORM_LIST.indexOf(i.platformtype)>=0?this.enterGame(t,e):VideoGameCore.THIRD_GAME_LIST.indexOf(i.gmtype)>=0?VideoGameCore.ThirdGameStore.instance.loginGame(i.gmtype):i.gmtype===VideoGameCore.GAME_EGAMES?VideoGameCore.ThirdGameStore.instance.openURLByGameType(i.gmtype):this.changeGame(i.platformtype)},r.prototype.enterExculsiveTable=function(){this.dispatchAction(VideoGameCore.dc)},r.prototype.enterGameWithPassword=function(t,e,i){void 0===e&&(e=0),this.enterGame(t,e,{password:i})},r.prototype.enterGame=function(e,t,i){var r=this;void 0===i&&(i=null),Core.resetMouseCursor(),this.dispatchAction(a.qh,!0),this.dispatchAction(VideoGameCore.Fo);var s=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(e);s&&this.platform!=s.platformtype&&this.changePlatform(s.platformtype,!1);var n={};if(i)for(var o in i)n[o]=i[o];n.vid=e,n.keepPrevPage=!0,n.loginType=t,Core.moduleNavigator.changeModule(this.getModuleNameByVid(e),n,this.isInPlaza,function(t){r.dispatchAction(a.qh,!1),r.dispatchAction(VideoGameCore.zn),t===!1?r.dispatchAction(a.nt):null===t||(r.vid=e,r.setTopNavBarVisible(r.isInLiveGame))},this)},r.prototype.getModuleNameByVid=function(t){var e=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(t).gmtype;return Core.Config.ModuleConfig.instance.getModuleNameByGameType(e)},r.prototype.enterGameByGameType=function(e){var i=this,t=Core.Config.ModuleConfig.instance.getModuleNameByGameType(e);return null==t&&VideoGameCore.THIRD_GAME_LIST.indexOf(e)>=0?void VideoGameCore.ThirdGameStore.instance.loginGame(e):(this.dispatchAction(a.qh,!0),void Core.moduleNavigator.changeModule(t,null,this.isInPlaza,function(t){t&&(i.platform=i.getPlatformByGameType(e)),i.dispatchAction(a.qh,!1),t===!1?i.dispatchAction(a.nt):null===t||i.setTopNavBarVisible(i.isInLiveGame||i.platform==VideoGameCore.PLATFORM_EMA)},this))},r.prototype.getPlatformByGameType=function(t){switch(t){case VideoGameCore.GAME_LIVE:return VideoGameCore.CONFIG_LIVE;case VideoGameCore.GAME_SPORT:return VideoGameCore.CONFIG_SPORT;case VideoGameCore.GAME_FISH:return VideoGameCore.CONFIG_FISH;case VideoGameCore.GAME_EGAMES:return VideoGameCore.CONFIG_EGAMES;case VideoGameCore.GAME_COMP:return VideoGameCore.PLATFORM_COMP}return t},r.prototype.backLogin=function(){Core.quit()},r.prototype.backLobby=function(){var i=this;this.dispatchAction(VideoGameCore.zn),this.backLobbyLock||(this.backLobbyLock=!0,this.isInPlaza?this.backLobbyLock=!1:Core.ModuleNavigator.instance.popModule(function(t){if(r.instance.setTopNavBarVisible(t),i.backLobbyLock=!1,t===!1)i.dispatchAction(a.nt);else if(null===t);else{a.forceCloseSwitchTab();var e=Core.pageNavigator.getTopPage();e instanceof a.RoomListPage?i.platform=e.curPlatform:e instanceof a.RoomSpecialPage&&(i.platform=VideoGameCore.PLATFORM_SPECIAL),""==i.vid&&i.dispatchAction(a.oh,i.platform),i.vid="",i.dispatchAction(a.ii)}}))},r.prototype.changeGame=function(e){var i=this;e=this.corfirmGameType(e),this.isInPlaza&&!this.isInEMAGame?this.enterGameByGameType(e):Core.ModuleNavigator.instance.popModule(function(t){t?i.enterGameByGameType(e):null===t||i.dispatchAction(a.nt)},this,this.allowBuildList(e))},r.prototype.allowBuildList=function(t){switch(t){case VideoGameCore.GAME_LINK:case VideoGameCore.GAME_LIVE:case VideoGameCore.GAME_COMP:case VideoGameCore.GAME_THIRD:return!1}return!0},r.prototype.corfirmGameType=function(t){return VideoGameCore.PCPlazaConfig.instance.getGameType(t)},r.prototype.changePlatform=function(e,t){var i=this;void 0===t&&(t=!0),!t||this.isInPlaza&&!this.isInEMAGame?(this.platform=e,this.vid="",this.dispatchAction(a.oh,e)):Core.ModuleNavigator.instance.popModule(function(t){t?(i.platform=e,i.vid="",i.dispatchAction(a.oh,e)):null===t||i.dispatchAction(a.nt)},this)},r.prototype.updateProfileIcon=function(){this.dispatchAction(VideoGameCore.ke)},r.prototype.onMouseWheel=function(t){this.dispatchEventWith(a.EVENT_MOUSE_WHEEL,!0,t)},r.prototype.setVideo=function(t,e){if(void 0===e&&(e=VideoGameCore.DEFAULT_ROOT_ID),t){var i=VideoGameCore.VideoFactory.instance.getVideoStoreById(e);i.isOpen&&VideoGameCore.VideoFactory.instance.stopPlayer(e);var r=VideoGameCore.StreamConfig.instance.getKey(t,egret.OrientationMode.LANDSCAPE),s=VideoGameCore.StreamConfig.instance.getStreamLineList(r),n=VideoGameCore.VideoPlazaStore.instance.getLiveStreamParamsByVid(t);if(s){var o=new Array,a=i.isHD?"2":"1";s.forEach(function(t){var e={};t.url&&(e.url=(t.url+n).replace("{resolution}",a)),t.icon&&(e.hls=(t.icon+n).replace("{resolution}",a)),t.rtmp&&(e.rtmp=(t.rtmp+n).replace("{resolution}",a)),o.push(e)}),i.setLineHost(o),i.filePath={url:"",hls:"",rtmp:""},i.updateStreamList(),i.vid=t;var h=s[0].hasAudio?s[0].hasAudio:!0,u=h&&VideoGameCore.SettingStore.instance.getLiveSoundEnable();i.playerOptions={hasAudio:u}}i.isOpen=!0}},r}(Core.StoreBase);a.RootPageStore=t,__reflect(t.prototype,"PCPlaza.RootPageStore")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(n){var t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.refreshTable=function(){t.prototype.refreshTable.call(this),this.btnLayout&&(this.btnLayout.paddingLeft=this.btnLayout.paddingRight=(this.optionsGrp.width-this.enterBtn.width)/2)},e.prototype.updateRoomStatus=function(){var t=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.vid),e=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(t.platformtype,this.vid),i=VideoGameCore.PlazaRoadStore.instance.getVipVideoStatusInfo(this.vid);if(null!=i){var r=11==i.status;this.roomStatusGrp.visible=r,r&&(this.roomStatus.localeKey="PCPlaza.room.shuffle",this.roomStatus.refresh())}e&&(this.roomStatusGrp.visible=e,this.roomStatus.localeKey="PCPlaza.room.maintain",this.roomStatus.refresh()),this.isMaintain=e},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.optionsGrp.visible=!1,this.getTouchGrp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.tapOnTableItem,this),this.getTouchGrp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSelect,this),this.optionsGrp.addEventListener(Core.EVENT_TOUCH_OUTSIDE,this.closeOptionsGrp,this),this.enterBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.enterTable,this),this.sideBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.sideTable,this)},e.prototype.onSelect=function(t){this.refreshTable(),this.toggleOptionsGrp()},e.prototype.toggleOptionsGrp=function(){this.optionsGrp.visible?this.optionsGrp.visible=!1:this.positionGrp.visible||(this.optionsGrp.visible=!0,this.enableButton(),this.isMaintain?(this.sideBtn.visible=!1,this.enterBtn.visible=!1):(this.sideBtn.visible=!0,this.enterBtn.visible=!0))},e.prototype.closeOptionsGrp=function(){this.optionsGrp.visible&&(this.optionsGrp.visible=!1)},e.prototype.onTimerChange=function(){var t=VideoGameCore.PlazaRoadStore.instance.getVipVideoStatusInfo(this.vid),e=0;null!=t&&1===t.status&&(e=this.roomItemStore.timeout),this.timer.text=this.roomItemStore.timeout+"",this.timer.textColor=this.roomItemStore.timeout<=10?16711680:14327918},e.prototype.enableButton=function(){if(this.vid!==n.RootPageStore.instance.vid){var t=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.vid),e=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(t.platformtype,this.vid);if(!e){var i=VideoGameCore.VideoPlazaStore.instance.getVipVideoInfo(this.vid);i&&VideoGameCore.UserStore.instance.balance<i.minCredit&&(this.enterBtn.enabled=!1,this.enterBtn.currentState="disabled")}var r=VideoGameCore.VideoPlazaStore.instance.getLedSeatStatusInfo(this.vid),s=VideoGameCore.VideoPlazaStore.instance.getVipVideoInfo(this.vid);r&&s?0===r.playerNum?(s.canEnter?this.enterBtn.enabled=!0:this.enterBtn.enabled=!1,this.sideBtn.enabled=!1):r.playerNum<7?(s.canEnter?this.enterBtn.enabled=!0:this.enterBtn.enabled=!1,s.canVisit?this.sideBtn.enabled=!0:this.sideBtn.enabled=!1):(this.enterBtn.enabled=!1,s.canVisit?this.sideBtn.enabled=!0:this.sideBtn.enabled=!1):(this.enterBtn.enabled=!1,this.sideBtn.enabled=!1)}},e.prototype.enterTable=function(){if(this.vid!==n.RootPageStore.instance.vid){var t=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.vid),e=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(t.platformtype,this.vid);if(!e){var i=VideoGameCore.VideoPlazaStore.instance.getVipVideoInfo(this.vid);if(i){var r=VideoGameCore.VideoPlazaStore.instance.getLedSeatStatusInfo(this.vid);if(VideoGameCore.UserStore.instance.balance>=i.minCredit){if(i.canEnter&&r.playerNum<7&&!Core.LoginStore.instance.isDemoAc&&VideoGameCore.PCGameConfig.instance.ledConfig.canJoin)return void n.RootPageStore.instance.enterGameByVid(this.vid,2);VideoGameCore.Led.LedStore.instance?VideoGameCore.Led.LedStore.instance.fullPeople():this.notifyBox.showMsgKey("PCPlaza.led.msg3")}else this.enterBtn.enabled=!1,this.enterBtn.currentState="disabled"}}}},e.prototype.sideTable=function(){if(this.vid!==n.RootPageStore.instance.vid){var t=VideoGameCore.RoomConfig.instance.getRoomInfoByVid(this.vid),e=VideoGameCore.VideoPlazaStore.instance.getMaintainingStatus(t.platformtype,this.vid);if(!e){var i=VideoGameCore.VideoPlazaStore.instance.getVipVideoInfo(this.vid);if(i){var r=VideoGameCore.VideoPlazaStore.instance.getLedSeatStatusInfo(this.vid);0===r.playerNum?this.notifyBox.showMsgKey("PCPlaza.led.msg4"):n.RootPageStore.instance.enterGameByVid(this.vid,1)}}}},e}(n.BacTableItem);n.LbacTableItem=t,__reflect(t.prototype,"PCPlaza.LbacTableItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.skinName="PCPlaza.NnTableItemSkin",e}return __extends(t,i),t.prototype.setupRoadPaper=function(){this.dataSource=new eui.ArrayCollection,this.tableView.itemRenderer=e.NNTableSmallViewItemRenderer,this.tableView.dataProvider=this.dataSource},t.prototype.refreshTable=function(){var t=VideoGameCore.PlazaRoadStore.instance.getBullRoadData(this.vid,-3);this.dataSource.replaceAll(t)},t}(e.TableItem);e.NnTableItem=t,__reflect(t.prototype,"PCPlaza.NnTableItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.setupRoadPaper=function(){this.rouMainPaper||(this.rouMainPaper=new VideoGameCore.RoadPaper.RoadRouMainPaper(this.roadMapGrp.width,this.roadMapGrp.height,4),this.roadMapGrp.addChild(this.rouMainPaper))},e.prototype.refreshTable=function(){var t;if(t=VideoGameCore.PlazaRoadStore.instance.getRouRoadData(this.vid),t&&0!==t.roadData.length){var e=t.resultList;this.rouMainPaper.setListData(e,!0)}},e}(t.TableItem);t.RouTableItem=e,__reflect(e.prototype,"PCPlaza.RouTableItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(i){var t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.setupRoadPaper=function(){this.list||(this.list=new eui.List,this.list.width=233,this.list.height=150,this.list.itemRendererSkinName="PCPlaza.SHBListItemSkin",this.list.itemRenderer=i.SHBListItem,this.list.scaleX=this.roadMapGrp.width/this.list.width,this.list.scaleY=this.roadMapGrp.height/this.list.height,this.roadMapGrp.addChild(this.list),this.setDataList([]))},e.prototype.refreshTable=function(){var t;if(t=VideoGameCore.PlazaRoadStore.instance.getShbRoadData(this.vid)){var e=t.resultList;this.setDataList(e)}},e.prototype.setDataList=function(t){for(var e=t.slice(0);e.length>4;)e=e.slice(4);for(;e.length<4;)e.push({num1:0,num2:0,num3:0});this.list.dataProvider=new eui.ArrayCollection(e)},e}(i.TableItem);i.ShbTableItem=t,__reflect(t.prototype,"PCPlaza.ShbTableItem")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(s){var t=function(r){function t(){var t=r.call(this)||this;return t.skinName="PCPlaza.EmptySkin",t.width=172,t.height=144,t}return __extends(t,r),t.prototype.dataChanged=function(){r.prototype.dataChanged.call(this);var t=this.data;if(t){var e=VideoGameCore.RoomItemStore.storeVidMap.get(t),i=!1;if(this.tableItemView&&this.tableItemView.parent?this.tableItemView.checkSameViewData(e)||(this.removeChild(this.tableItemView),Core.releaseAllChildren(this.tableItemView),i=!0):i=!0,i){switch(e.gmtype){case VideoGameCore.GAME_BAC:case VideoGameCore.GAME_DT:case VideoGameCore.GAME_SBAC:case VideoGameCore.GAME_ZJH:this.tableItemView=new s.BacTableItem(e);break;case VideoGameCore.GAME_LBAC:case VideoGameCore.GAME_CBAC:case VideoGameCore.GAME_ABAC:this.tableItemView=new s.LbacTableItem(e);break;case VideoGameCore.GAME_NN:this.tableItemView=new s.NnTableItem(e);break;case VideoGameCore.GAME_ROU:this.tableItemView=new s.RouTableItem(e);break;case VideoGameCore.GAME_SHB:this.tableItemView=new s.ShbTableItem(e);break;default:console.error("missing "+e.gmtype)}this.tableItemView&&this.addChild(this.tableItemView)}}},t}(eui.ItemRenderer);s.TableItemContainer=t,__reflect(t.prototype,"PCPlaza.TableItemContainer")}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(){var t=i.call(this)||this;return t.displayNum=14,t.skinName="PCPlaza.DateDropDownMenuSkin",t.mainGrp.visible=!1,t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onTapThis,t),t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.listMain.addEventListener(egret.Event.CHANGE,t.onChangeList,t),t}return __extends(t,i),t.prototype.onInit=function(){for(var t=[],e=new Date,i=Core.getEATime(Core.LoginStore.instance.getCurServerTime()),r=0;r<this.displayNum;r++){var s=864e5*r,n=i-s;e.setTime(n),t.push({date:Core.patternDate("yyyy/MM/dd",e),time:n})}this.listMain.dataProvider=new eui.ArrayCollection(t),this.dataList=t},t.prototype.onTapThis=function(t){this.mainGrp.visible=!0},t.prototype.onAddToStage=function(){this.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this),this.onInit()},t.prototype.onRemoveFromStage=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTapStage,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)},t.prototype.onTapStage=function(t){t.target==this||this.contains(t.target)||(this.mainGrp.visible=!1)},t.prototype.onChangeList=function(){this.listMain.selectedIndex>=0&&(this.lblCurrent.text=this.dataList[this.listMain.selectedIndex].date,this.currentTime=this.dataList[this.listMain.selectedIndex].time),this.mainGrp.visible&&this.dispatchEventWith(egret.Event.CHANGE),this.mainGrp.visible=!1},t.prototype.setSelectIndex=function(t){this.listMain.selectedIndex=t,this.onChangeList()},t.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this)},t}(eui.Component);t.DateDropDownMenu=e,__reflect(e.prototype,"PCPlaza.DateDropDownMenu",["eui.UIComponent","egret.DisplayObject"])}(PCPlaza||(PCPlaza={}));var PCPlaza;!function(t){var e=function(i){function t(){var t=i.call(this)||this;return t.isMouseOver=!1,t.skinName="PCPlaza.DateDropDownMenuItemSkin",t.addEventListener(mouse.MouseEvent.MOUSE_OVER,t.onMouseOver,t),t.addEventListener(mouse.MouseEvent.MOUSE_OUT,t.onMouseOut,t),t}return __extends(t,i),t.prototype.onMouseOver=function(){this.isMouseOver=!0,this.updateFillColor()},t.prototype.onMouseOut=function(){this.isMouseOver=!1,this.updateFillColor()},t.prototype.updateFillColor=function(){this.bgRect.fillColor=this.isMouseOver?10592673:6908265,this.bgRect.strokeWeight=this.isMouseOver?2:1,this.bgRect.strokeColor=this.isMouseOver?11893060:4473924},t.prototype.updateSelectedFillColor=function(){this.bgRect.fillColor=3355443,this.bgRect.strokeWeight=1,this.bgRect.strokeColor=4473924},t.prototype.dataChanged=function(){this.updateFillColor()},t.prototype.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.updateFillColor()},t}(eui.ItemRenderer);t.DateDropDownMenuItem=e,__reflect(e.prototype,"PCPlaza.DateDropDownMenuItem")}(PCPlaza||(PCPlaza={}));