





<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>Asia Game VIP</title>
    <meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="full-screen" content="true"/>
    <meta name="screen-orientation" content="portrait"/>
    <meta name="x5-fullscreen" content="true"/>
    <meta name="360-fullscreen" content="true"/>
	<link rel="stylesheet" href="./resource/css/main.css">
    <style>
        html, body {
            -ms-touch-action: none;
            background: #000000;
            padding: 0;
            border: 0;
            margin: 0;
            height: 100%;	
            overflow: hidden;
			/*letter-spacing: 2px;*/
        }

		canvas {
			z-index: 99;
		}
		#StageDelegateDiv{
			z-index: 99;
		}
		.mejs__offscreen {
			display: none !important;
		}
		.mejs-container .mejs__layers {
			display: none !important;
		}
		.mejs-container .mejs-controls {
			display: none !important;
		}
		.egret-dom-container > div{
			overflow: hidden;
		}
    </style>
</head>

<body>
	<div id="IE10" style="visibility:hidden; color:#fff; position:absolute; top:0; left:0; height:100%; width:100%">
		<div class="content">
			<div class="IE10_img"></div>
			<div class="IE10_txt"></div>
			<a class="btnChrome" href="https://www.google.cn/chrome" target="_blank"></a>
			<a class="btnFlash" href="../fagingame"></a>
		</div>
	</div>
    <div id="main" style="margin: auto;width: 100%;height: 100%;" class="egret-player"
         data-entry-class="Core.Main"
         data-orientation="auto"
         data-scale-mode="showAll"
         data-frame-rate="30"
         data-content-width="1920"
         data-content-height="1080"
         data-show-paint-rect="true"
         data-multi-fingered="2"
         data-show-fps="false" data-show-log="false"
         data-show-fps-style="x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.9">
		 <div id="container">
		 	<div class="content">
		 		<div id="logo">
		 			<!--<img src="./resource/assets/ad.jpg" alt="">-->
		 		</div>
		 		<div>
		 			<div id="progress-container" style="display: block; height: 80px;">
						<div id="progress-bar">
							<div id="progress-ball"></div>
							<span id="inner-progress-bar" style="width: 0;"></span>
						</div>
						<div id="progress-text">
							<p id="text">
								数据加载中
								<span class="dotting"></span>
							</p>
						</div>					
					</div>
					<!--<div id="loading-text" style="height: 50px;">
					 	<div class="container">
							<h1>						
								<span>数</span>  
								<span>据</span>  
								<span>下</span>  
								<span>载</span>  
								<span>中</span>  
								<span>.</span>  
								<span>.</span>
								<span>.</span>
							</h1>	
					 	</div>
					</div>	-->
		 		</div>
		 	</div>
		</div>
	</div>	
	<script>
		var isIE10 = (navigator.userAgent.indexOf("MSIE") >= 0);
		if (isIE10) {
			document.getElementById("main").innerHTML = "";
			document.getElementById('IE10').style.visibility='visible'
		}
	</script>
    <!-- PROD環境用jsp填入pid和用戶名 -->
    <script src="./resource/config/pid/TST/index.config.js?t=1541341785068"></script>
	<script src="./resource/config/hosts/TST.config.js?t=1541341785068"></script>
	<script src="./resource/config/hosts/userhosts/TST.config.js?t=1541341785068"></script>
	<script src="./resource/config/pid/TST/preload.config.js?t=1541341785068"></script>
	<script>
        var fakeCurrProgress = 0;
		var internalProgress = 3;
		var fakeInternalHandle;
		var loginErrorCodeDetail = {};
        function getLang(){
            var lang = parseInt(""); 
            switch(lang) {
                case 1:         return "hans";      // 簡體中文     
                case 2:         return "hant";      // 繁體中文         
                case 3:         return "en";        // 英語       
                case 4:         return "ja";      // 日語       
                case 5:         return "ko";        // 韓語       
                case 6:         return "th";      // 泰文           
                case 7:         return "en";        // 西班牙文         
                case 8:         return "en";        // 越南文          
                case 9:         return "km";        // 柬埔寨語         
                case 10:        return "en";        // 老撾語  
                case 11:        return "id";        // 印尼語
                case 12:        return "en";        // 馬來西亞語
                case 13:        return "en";        // 西班牙文
                case 14:        return "en";        // 墨西哥文     
                case 15:        return "en";        // 德文           
                case 16:        return "en";        // 法文
                case 17:        return "en";        // 希臘文
                case 18:        return "en";        // 意大利文
                case 19:        return "en";        // 波蘭語
                case 20:        return "en";        // 俄語
                case 21:        return "en";        // 匈牙利語
                case 22:        return "en";        // 羅馬尼亞語
				case 23:        return "pt";        // 葡萄牙語
				case 24:        return "my";        // 緬甸語
                default:
                    return 'hans';
            }
        }
		function changeLoadingLang(lang){
			var loadStr ="";
			switch(lang){
				case "hans":
					loadStr = '数据加载中';
					break;
				case "hant":
					loadStr = '數據加載中';
					break;
				default:
					loadStr = 'loading';

			}
			if(document.getElementById('text')) document.getElementById('text').innerHTML = loadStr+'<span class="dotting"></span>';
		}

		function processLoginError(lang,code){
			var errmsg = "";
			switch(lang){
				case "hans": errmsg = '連接伺服器失敗, 請再試一次'; break;
				case "hant": errmsg = '连接伺服器失败, 请再试一次'; break;
				case "ko": errmsg = '연결에 실패하였습니다. 다시 시도해주십시요.'; break;
				case "ja": errmsg = 'サーバ接続失敗。再試行してください。'; break;
				case "th": errmsg = 'กำลังเชื่อมต่อล้มเหลว กรุณาลองใหม่อีกครั้ง'; break;
				case "id": errmsg = 'Sambungan gagal. Silahkan coba kembali'; break;
				case "vi": errmsg = 'Kết nối không được'; break;
				default: errmsg = 'Connection failed. Please try again.';
			}
			try{
				if(Core.AGWorker.DoForwardFetcher.instance.info && Core.AGWorker.DoForwardFetcher.instance.info != "0"){
					//Check Error
					errmsg += "<br/>" + Core.AGWorker.DoForwardFetcher.instance.msg;
					document.getElementById('text').innerHTML = errmsg;
					return;
				}
			}catch(e){}
			var res_name = "PCPlaza_"+lang+"_json";
			RES.getResAsync(res_name,function(data){
				errmsg += "<br/>" + data.error["msg_"+code];
				document.getElementById('text').innerHTML = errmsg;
			})
		}

		(function(){
			var preloadSrc = preloadConfig[getLang()];
			changeLoadingLang(getLang());
			if(!preloadSrc){
				preloadSrc = preloadConfig['default'];
			}
			if(document.getElementById('logo')) document.getElementById('logo').innerHTML = '<img src="'+ preloadSrc +'" alt="">';
            //動態加載文字
			changeLoadingLang(getLang());

			//虛擬進度條加載
			fakeInternalHandle = setInterval(function(){
				if(fakeCurrProgress > 0){
					if(document.getElementById("inner-progress-bar")){
						//console.log(document.getElementById("inner-progress-bar").style.width, fakeCurrProgress);
						if(Number(document.getElementById("inner-progress-bar").style.width.replace("px", "").replace("%", "")) < fakeCurrProgress){
							document.getElementById("inner-progress-bar").style.width = fakeCurrProgress+"%";
							document.getElementById("progress-ball").style.left = fakeCurrProgress+"%";
						}
					}
					// document.getElementById("text").innerHTML = fakeCurrProgress.toFixed(0)+"%";
				}
				fakeCurrProgress +=internalProgress;

				if(fakeCurrProgress+internalProgress >=100){
					clearInterval(fakeInternalHandle);
				}
			},500);
		})();
		if (window.addEventListener) {
			window.addEventListener("message", receiveMessage, false);
		}else {
			window.attachEvent("onmessage", receiveMessage);
		}
		function receiveMessage(event){
			var obj = event.data;
			try {
				if(typeof obj === 'string') {
					obj = JSON.parse(event.data);
				}
			}catch (e) {}
			if (obj.dir == "to_window") {
				// YOPLAY WMessenger
				switch(obj.type){
					case "balance_update":
						Core.ExternalData.updateBalance(obj.message)
						break;
					/*case "iframe_ready":
						callbackFlash("checkYoPlayReady");
						break;*/
				}
			}
		}
	</script>

    <!--这个标签为通过egret提供的第三方库的方式生成的 javascript 文件。删除 modules_files 标签后，库文件加载列表将不会变化，请谨慎操作！-->
    <!--modules_files_start-->
	<script egret="lib" src="libs/modules/promise/promise.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/axios/axios.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/cube-loader/cube-loader.min.js?v=6"></script>
<!--
	<script egret="lib" src="libs/modules/egret/egret.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/egret/egret.web.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/eui/eui.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/res/res.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/tween/tween.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/game/game.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/ajax/ajax.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/mouse/mouse.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/flvjs/flvjs.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/mediaelement/mediaelement.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/RequireJs/RequireJs.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/soundjs/soundjs.min.js?v=6"></script>
	<script egret="lib" src="libs/modules/gbk/gbk.min.js?v=6"></script>-->
	<!--modules_files_end-->

    <!--这个标签为不通过egret提供的第三方库的方式使用的 javascript 文件，请将这些文件放在libs下，但不要放在modules下面。-->
    

    <!--这个标签会被替换为项目中所有的 javascript 文件。删除 game_files 标签后，项目文件加载列表将不会变化，请谨慎操作！-->
    <!--game_files_start-->
	<!--<script egret="lib" src="main.min.js?t=1541341785068"></script>-->
	<!--game_files_end-->

    <script>
        /*Core.ExternalData.gcDataMap = new Core.HashMap({
			device:'PC',
            dnsapiEnabled:true,
            env:'PROD',
            pid:"TST",
			showSocketLog: false,
			isPcVersion: true,
			silentLoad:['GameBac', 'GameLed', 'GameZjh', 'GameLink'],
			version:'1.39',
            username:"",
            doForward:"",//'doForward.do',//
            lang:getLang(),
            directEnterId:"",
            dm:"",
            serverName:getServerName(),
            password:"",
            dnsConfig:'',
            ruleDomain:getServerName() + '/agingame/rules/',
			isRetina: false,
            // cdn:{
            //     subDomain:'v132/agingame',
            //     // domainList:['a.vdo17v.com', 'cdn.vdo17v.com', 'gc.vpcdn.com']
            //     domainList:['cdn.vdo17v.com', 'gc.vpcdn.com']
            // },
			vType: 0 // Default video Type, 1 rtmp first
        });*/

        /*!function(){
			var defaultConfig = {
				device: 'PC',
				env: 'PROD',
				isPcVersion: true,
				lang: getLang(),
				serverName: location.protocol + '//' + location.host,
				// All thing need to get from GC
				pid: 'TST',
				username: '',
				doForward: '',
				directEnterId: '',
				dm: ''
			}

			var indexConfig = window['indexConfig'] || {};
			for(key in indexConfig){
				if(!defaultConfig[key]){
					defaultConfig[key] = indexConfig[key];
				}
			}

			Core.ExternalData.gcDataMap = new Core.HashMap(defaultConfig);
		}();*/

        function ExternalProgress(evt, data) {
			if(evt == "prepare") {
				var divProgressContainer =  document.getElementById("progress-container");
				if(divProgressContainer){
					divProgressContainer.style.display = "block";
				}
			} else if(evt == "complete") {
				document.getElementById("container").style.display = "none";
			} else if(evt == "loginError" || evt == "plazaError"){
				processLoginError(getLang(),data);
			} else {//onprogress
				if(data) {
					clearInterval(fakeInternalHandle);
					var divProgressContainer =  document.getElementById("progress-container");
					if(divProgressContainer){
						divProgressContainer.style.display = "block";
					}
					
					var percent = parseFloat(data)*100;
					if(percent<fakeCurrProgress)return;
					var divProgressBar = document.getElementById("inner-progress-bar");
					if(divProgressBar){
						if(Number(document.getElementById("inner-progress-bar").style.width.replace("px", "").replace("%", "")) < percent){
							divProgressBar.style.width = percent+"%";
							document.getElementById("progress-ball").style.left = percent+"%";
						}
					}
				}
				
			}		    
		}
    </script>
	
    <script>
        /**
         * {
         * "renderMode":, //引擎渲染模式，"canvas" 或者 "webgl"
         * "audioType": "" //使用的音频类型，0:默认，1:qq audio，2:web audio，3:audio
         * "antialias": //WebGL模式下是否开启抗锯齿，true:开启，false:关闭，默认为false
         * }
         **/
		var domainList = [];
		if(indexConfig.cdn.enabled){
			domainList = indexConfig.cdn.domainList.slice();
			// 對應沒有寫 'http://' 'https://' 的domain, 補上 '//'
			for (let i = 0; i < domainList.length; i++) {
				let domain = domainList[i];
				if (!(/^https{0,1}\:/.test(domain))) {
					domainList[i] = "//" + domain;
				}
				domainList[i] += ("/" + indexConfig.cdn.subDomain + "/");
			}
		}
		var cubeLoader;
		setupCubeLoader(domainList, 20000, (domainList.length == 0) ? 1 : domainList.length).then(function(loader){
			window.dclib = function dclib(){
    			console.log.apply(console, arguments);
			}
			cubeLoader = loader;
			return loader.load('Core')
		}).then(function(){
			var defaultConfig = {
				device: 'PC',
				env: 'PROD',
				isPcVersion: true,
				lang: getLang(),
				serverName: location.protocol + '//' + location.host,
				// All thing need to get from GC
				pid: 'TST',
				username: '',
				doForward: '',
				directEnterId: '',
				dm: '',
				userIp: '114.244.245.84'
			}

			var indexConfig = window['indexConfig'] || {};
			for(key in indexConfig){
				if(!defaultConfig[key]){
					defaultConfig[key] = indexConfig[key];
				}
			}
			Core.ExternalData.gcDataMap = new Core.HashMap(defaultConfig);
			/*** Check Mac ***/
			var isMac = (navigator.platform.toUpperCase().indexOf('MAC') >= 0 || navigator.userAgent.indexOf('Mac OS X') != -1);
			if(isMac) document.querySelector('.egret-player').setAttribute('data-show-paint-rect', 'false');
			/*** Check Mac ***/
			if (!isIE10) {
				egret.runEgret({renderMode:"canvas", audioType:0});
				document.querySelector(".egret-player canvas").setAttribute("orgin-clean", false);
			}
			var startTime = new Date().getTime();
			Core.ExternalData.startTime = startTime;
		});
    </script>
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120374581-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];

		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-120374581-1');
	</script>
</body>
</html>